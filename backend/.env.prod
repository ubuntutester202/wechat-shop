# ========================================
# 生产环境配置文件 (.env.prod)
# ========================================
# 此文件用于生产环境部署，包含所有必要的环境变量
# 警告：此文件包含敏感信息，绝对不能提交到版本控制系统
# 生产环境部署时需要单独配置，确保安全性

# ========================================
# PostgreSQL 数据库配置
# ========================================
# 这些变量被 docker-compose.yml 中的 'postgres' 服务使用
# 生产环境必须使用强密码和独立的数据库
POSTGRES_USER=user201                    # 数据库用户名
POSTGRES_PASSWORD=aHgdVBNfefd            # 数据库密码（生产环境需要更强的密码）
POSTGRES_DB=wechat_shop_prod             # 生产数据库名称（与开发环境区分）

# ========================================
# NestJS 应用配置
# ========================================
# 应用运行环境
NODE_ENV=production                      # 运行模式：production（启用优化和安全特性）

# 应用端口配置
PORT=3000                               # NestJS 应用监听端口

# ========================================
# Prisma 数据库连接
# ========================================
# Prisma ORM 使用的数据库连接字符串
# 格式：postgresql://用户名:密码@主机:端口/数据库名?schema=模式名
# 注意：生产环境可能需要使用外部数据库服务的连接字符串
DATABASE_URL="postgresql://user201:aHgdVBNfefd@postgres:5432/wechat_shop_prod?schema=public"

# ========================================
# JWT 认证配置（必需）
# ========================================
# 生产环境必须配置强密钥
JWT_SECRET=super-secure-production-jwt-key-change-this  # JWT 签名密钥（必须更改为随机强密钥）
JWT_EXPIRES_IN=7d                       # JWT 过期时间

# ========================================
# 微信小程序配置（必需）
# ========================================
# 生产环境的微信小程序配置
WECHAT_APP_ID=your-production-wechat-app-id     # 微信小程序 AppID
WECHAT_APP_SECRET=your-production-app-secret    # 微信小程序 AppSecret

# ========================================
# 生产环境安全配置
# ========================================
# 日志配置
LOG_LEVEL=error                         # 日志级别（生产环境建议 error 或 warn）
ENABLE_DEBUG_LOG=false                  # 生产环境禁用调试日志

# 安全配置
# CORS_ORIGIN=https://your-domain.com     # 前端应用域名（用于 CORS 配置）
# RATE_LIMIT_MAX=100                      # API 速率限制
# RATE_LIMIT_WINDOW=15                    # 速率限制时间窗口（分钟）

# ========================================
# 监控和性能配置
# ========================================
# SENTRY_DSN=your-sentry-dsn              # Sentry 错误监控
# REDIS_URL=redis://redis:6379            # Redis 缓存服务
# DATABASE_POOL_SIZE=10                   # 数据库连接池大小