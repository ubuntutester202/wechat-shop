{"version":3,"file":"OrderListPage-HSCuEYuS.js","sources":["../../src/components/ui/OrderCard.tsx","../../src/pages/order/OrderListPage.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n/**\r\n * 订单状态映射\r\n */\r\nconst statusMap = {\r\n  pending: { label: \"待付款\", color: \"text-orange-600 bg-orange-50\" },\r\n  paid: { label: \"待发货\", color: \"text-blue-600 bg-blue-50\" },\r\n  shipped: { label: \"待收货\", color: \"text-green-600 bg-green-50\" },\r\n  delivered: { label: \"已完成\", color: \"text-gray-600 bg-gray-50\" },\r\n  cancelled: { label: \"已取消\", color: \"text-red-600 bg-red-50\" },\r\n};\r\n\r\n/**\r\n * 订单数据类型定义\r\n */\r\nexport interface Order {\r\n  id: string;\r\n  orderNumber: string;\r\n  status: \"pending\" | \"paid\" | \"shipped\" | \"delivered\" | \"cancelled\";\r\n  items: Array<{\r\n    productId: string;\r\n    name: string;\r\n    image: string;\r\n    quantity: number;\r\n    price: number;\r\n    selectedVariants: { [key: string]: string };\r\n  }>;\r\n  address: {\r\n    name: string;\r\n    phone: string;\r\n    province: string;\r\n    city: string;\r\n    district: string;\r\n    detail: string;\r\n  };\r\n  payment: {\r\n    method: string;\r\n    amount: number;\r\n    paidAt?: string;\r\n  };\r\n  shipping: {\r\n    method: string;\r\n    fee: number;\r\n    trackingNumber?: string;\r\n  };\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\ninterface OrderCardProps {\r\n  order: Order;\r\n  onClick?: (order: Order) => void;\r\n}\r\n\r\n/**\r\n * 订单卡片组件\r\n * 显示订单基本信息和第一个商品，支持点击跳转详情\r\n */\r\nconst OrderCard: React.FC<OrderCardProps> = ({ order, onClick }) => {\r\n  const navigate = useNavigate();\r\n\r\n  // 处理卡片点击\r\n  const handleCardClick = () => {\r\n    if (onClick) {\r\n      onClick(order);\r\n    } else {\r\n      navigate(`/orders/${order.id}`);\r\n    }\r\n  };\r\n\r\n  // 格式化时间\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString(\"zh-CN\", {\r\n      year: \"numeric\",\r\n      month: \"2-digit\",\r\n      day: \"2-digit\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  // 格式化价格\r\n  const formatPrice = (price: number) => {\r\n    return `¥${price.toFixed(2)}`;\r\n  };\r\n\r\n  // 获取第一个商品用于显示\r\n  const firstItem = order.items[0];\r\n  const hasMoreItems = order.items.length > 1;\r\n\r\n  // 获取状态显示信息\r\n  const statusInfo = statusMap[order.status];\r\n\r\n  return (\r\n    <div\r\n      className=\"bg-white rounded-lg shadow-sm border border-gray-100 p-4 mb-4 cursor-pointer hover:shadow-md transition-shadow\"\r\n      onClick={handleCardClick}\r\n    >\r\n      {/* 订单头部信息 */}\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <span className=\"text-sm text-gray-600\">订单号:</span>\r\n          <span className=\"text-sm font-medium text-gray-900\">\r\n            {order.orderNumber}\r\n          </span>\r\n        </div>\r\n        <span\r\n          className={`px-2 py-1 rounded-full text-xs font-medium ${statusInfo.color}`}\r\n        >\r\n          {statusInfo.label}\r\n        </span>\r\n      </div>\r\n\r\n      {/* 商品信息 */}\r\n      {firstItem && (\r\n        <div className=\"flex items-start space-x-3 mb-3\">\r\n          <img\r\n            src={firstItem.image}\r\n            alt={firstItem.name}\r\n            className=\"w-16 h-16 rounded-lg object-cover flex-shrink-0\"\r\n          />\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h3 className=\"text-sm font-medium text-gray-900 truncate hover:text-blue-600 transition-colors\">\r\n              {firstItem.name}\r\n            </h3>\r\n            {/* 商品规格 */}\r\n            {firstItem.selectedVariants &&\r\n              Object.keys(firstItem.selectedVariants).length > 0 && (\r\n                <div className=\"text-xs text-gray-500 mt-1\">\r\n                  {Object.entries(firstItem.selectedVariants).map(\r\n                    ([key, value]) => (\r\n                      <span key={key} className=\"mr-2\">\r\n                        {key}: {value}\r\n                      </span>\r\n                    )\r\n                  )}\r\n                </div>\r\n              )}\r\n            <div className=\"flex items-center justify-between mt-1\">\r\n              <span className=\"text-xs text-gray-500\">\r\n                x{firstItem.quantity}\r\n              </span>\r\n              <span className=\"text-sm font-medium text-gray-900\">\r\n                {formatPrice(firstItem.price)}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 更多商品提示 */}\r\n      {hasMoreItems && (\r\n        <div className=\"text-xs text-gray-500 mb-3 pl-19\">\r\n          还有 {order.items.length - 1} 件其他商品\r\n        </div>\r\n      )}\r\n\r\n      {/* 订单底部信息 */}\r\n      <div className=\"flex items-center justify-between pt-3 border-t border-gray-100\">\r\n        <div className=\"text-xs text-gray-500\">\r\n          {formatDate(order.createdAt)}\r\n        </div>\r\n        <div className=\"flex items-center space-x-4\">\r\n          <span className=\"text-xs text-gray-600\">\r\n            共{order.items.reduce((sum, item) => sum + item.quantity, 0)}件商品\r\n          </span>\r\n          <div className=\"text-right\">\r\n            <span className=\"text-xs text-gray-500\">实付款: </span>\r\n            <span className=\"text-sm font-semibold text-red-600\">\r\n              {formatPrice(order.payment.amount)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 快速操作按钮（根据状态显示） */}\r\n      <div className=\"flex justify-end space-x-2 mt-3\">\r\n        {(order.status === \"pending\" || order.status === \"paid\") && (\r\n          <button\r\n            className=\"text-xs px-3 py-1 border border-gray-300 rounded text-gray-600 hover:bg-gray-50\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              // TODO: 实现取消订单逻辑\r\n              console.log(\"取消订单:\", order.id);\r\n            }}\r\n          >\r\n            取消订单\r\n          </button>\r\n        )}\r\n        {order.status === \"shipped\" && (\r\n          <button\r\n            className=\"text-xs px-3 py-1 border border-gray-300 rounded text-gray-600 hover:bg-gray-50\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              // TODO: 实现查看物流逻辑\r\n              console.log(\"查看物流:\", order.shipping.trackingNumber);\r\n            }}\r\n          >\r\n            查看物流\r\n          </button>\r\n        )}\r\n        {order.status === \"delivered\" && (\r\n          <button\r\n            className=\"text-xs px-3 py-1 border border-gray-300 rounded text-gray-600 hover:bg-gray-50\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              // TODO: 实现评价逻辑\r\n              console.log(\"评价订单:\", order.id);\r\n            }}\r\n          >\r\n            评价\r\n          </button>\r\n        )}\r\n        <button\r\n          className=\"text-xs px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            handleCardClick();\r\n          }}\r\n        >\r\n          查看详情\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderCard;\r\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport StatusBar from \"../../components/common/StatusBar\";\r\nimport OrderCard, { Order } from \"../../components/ui/OrderCard\";\r\n\r\n/**\r\n * 订单状态选项\r\n */\r\nconst statusOptions = [\r\n  { value: \"\", label: \"全部\" },\r\n  { value: \"pending\", label: \"待付款\" },\r\n  { value: \"paid\", label: \"待发货\" },\r\n  { value: \"shipped\", label: \"待收货\" },\r\n  { value: \"delivered\", label: \"已完成\" },\r\n  { value: \"cancelled\", label: \"已取消\" },\r\n];\r\n\r\n/**\r\n * 分页响应接口\r\n */\r\ninterface OrderListResponse {\r\n  orders: Order[];\r\n  pagination: {\r\n    page: number;\r\n    limit: number;\r\n    total: number;\r\n    totalPages: number;\r\n  };\r\n}\r\n\r\n/**\r\n * 订单列表页面组件\r\n * 支持无限滚动、状态筛选\r\n */\r\nconst OrderListPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  // 从URL参数获取状态筛选\r\n  const urlParams = new URLSearchParams(location.search);\r\n  const initialStatus = urlParams.get(\"status\") || \"\";\r\n\r\n  // 状态管理\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [page, setPage] = useState(1);\r\n  const [selectedStatus, setSelectedStatus] = useState(initialStatus);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // 处理返回\r\n  const handleGoBack = () => {\r\n    navigate(\"/profile\");\r\n  };\r\n\r\n  // 获取订单列表\r\n  const fetchOrders = useCallback(\r\n    async (pageNum: number, status: string = \"\", reset: boolean = false) => {\r\n      if (loading) return;\r\n\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const params = new URLSearchParams({\r\n          page: pageNum.toString(),\r\n          limit: \"10\",\r\n        });\r\n\r\n        if (status) {\r\n          params.append(\"status\", status);\r\n        }\r\n\r\n        const response = await fetch(`/api/orders?${params}`);\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"获取订单列表失败\");\r\n        }\r\n\r\n        const data: OrderListResponse = await response.json();\r\n\r\n        setOrders((prev) => (reset ? data.orders : [...prev, ...data.orders]));\r\n        setHasMore(pageNum < data.pagination.totalPages);\r\n        setPage(pageNum);\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : \"未知错误\");\r\n        console.error(\"获取订单列表失败:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    },\r\n    [loading]\r\n  );\r\n\r\n  // 处理状态筛选变化\r\n  const handleStatusChange = (status: string) => {\r\n    setSelectedStatus(status);\r\n    setOrders([]);\r\n    setPage(1);\r\n    setHasMore(true);\r\n    fetchOrders(1, status, true);\r\n\r\n    // 更新URL参数\r\n    const newParams = new URLSearchParams();\r\n    if (status) {\r\n      newParams.set(\"status\", status);\r\n    }\r\n    navigate(`/orders?${newParams.toString()}`, { replace: true });\r\n  };\r\n\r\n  // 无限滚动处理\r\n  const handleScroll = useCallback(() => {\r\n    if (loading || !hasMore) return;\r\n\r\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n    const windowHeight = window.innerHeight;\r\n    const documentHeight = document.documentElement.scrollHeight;\r\n\r\n    // 当滚动到底部100px时加载更多\r\n    if (scrollTop + windowHeight >= documentHeight - 100) {\r\n      fetchOrders(page + 1, selectedStatus);\r\n    }\r\n  }, [loading, hasMore, page, selectedStatus, fetchOrders]);\r\n\r\n  // 初始化加载和滚动监听\r\n  useEffect(() => {\r\n    fetchOrders(1, selectedStatus, true);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, [handleScroll]);\r\n\r\n  // 处理订单卡片点击\r\n  const handleOrderClick = (order: Order) => {\r\n    navigate(`/orders/${order.id}`);\r\n  };\r\n\r\n  // 刷新订单列表\r\n  const handleRefresh = () => {\r\n    setOrders([]);\r\n    setPage(1);\r\n    setHasMore(true);\r\n    fetchOrders(1, selectedStatus, true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <StatusBar />\r\n\r\n      {/* 页面头部 */}\r\n      <div className=\"bg-white shadow-sm pt-12\">\r\n        <div className=\"flex items-center justify-between px-4 py-3\">\r\n          <div className=\"flex items-center\">\r\n            <button\r\n              onClick={handleGoBack}\r\n              className=\"mr-3 p-2 -ml-2 text-gray-600 hover:text-gray-900\"\r\n              title=\"返回上一页\"\r\n              aria-label=\"返回上一页\"\r\n            >\r\n              <svg\r\n                className=\"w-6 h-6\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth=\"2\"\r\n                  d=\"M15 19l-7-7 7-7\"\r\n                ></path>\r\n              </svg>\r\n            </button>\r\n            <h1 className=\"text-lg font-semibold text-gray-900\">我的订单</h1>\r\n          </div>\r\n          <button\r\n            onClick={handleRefresh}\r\n            className=\"p-2 text-gray-600 hover:text-gray-900\"\r\n            disabled={loading}\r\n            title=\"刷新订单列表\"\r\n            aria-label=\"刷新订单列表\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth=\"2\"\r\n                d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\r\n              ></path>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n\r\n        {/* 状态筛选标签 */}\r\n        <div className=\"px-4 pb-3\">\r\n          <div className=\"flex space-x-2 overflow-x-auto\">\r\n            {statusOptions.map((option) => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => handleStatusChange(option.value)}\r\n                className={`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap flex-shrink-0 transition-colors ${\r\n                  selectedStatus === option.value\r\n                    ? \"bg-blue-600 text-white\"\r\n                    : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\r\n                }`}\r\n              >\r\n                {option.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 订单列表内容 */}\r\n      <div className=\"px-4 py-4\">\r\n        {error && (\r\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-4\">\r\n            <div className=\"flex items-center\">\r\n              <svg\r\n                className=\"w-5 h-5 text-red-400 mr-2\"\r\n                fill=\"currentColor\"\r\n                viewBox=\"0 0 20 20\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\"\r\n                  clipRule=\"evenodd\"\r\n                ></path>\r\n              </svg>\r\n              <span className=\"text-red-700\">{error}</span>\r\n            </div>\r\n            <button\r\n              onClick={handleRefresh}\r\n              className=\"mt-2 text-sm text-red-600 hover:text-red-800 underline\"\r\n            >\r\n              重试\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* 空状态 */}\r\n        {!loading && orders.length === 0 && !error && (\r\n          <div className=\"text-center py-20\">\r\n            <div className=\"mx-auto w-24 h-24 mb-4 text-gray-300\">\r\n              <svg fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z\"\r\n                  clipRule=\"evenodd\"\r\n                ></path>\r\n              </svg>\r\n            </div>\r\n            <p className=\"text-gray-500 text-lg mb-2\">暂无订单</p>\r\n            <p className=\"text-gray-400 text-sm mb-6\">快去挑选心仪的商品吧</p>\r\n            <button\r\n              onClick={() => navigate(\"/shop\")}\r\n              className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n            >\r\n              去购物\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* 订单列表 */}\r\n        {orders.map((order) => (\r\n          <OrderCard key={order.id} order={order} onClick={handleOrderClick} />\r\n        ))}\r\n\r\n        {/* 加载更多状态 */}\r\n        {loading && orders.length > 0 && (\r\n          <div className=\"text-center py-4\">\r\n            <div className=\"inline-flex items-center space-x-2 text-gray-500\">\r\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600\"></div>\r\n              <span>加载中...</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* 首次加载状态 */}\r\n        {loading && orders.length === 0 && !error && (\r\n          <div className=\"space-y-4\">\r\n            {Array.from({ length: 3 }).map((_, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"bg-white rounded-lg shadow-sm border border-gray-100 p-4 animate-pulse\"\r\n              >\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"h-4 bg-gray-200 rounded w-32\"></div>\r\n                  <div className=\"h-6 bg-gray-200 rounded-full w-16\"></div>\r\n                </div>\r\n                <div className=\"flex items-start space-x-3 mb-3\">\r\n                  <div className=\"w-16 h-16 bg-gray-200 rounded-lg\"></div>\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\r\n                    <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex justify-between items-center pt-3 border-t border-gray-100\">\r\n                  <div className=\"h-3 bg-gray-200 rounded w-24\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-20\"></div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {/* 没有更多数据提示 */}\r\n        {!loading && !hasMore && orders.length > 0 && (\r\n          <div className=\"text-center py-8 text-gray-500\">\r\n            <p className=\"text-sm\">没有更多订单了</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderListPage;\r\n"],"names":["statusMap","OrderCard","order","onClick","navigate","useNavigate","handleCardClick","formatDate","dateString","formatPrice","price","firstItem","hasMoreItems","statusInfo","jsxs","jsx","key","value","sum","item","e","statusOptions","OrderListPage","location","useLocation","initialStatus","orders","setOrders","useState","loading","setLoading","hasMore","setHasMore","page","setPage","selectedStatus","setSelectedStatus","error","setError","handleGoBack","fetchOrders","useCallback","pageNum","status","reset","params","response","data","prev","err","handleStatusChange","newParams","handleScroll","scrollTop","windowHeight","documentHeight","useEffect","handleOrderClick","handleRefresh","StatusBar","option","_","index"],"mappings":"oEAMA,MAAMA,EAAY,CAChB,QAAS,CAAE,MAAO,MAAO,MAAO,8BAAA,EAChC,KAAM,CAAE,MAAO,MAAO,MAAO,0BAAA,EAC7B,QAAS,CAAE,MAAO,MAAO,MAAO,4BAAA,EAChC,UAAW,CAAE,MAAO,MAAO,MAAO,0BAAA,EAClC,UAAW,CAAE,MAAO,MAAO,MAAO,wBAAA,CACpC,EAgDMC,EAAsC,CAAC,CAAE,MAAAC,EAAO,QAAAC,KAAc,CAClE,MAAMC,EAAWC,EAAA,EAGXC,EAAkB,IAAM,CACxBH,EACFA,EAAQD,CAAK,EAEbE,EAAS,WAAWF,EAAM,EAAE,EAAE,CAElC,EAGMK,EAAcC,GACL,IAAI,KAAKA,CAAU,EACpB,mBAAmB,QAAS,CACtC,KAAM,UACN,MAAO,UACP,IAAK,UACL,KAAM,UACN,OAAQ,SAAA,CACT,EAIGC,EAAeC,GACZ,IAAIA,EAAM,QAAQ,CAAC,CAAC,GAIvBC,EAAYT,EAAM,MAAM,CAAC,EACzBU,EAAeV,EAAM,MAAM,OAAS,EAGpCW,EAAab,EAAUE,EAAM,MAAM,EAEzC,OACEY,EAAAA,KAAC,MAAA,CACC,UAAU,iHACV,QAASR,EAGT,SAAA,CAAAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,OAAI,EAC5CA,EAAAA,IAAC,OAAA,CAAK,UAAU,oCACb,WAAM,WAAA,CACT,CAAA,EACF,EACAA,EAAAA,IAAC,OAAA,CACC,UAAW,8CAA8CF,EAAW,KAAK,GAExE,SAAAA,EAAW,KAAA,CAAA,CACd,EACF,EAGCF,GACCG,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,IAAKJ,EAAU,MACf,IAAKA,EAAU,KACf,UAAU,iDAAA,CAAA,EAEZG,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mFACX,SAAAJ,EAAU,KACb,EAECA,EAAU,kBACT,OAAO,KAAKA,EAAU,gBAAgB,EAAE,OAAS,GAC/CI,EAAAA,IAAC,OAAI,UAAU,6BACZ,gBAAO,QAAQJ,EAAU,gBAAgB,EAAE,IAC1C,CAAC,CAACK,EAAKC,CAAK,IACVH,EAAAA,KAAC,OAAA,CAAe,UAAU,OACvB,SAAA,CAAAE,EAAI,KAAGC,CAAA,CAAA,EADCD,CAEX,CAAA,EAGN,EAEJF,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,IACpCH,EAAU,QAAA,EACd,QACC,OAAA,CAAK,UAAU,oCACb,SAAAF,EAAYE,EAAU,KAAK,CAAA,CAC9B,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAIDC,GACCE,EAAAA,KAAC,MAAA,CAAI,UAAU,mCAAmC,SAAA,CAAA,MAC5CZ,EAAM,MAAM,OAAS,EAAE,QAAA,EAC7B,EAIFY,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAC,MAAC,OAAI,UAAU,wBACZ,SAAAR,EAAWL,EAAM,SAAS,EAC7B,EACAY,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAA,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,IACpCZ,EAAM,MAAM,OAAO,CAACgB,EAAKC,IAASD,EAAMC,EAAK,SAAU,CAAC,EAAE,KAAA,EAC9D,EACAL,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,QAAK,EAC7CA,MAAC,QAAK,UAAU,qCACb,WAAYb,EAAM,QAAQ,MAAM,CAAA,CACnC,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAGAY,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACX,SAAA,EAAAZ,EAAM,SAAW,WAAaA,EAAM,SAAW,SAC/Ca,EAAAA,IAAC,SAAA,CACC,UAAU,kFACV,QAAUK,GAAM,CACdA,EAAE,gBAAA,EAEF,QAAQ,IAAI,QAASlB,EAAM,EAAE,CAC/B,EACD,SAAA,MAAA,CAAA,EAIFA,EAAM,SAAW,WAChBa,EAAAA,IAAC,SAAA,CACC,UAAU,kFACV,QAAUK,GAAM,CACdA,EAAE,gBAAA,EAEF,QAAQ,IAAI,QAASlB,EAAM,SAAS,cAAc,CACpD,EACD,SAAA,MAAA,CAAA,EAIFA,EAAM,SAAW,aAChBa,EAAAA,IAAC,SAAA,CACC,UAAU,kFACV,QAAUK,GAAM,CACdA,EAAE,gBAAA,EAEF,QAAQ,IAAI,QAASlB,EAAM,EAAE,CAC/B,EACD,SAAA,IAAA,CAAA,EAIHa,EAAAA,IAAC,SAAA,CACC,UAAU,qEACV,QAAUK,GAAM,CACdA,EAAE,gBAAA,EACFd,EAAA,CACF,EACD,SAAA,MAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CAAA,CAGN,EC5NMe,EAAgB,CACpB,CAAE,MAAO,GAAI,MAAO,IAAA,EACpB,CAAE,MAAO,UAAW,MAAO,KAAA,EAC3B,CAAE,MAAO,OAAQ,MAAO,KAAA,EACxB,CAAE,MAAO,UAAW,MAAO,KAAA,EAC3B,CAAE,MAAO,YAAa,MAAO,KAAA,EAC7B,CAAE,MAAO,YAAa,MAAO,KAAA,CAC/B,EAmBMC,EAA0B,IAAM,CACpC,MAAMlB,EAAWC,EAAA,EACXkB,EAAWC,EAAA,EAIXC,EADY,IAAI,gBAAgBF,EAAS,MAAM,EACrB,IAAI,QAAQ,GAAK,GAG3C,CAACG,EAAQC,CAAS,EAAIC,EAAAA,SAAkB,CAAA,CAAE,EAC1C,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAK,EACtC,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAI,EACrC,CAACK,EAAMC,CAAO,EAAIN,EAAAA,SAAS,CAAC,EAC5B,CAACO,EAAgBC,CAAiB,EAAIR,EAAAA,SAASH,CAAa,EAC5D,CAACY,EAAOC,CAAQ,EAAIV,EAAAA,SAAwB,IAAI,EAGhDW,EAAe,IAAM,CACzBnC,EAAS,UAAU,CACrB,EAGMoC,EAAcC,EAAAA,YAClB,MAAOC,EAAiBC,EAAiB,GAAIC,EAAiB,KAAU,CACtE,GAAI,CAAAf,EAEJ,CAAAC,EAAW,EAAI,EACfQ,EAAS,IAAI,EAEb,GAAI,CACF,MAAMO,EAAS,IAAI,gBAAgB,CACjC,KAAMH,EAAQ,SAAA,EACd,MAAO,IAAA,CACR,EAEGC,GACFE,EAAO,OAAO,SAAUF,CAAM,EAGhC,MAAMG,EAAW,MAAM,MAAM,eAAeD,CAAM,EAAE,EAEpD,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,UAAU,EAG5B,MAAMC,EAA0B,MAAMD,EAAS,KAAA,EAE/CnB,EAAWqB,GAAUJ,EAAQG,EAAK,OAAS,CAAC,GAAGC,EAAM,GAAGD,EAAK,MAAM,CAAE,EACrEf,EAAWU,EAAUK,EAAK,WAAW,UAAU,EAC/Cb,EAAQQ,CAAO,CACjB,OAASO,EAAK,CACZX,EAASW,aAAe,MAAQA,EAAI,QAAU,MAAM,EACpD,QAAQ,MAAM,YAAaA,CAAG,CAChC,QAAA,CACEnB,EAAW,EAAK,CAClB,EACF,EACA,CAACD,CAAO,CAAA,EAIJqB,EAAsBP,GAAmB,CAC7CP,EAAkBO,CAAM,EACxBhB,EAAU,CAAA,CAAE,EACZO,EAAQ,CAAC,EACTF,EAAW,EAAI,EACfQ,EAAY,EAAGG,EAAQ,EAAI,EAG3B,MAAMQ,EAAY,IAAI,gBAClBR,GACFQ,EAAU,IAAI,SAAUR,CAAM,EAEhCvC,EAAS,WAAW+C,EAAU,SAAA,CAAU,GAAI,CAAE,QAAS,GAAM,CAC/D,EAGMC,EAAeX,EAAAA,YAAY,IAAM,CACrC,GAAIZ,GAAW,CAACE,EAAS,OAEzB,MAAMsB,EAAY,OAAO,aAAe,SAAS,gBAAgB,UAC3DC,EAAe,OAAO,YACtBC,EAAiB,SAAS,gBAAgB,aAG5CF,EAAYC,GAAgBC,EAAiB,KAC/Cf,EAAYP,EAAO,EAAGE,CAAc,CAExC,EAAG,CAACN,EAASE,EAASE,EAAME,EAAgBK,CAAW,CAAC,EAGxDgB,EAAAA,UAAU,IAAM,CACdhB,EAAY,EAAGL,EAAgB,EAAI,CACrC,EAAG,CAAA,CAAE,EAELqB,EAAAA,UAAU,KACR,OAAO,iBAAiB,SAAUJ,CAAY,EACvC,IAAM,OAAO,oBAAoB,SAAUA,CAAY,GAC7D,CAACA,CAAY,CAAC,EAGjB,MAAMK,EAAoBvD,GAAiB,CACzCE,EAAS,WAAWF,EAAM,EAAE,EAAE,CAChC,EAGMwD,EAAgB,IAAM,CAC1B/B,EAAU,CAAA,CAAE,EACZO,EAAQ,CAAC,EACTF,EAAW,EAAI,EACfQ,EAAY,EAAGL,EAAgB,EAAI,CACrC,EAEA,OACErB,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC4C,EAAA,EAAU,EAGX7C,EAAAA,KAAC,MAAA,CAAI,UAAU,2BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,8CACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,QAASwB,EACT,UAAU,mDACV,MAAM,QACN,aAAW,QAEX,SAAAxB,EAAAA,IAAC,MAAA,CACC,UAAU,UACV,KAAK,OACL,OAAO,eACP,QAAQ,YAER,SAAAA,EAAAA,IAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAY,IACZ,EAAE,iBAAA,CAAA,CACH,CAAA,CACH,CAAA,EAEFA,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,MAAA,CAAI,CAAA,EAC1D,EACAA,EAAAA,IAAC,SAAA,CACC,QAAS2C,EACT,UAAU,wCACV,SAAU7B,EACV,MAAM,SACN,aAAW,SAEX,SAAAd,EAAAA,IAAC,MAAA,CACC,UAAU,UACV,KAAK,OACL,OAAO,eACP,QAAQ,YAER,SAAAA,EAAAA,IAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAY,IACZ,EAAE,6GAAA,CAAA,CACH,CAAA,CACH,CAAA,CACF,EACF,EAGAA,EAAAA,IAAC,MAAA,CAAI,UAAU,YACb,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,iCACZ,SAAAM,EAAc,IAAKuC,GAClB7C,EAAAA,IAAC,SAAA,CAEC,QAAS,IAAMmC,EAAmBU,EAAO,KAAK,EAC9C,UAAW,gGACTzB,IAAmByB,EAAO,MACtB,yBACA,6CACN,GAEC,SAAAA,EAAO,KAAA,EARHA,EAAO,KAAA,CAUf,EACH,CAAA,CACF,CAAA,EACF,EAGA9C,EAAAA,KAAC,MAAA,CAAI,UAAU,YACZ,SAAA,CAAAuB,GACCvB,EAAAA,KAAC,MAAA,CAAI,UAAU,sDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CACC,UAAU,4BACV,KAAK,eACL,QAAQ,YAER,SAAAA,EAAAA,IAAC,OAAA,CACC,SAAS,UACT,EAAE,0NACF,SAAS,SAAA,CAAA,CACV,CAAA,EAEHA,EAAAA,IAAC,OAAA,CAAK,UAAU,eAAgB,SAAAsB,CAAA,CAAM,CAAA,EACxC,EACAtB,EAAAA,IAAC,SAAA,CACC,QAAS2C,EACT,UAAU,yDACX,SAAA,IAAA,CAAA,CAED,EACF,EAID,CAAC7B,GAAWH,EAAO,SAAW,GAAK,CAACW,GACnCvB,EAAAA,KAAC,MAAA,CAAI,UAAU,oBACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,uCACb,SAAAA,EAAAA,IAAC,OAAI,KAAK,eAAe,QAAQ,YAC/B,SAAAA,EAAAA,IAAC,OAAA,CACC,SAAS,UACT,EAAE,mDACF,SAAS,SAAA,CAAA,EAEb,CAAA,CACF,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,OAAI,EAC9CA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,aAAU,EACpDA,EAAAA,IAAC,SAAA,CACC,QAAS,IAAMX,EAAS,OAAO,EAC/B,UAAU,kFACX,SAAA,KAAA,CAAA,CAED,EACF,EAIDsB,EAAO,IAAKxB,GACXa,EAAAA,IAACd,EAAA,CAAyB,MAAAC,EAAc,QAASuD,CAAA,EAAjCvD,EAAM,EAA6C,CACpE,EAGA2B,GAAWH,EAAO,OAAS,GAC1BX,EAAAA,IAAC,MAAA,CAAI,UAAU,mBACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,mDACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,8DAAA,CAA+D,EAC9EA,EAAAA,IAAC,QAAK,SAAA,QAAA,CAAM,CAAA,CAAA,CACd,CAAA,CACF,EAIDc,GAAWH,EAAO,SAAW,GAAK,CAACW,GAClCtB,MAAC,OAAI,UAAU,YACZ,eAAM,KAAK,CAAE,OAAQ,CAAA,CAAG,EAAE,IAAI,CAAC8C,EAAGC,IACjChD,EAAAA,KAAC,MAAA,CAEC,UAAU,yEAEV,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAAA,CAA+B,EAC9CA,EAAAA,IAAC,MAAA,CAAI,UAAU,mCAAA,CAAoC,CAAA,EACrD,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,kCACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,kCAAA,CAAmC,EAClDD,EAAAA,KAAC,MAAA,CAAI,UAAU,SACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,oCAAA,CAAqC,EACpDA,EAAAA,IAAC,MAAA,CAAI,UAAU,+BAAA,CAAgC,CAAA,CAAA,CACjD,CAAA,EACF,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAAA,CAA+B,EAC9CA,EAAAA,IAAC,MAAA,CAAI,UAAU,8BAAA,CAA+B,CAAA,CAAA,CAChD,CAAA,CAAA,EAjBK+C,CAAA,CAmBR,EACH,EAID,CAACjC,GAAW,CAACE,GAAWL,EAAO,OAAS,GACvCX,EAAAA,IAAC,MAAA,CAAI,UAAU,iCACb,SAAAA,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAU,mBAAO,CAAA,CAChC,CAAA,CAAA,CAEJ,CAAA,EACF,CAEJ"}