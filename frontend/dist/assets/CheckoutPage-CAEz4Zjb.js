import{R as W,r as De,u as Ft,c as Vt,j as d,S as wt}from"./index-DWm9dxUp.js";var ye=e=>e.type==="checkbox",ae=e=>e instanceof Date,R=e=>e==null;const it=e=>typeof e=="object";var k=e=>!R(e)&&!Array.isArray(e)&&it(e)&&!ae(e),pt=e=>k(e)&&e.target?ye(e.target)?e.target.checked:e.target.value:e,At=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,jt=(e,r)=>e.has(At(r)),Nt=e=>{const r=e.constructor&&e.constructor.prototype;return k(r)&&r.hasOwnProperty("isPrototypeOf")},Ee=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function C(e){let r;const s=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(!(Ee&&(e instanceof Blob||a))&&(s||k(e)))if(r=s?[]:{},!s&&!Nt(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=C(e[o]));else return e;return r}var Fe=e=>/^\w*$/.test(e),S=e=>e===void 0,Ce=e=>Array.isArray(e)?e.filter(Boolean):[],Te=e=>Ce(e.replace(/["|']|\]/g,"").split(/\.|\[/)),g=(e,r,s)=>{if(!r||!k(e))return s;const a=(Fe(r)?[r]:Te(r)).reduce((o,n)=>R(o)?o:o[n],e);return S(a)||a===e?S(e[r])?s:e[r]:a},Q=e=>typeof e=="boolean",p=(e,r,s)=>{let a=-1;const o=Fe(r)?[r]:Te(r),n=o.length,h=n-1;for(;++a<n;){const f=o[a];let L=s;if(a!==h){const T=e[f];L=k(T)||Array.isArray(T)?T:isNaN(+o[a+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=L,e=e[f]}};const ze={BLUR:"blur",FOCUS_OUT:"focusout"},H={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kt=W.createContext(null);kt.displayName="HookFormContext";var Dt=(e,r,s,a=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const h=n;return r._proxyFormState[h]!==H.all&&(r._proxyFormState[h]=!a||H.all),e[h]}});return o};const St=typeof window<"u"?De.useLayoutEffect:De.useEffect;var X=e=>typeof e=="string",Et=(e,r,s,a,o)=>X(e)?(a&&r.watch.add(e),g(s,e,o)):Array.isArray(e)?e.map(n=>(a&&r.watch.add(n),g(s,n))):(a&&(r.watchAll=!0),s),Ct=(e,r,s,a,o)=>r?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[a]:o||!0}}:{},ce=e=>Array.isArray(e)?e:[e],Ke=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Se=e=>R(e)||!it(e);function se(e,r,s=new WeakSet){if(Se(e)||Se(r))return e===r;if(ae(e)&&ae(r))return e.getTime()===r.getTime();const a=Object.keys(e),o=Object.keys(r);if(a.length!==o.length)return!1;if(s.has(e)||s.has(r))return!0;s.add(e),s.add(r);for(const n of a){const h=e[n];if(!o.includes(n))return!1;if(n!=="ref"){const f=r[n];if(ae(h)&&ae(f)||k(h)&&k(f)||Array.isArray(h)&&Array.isArray(f)?!se(h,f,s):h!==f)return!1}}return!0}var U=e=>k(e)&&!Object.keys(e).length,Le=e=>e.type==="file",$=e=>typeof e=="function",ve=e=>{if(!Ee)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},at=e=>e.type==="select-multiple",Oe=e=>e.type==="radio",Tt=e=>Oe(e)||ye(e),ke=e=>ve(e)&&e.isConnected;function Lt(e,r){const s=r.slice(0,-1).length;let a=0;for(;a<s;)e=S(e)?a++:e[r[a++]];return e}function Ot(e){for(const r in e)if(e.hasOwnProperty(r)&&!S(e[r]))return!1;return!0}function D(e,r){const s=Array.isArray(r)?r:Fe(r)?[r]:Te(r),a=s.length===1?e:Lt(e,s),o=s.length-1,n=s[o];return a&&delete a[n],o!==0&&(k(a)&&U(a)||Array.isArray(a)&&Ot(a))&&D(e,s.slice(0,-1)),e}var lt=e=>{for(const r in e)if($(e[r]))return!0;return!1};function be(e,r={}){const s=Array.isArray(e);if(k(e)||s)for(const a in e)Array.isArray(e[a])||k(e[a])&&!lt(e[a])?(r[a]=Array.isArray(e[a])?[]:{},be(e[a],r[a])):R(e[a])||(r[a]=!0);return r}function nt(e,r,s){const a=Array.isArray(e);if(k(e)||a)for(const o in e)Array.isArray(e[o])||k(e[o])&&!lt(e[o])?S(r)||Se(s[o])?s[o]=Array.isArray(e[o])?be(e[o],[]):{...be(e[o])}:nt(e[o],R(r)?{}:r[o],s[o]):s[o]=!se(e[o],r[o]);return s}var ue=(e,r)=>nt(e,r,be(r));const Ye={value:!1,isValid:!1},Ge={value:!0,isValid:!0};var ot=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!S(e[0].attributes.value)?S(e[0].value)||e[0].value===""?Ge:{value:e[0].value,isValid:!0}:Ge:Ye}return Ye},ut=(e,{valueAsNumber:r,valueAsDate:s,setValueAs:a})=>S(e)?e:r?e===""?NaN:e&&+e:s&&X(e)?new Date(e):a?a(e):e;const Je={isValid:!1,value:null};var dt=e=>Array.isArray(e)?e.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,Je):Je;function Qe(e){const r=e.ref;return Le(r)?r.files:Oe(r)?dt(e.refs).value:at(r)?[...r.selectedOptions].map(({value:s})=>s):ye(r)?ot(e.refs).value:ut(S(r.value)?e.ref.value:r.value,e)}var Rt=(e,r,s,a)=>{const o={};for(const n of e){const h=g(r,n);h&&p(o,n,h._f)}return{criteriaMode:s,names:[...e],fields:o,shouldUseNativeValidation:a}},_e=e=>e instanceof RegExp,de=e=>S(e)?e:_e(e)?e.source:k(e)?_e(e.value)?e.value.source:e.value:e,Xe=e=>({isOnSubmit:!e||e===H.onSubmit,isOnBlur:e===H.onBlur,isOnChange:e===H.onChange,isOnAll:e===H.all,isOnTouch:e===H.onTouched});const Ze="AsyncFunction";var Mt=e=>!!e&&!!e.validate&&!!($(e.validate)&&e.validate.constructor.name===Ze||k(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===Ze)),Ut=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),et=(e,r,s)=>!s&&(r.watchAll||r.watch.has(e)||[...r.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const fe=(e,r,s,a)=>{for(const o of s||Object.keys(e)){const n=g(e,o);if(n){const{_f:h,...f}=n;if(h){if(h.refs&&h.refs[0]&&r(h.refs[0],o)&&!a)return!0;if(h.ref&&r(h.ref,h.name)&&!a)return!0;if(fe(f,r))break}else if(k(f)&&fe(f,r))break}}};function tt(e,r,s){const a=g(e,s);if(a||Fe(s))return{error:a,name:s};const o=s.split(".");for(;o.length;){const n=o.join("."),h=g(r,n),f=g(e,n);if(h&&!Array.isArray(h)&&s!==n)return{name:s};if(f&&f.type)return{name:n,error:f};if(f&&f.root&&f.root.type)return{name:`${n}.root`,error:f.root};o.pop()}return{name:s}}var It=(e,r,s,a)=>{s(e);const{name:o,...n}=e;return U(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(h=>r[h]===(!a||H.all))},Bt=(e,r,s)=>!e||!r||e===r||ce(e).some(a=>a&&(s?a===r:a.startsWith(r)||r.startsWith(a))),Pt=(e,r,s,a,o)=>o.isOnAll?!1:!s&&o.isOnTouch?!(r||e):(s?a.isOnBlur:o.isOnBlur)?!e:(s?a.isOnChange:o.isOnChange)?e:!0,qt=(e,r)=>!Ce(g(e,r)).length&&D(e,r),Wt=(e,r,s)=>{const a=ce(g(e,s));return p(a,"root",r[s]),p(e,s,a),e},me=e=>X(e);function st(e,r,s="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||Q(e)&&!e)return{type:s,message:me(e)?e:"",ref:r}}var ne=e=>k(e)&&!_e(e)?e:{value:e,message:""},rt=async(e,r,s,a,o,n)=>{const{ref:h,refs:f,required:L,maxLength:T,minLength:_,min:A,max:m,pattern:re,validate:z,name:j,valueAsNumber:K,mount:I}=e._f,v=g(s,j);if(!I||r.has(j))return{};const P=f?f[0]:h,Y=b=>{o&&P.reportValidity&&(P.setCustomValidity(Q(b)?"":b||""),P.reportValidity())},E={},he=Oe(h),ee=ye(h),Ve=he||ee,q=(K||Le(h))&&S(h.value)&&S(v)||ve(h)&&h.value===""||v===""||Array.isArray(v)&&!v.length,ie=Ct.bind(null,j,a,E),G=(b,V,N,O=Z.maxLength,M=Z.minLength)=>{const J=b?V:N;E[j]={type:b?O:M,message:J,ref:h,...ie(b?O:M,J)}};if(n?!Array.isArray(v)||!v.length:L&&(!Ve&&(q||R(v))||Q(v)&&!v||ee&&!ot(f).isValid||he&&!dt(f).isValid)){const{value:b,message:V}=me(L)?{value:!!L,message:L}:ne(L);if(b&&(E[j]={type:Z.required,message:V,ref:P,...ie(Z.required,V)},!a))return Y(V),E}if(!q&&(!R(A)||!R(m))){let b,V;const N=ne(m),O=ne(A);if(!R(v)&&!isNaN(v)){const M=h.valueAsNumber||v&&+v;R(N.value)||(b=M>N.value),R(O.value)||(V=M<O.value)}else{const M=h.valueAsDate||new Date(v),J=ge=>new Date(new Date().toDateString()+" "+ge),oe=h.type=="time",le=h.type=="week";X(N.value)&&v&&(b=oe?J(v)>J(N.value):le?v>N.value:M>new Date(N.value)),X(O.value)&&v&&(V=oe?J(v)<J(O.value):le?v<O.value:M<new Date(O.value))}if((b||V)&&(G(!!b,N.message,O.message,Z.max,Z.min),!a))return Y(E[j].message),E}if((T||_)&&!q&&(X(v)||n&&Array.isArray(v))){const b=ne(T),V=ne(_),N=!R(b.value)&&v.length>+b.value,O=!R(V.value)&&v.length<+V.value;if((N||O)&&(G(N,b.message,V.message),!a))return Y(E[j].message),E}if(re&&!q&&X(v)){const{value:b,message:V}=ne(re);if(_e(b)&&!v.match(b)&&(E[j]={type:Z.pattern,message:V,ref:h,...ie(Z.pattern,V)},!a))return Y(V),E}if(z){if($(z)){const b=await z(v,s),V=st(b,P);if(V&&(E[j]={...V,...ie(Z.validate,V.message)},!a))return Y(V.message),E}else if(k(z)){let b={};for(const V in z){if(!U(b)&&!a)break;const N=st(await z[V](v,s),P,V);N&&(b={...N,...ie(V,N.message)},Y(N.message),a&&(E[j]=b))}if(!U(b)&&(E[j]={ref:P,...b},!a))return E}}return Y(!0),E};const Ht={mode:H.onSubmit,reValidateMode:H.onChange,shouldFocusError:!0};function $t(e={}){let r={...Ht,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:$(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},o=k(r.defaultValues)||k(r.values)?C(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:C(o),h={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},L,T=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let A={..._};const m={array:Ke(),state:Ke()},re=r.criteriaMode===H.all,z=t=>i=>{clearTimeout(T),T=setTimeout(t,i)},j=async t=>{if(!r.disabled&&(_.isValid||A.isValid||t)){const i=r.resolver?U((await ee()).errors):await q(a,!0);i!==s.isValid&&m.state.next({isValid:i})}},K=(t,i)=>{!r.disabled&&(_.isValidating||_.validatingFields||A.isValidating||A.validatingFields)&&((t||Array.from(f.mount)).forEach(l=>{l&&(i?p(s.validatingFields,l,i):D(s.validatingFields,l))}),m.state.next({validatingFields:s.validatingFields,isValidating:!U(s.validatingFields)}))},I=(t,i=[],l,y,c=!0,u=!0)=>{if(y&&l&&!r.disabled){if(h.action=!0,u&&Array.isArray(g(a,t))){const x=l(g(a,t),y.argA,y.argB);c&&p(a,t,x)}if(u&&Array.isArray(g(s.errors,t))){const x=l(g(s.errors,t),y.argA,y.argB);c&&p(s.errors,t,x),qt(s.errors,t)}if((_.touchedFields||A.touchedFields)&&u&&Array.isArray(g(s.touchedFields,t))){const x=l(g(s.touchedFields,t),y.argA,y.argB);c&&p(s.touchedFields,t,x)}(_.dirtyFields||A.dirtyFields)&&(s.dirtyFields=ue(o,n)),m.state.next({name:t,isDirty:G(t,i),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else p(n,t,i)},v=(t,i)=>{p(s.errors,t,i),m.state.next({errors:s.errors})},P=t=>{s.errors=t,m.state.next({errors:s.errors,isValid:!1})},Y=(t,i,l,y)=>{const c=g(a,t);if(c){const u=g(n,t,S(l)?g(o,t):l);S(u)||y&&y.defaultChecked||i?p(n,t,i?u:Qe(c._f)):N(t,u),h.mount&&j()}},E=(t,i,l,y,c)=>{let u=!1,x=!1;const F={name:t};if(!r.disabled){if(!l||y){(_.isDirty||A.isDirty)&&(x=s.isDirty,s.isDirty=F.isDirty=G(),u=x!==F.isDirty);const w=se(g(o,t),i);x=!!g(s.dirtyFields,t),w?D(s.dirtyFields,t):p(s.dirtyFields,t,!0),F.dirtyFields=s.dirtyFields,u=u||(_.dirtyFields||A.dirtyFields)&&x!==!w}if(l){const w=g(s.touchedFields,t);w||(p(s.touchedFields,t,l),F.touchedFields=s.touchedFields,u=u||(_.touchedFields||A.touchedFields)&&w!==l)}u&&c&&m.state.next(F)}return u?F:{}},he=(t,i,l,y)=>{const c=g(s.errors,t),u=(_.isValid||A.isValid)&&Q(i)&&s.isValid!==i;if(r.delayError&&l?(L=z(()=>v(t,l)),L(r.delayError)):(clearTimeout(T),L=null,l?p(s.errors,t,l):D(s.errors,t)),(l?!se(c,l):c)||!U(y)||u){const x={...y,...u&&Q(i)?{isValid:i}:{},errors:s.errors,name:t};s={...s,...x},m.state.next(x)}},ee=async t=>{K(t,!0);const i=await r.resolver(n,r.context,Rt(t||f.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return K(t),i},Ve=async t=>{const{errors:i}=await ee(t);if(t)for(const l of t){const y=g(i,l);y?p(s.errors,l,y):D(s.errors,l)}else s.errors=i;return i},q=async(t,i,l={valid:!0})=>{for(const y in t){const c=t[y];if(c){const{_f:u,...x}=c;if(u){const F=f.array.has(u.name),w=c._f&&Mt(c._f);w&&_.validatingFields&&K([y],!0);const B=await rt(c,f.disabled,n,re,r.shouldUseNativeValidation&&!i,F);if(w&&_.validatingFields&&K([y]),B[u.name]&&(l.valid=!1,i))break;!i&&(g(B,u.name)?F?Wt(s.errors,B,u.name):p(s.errors,u.name,B[u.name]):D(s.errors,u.name))}!U(x)&&await q(x,i,l)}}return l.valid},ie=()=>{for(const t of f.unMount){const i=g(a,t);i&&(i._f.refs?i._f.refs.every(l=>!ke(l)):!ke(i._f.ref))&&we(t)}f.unMount=new Set},G=(t,i)=>!r.disabled&&(t&&i&&p(n,t,i),!se(ge(),o)),b=(t,i,l)=>Et(t,f,{...h.mount?n:S(i)?o:X(t)?{[t]:i}:i},l,i),V=t=>Ce(g(h.mount?n:o,t,r.shouldUnregister?g(o,t,[]):[])),N=(t,i,l={})=>{const y=g(a,t);let c=i;if(y){const u=y._f;u&&(!u.disabled&&p(n,t,ut(i,u)),c=ve(u.ref)&&R(i)?"":i,at(u.ref)?[...u.ref.options].forEach(x=>x.selected=c.includes(x.value)):u.refs?ye(u.ref)?u.refs.forEach(x=>{(!x.defaultChecked||!x.disabled)&&(Array.isArray(c)?x.checked=!!c.find(F=>F===x.value):x.checked=c===x.value||!!c)}):u.refs.forEach(x=>x.checked=x.value===c):Le(u.ref)?u.ref.value="":(u.ref.value=c,u.ref.type||m.state.next({name:t,values:C(n)})))}(l.shouldDirty||l.shouldTouch)&&E(t,c,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&le(t)},O=(t,i,l)=>{for(const y in i){if(!i.hasOwnProperty(y))return;const c=i[y],u=t+"."+y,x=g(a,u);(f.array.has(t)||k(c)||x&&!x._f)&&!ae(c)?O(u,c,l):N(u,c,l)}},M=(t,i,l={})=>{const y=g(a,t),c=f.array.has(t),u=C(i);p(n,t,u),c?(m.array.next({name:t,values:C(n)}),(_.isDirty||_.dirtyFields||A.isDirty||A.dirtyFields)&&l.shouldDirty&&m.state.next({name:t,dirtyFields:ue(o,n),isDirty:G(t,u)})):y&&!y._f&&!R(u)?O(t,u,l):N(t,u,l),et(t,f)&&m.state.next({...s}),m.state.next({name:h.mount?t:void 0,values:C(n)})},J=async t=>{h.mount=!0;const i=t.target;let l=i.name,y=!0;const c=g(a,l),u=w=>{y=Number.isNaN(w)||ae(w)&&isNaN(w.getTime())||se(w,g(n,l,w))},x=Xe(r.mode),F=Xe(r.reValidateMode);if(c){let w,B;const xe=i.type?Qe(c._f):pt(t),te=t.type===ze.BLUR||t.type===ze.FOCUS_OUT,vt=!Ut(c._f)&&!r.resolver&&!g(s.errors,l)&&!c._f.deps||Pt(te,g(s.touchedFields,l),s.isSubmitted,F,x),je=et(l,f,te);p(n,l,xe),te?(c._f.onBlur&&c._f.onBlur(t),L&&L(0)):c._f.onChange&&c._f.onChange(t);const Ne=E(l,xe,te),bt=!U(Ne)||je;if(!te&&m.state.next({name:l,type:t.type,values:C(n)}),vt)return(_.isValid||A.isValid)&&(r.mode==="onBlur"?te&&j():te||j()),bt&&m.state.next({name:l,...je?{}:Ne});if(!te&&je&&m.state.next({...s}),r.resolver){const{errors:He}=await ee([l]);if(u(xe),y){const _t=tt(s.errors,a,l),$e=tt(He,a,_t.name||l);w=$e.error,l=$e.name,B=U(He)}}else K([l],!0),w=(await rt(c,f.disabled,n,re,r.shouldUseNativeValidation))[l],K([l]),u(xe),y&&(w?B=!1:(_.isValid||A.isValid)&&(B=await q(a,!0)));y&&(c._f.deps&&le(c._f.deps),he(l,B,w,Ne))}},oe=(t,i)=>{if(g(s.errors,i)&&t.focus)return t.focus(),1},le=async(t,i={})=>{let l,y;const c=ce(t);if(r.resolver){const u=await Ve(S(t)?t:c);l=U(u),y=t?!c.some(x=>g(u,x)):l}else t?(y=(await Promise.all(c.map(async u=>{const x=g(a,u);return await q(x&&x._f?{[u]:x}:x)}))).every(Boolean),!(!y&&!s.isValid)&&j()):y=l=await q(a);return m.state.next({...!X(t)||(_.isValid||A.isValid)&&l!==s.isValid?{}:{name:t},...r.resolver||!t?{isValid:l}:{},errors:s.errors}),i.shouldFocus&&!y&&fe(a,oe,t?c:f.mount),y},ge=t=>{const i={...h.mount?n:o};return S(t)?i:X(t)?g(i,t):t.map(l=>g(i,l))},Re=(t,i)=>({invalid:!!g((i||s).errors,t),isDirty:!!g((i||s).dirtyFields,t),error:g((i||s).errors,t),isValidating:!!g(s.validatingFields,t),isTouched:!!g((i||s).touchedFields,t)}),ct=t=>{t&&ce(t).forEach(i=>D(s.errors,i)),m.state.next({errors:t?s.errors:{}})},Me=(t,i,l)=>{const y=(g(a,t,{_f:{}})._f||{}).ref,c=g(s.errors,t)||{},{ref:u,message:x,type:F,...w}=c;p(s.errors,t,{...w,...i,ref:y}),m.state.next({name:t,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&y&&y.focus&&y.focus()},ft=(t,i)=>$(t)?m.state.subscribe({next:l=>t(b(void 0,i),l)}):b(t,i,!0),Ue=t=>m.state.subscribe({next:i=>{Bt(t.name,i.name,t.exact)&&It(i,t.formState||_,mt,t.reRenderRoot)&&t.callback({values:{...n},...s,...i})}}).unsubscribe,yt=t=>(h.mount=!0,A={...A,...t.formState},Ue({...t,formState:A})),we=(t,i={})=>{for(const l of t?ce(t):f.mount)f.mount.delete(l),f.array.delete(l),i.keepValue||(D(a,l),D(n,l)),!i.keepError&&D(s.errors,l),!i.keepDirty&&D(s.dirtyFields,l),!i.keepTouched&&D(s.touchedFields,l),!i.keepIsValidating&&D(s.validatingFields,l),!r.shouldUnregister&&!i.keepDefaultValue&&D(o,l);m.state.next({values:C(n)}),m.state.next({...s,...i.keepDirty?{isDirty:G()}:{}}),!i.keepIsValid&&j()},Ie=({disabled:t,name:i})=>{(Q(t)&&h.mount||t||f.disabled.has(i))&&(t?f.disabled.add(i):f.disabled.delete(i))},pe=(t,i={})=>{let l=g(a,t);const y=Q(i.disabled)||Q(r.disabled);return p(a,t,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:t}},name:t,mount:!0,...i}}),f.mount.add(t),l?Ie({disabled:Q(i.disabled)?i.disabled:r.disabled,name:t}):Y(t,!0,i.value),{...y?{disabled:i.disabled||r.disabled}:{},...r.progressive?{required:!!i.required,min:de(i.min),max:de(i.max),minLength:de(i.minLength),maxLength:de(i.maxLength),pattern:de(i.pattern)}:{},name:t,onChange:J,onBlur:J,ref:c=>{if(c){pe(t,i),l=g(a,t);const u=S(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,x=Tt(u),F=l._f.refs||[];if(x?F.find(w=>w===u):u===l._f.ref)return;p(a,t,{_f:{...l._f,...x?{refs:[...F.filter(ke),u,...Array.isArray(g(o,t))?[{}]:[]],ref:{type:u.type,name:t}}:{ref:u}}}),Y(t,!1,void 0,u)}else l=g(a,t,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||i.shouldUnregister)&&!(jt(f.array,t)&&h.action)&&f.unMount.add(t)}}},Ae=()=>r.shouldFocusError&&fe(a,oe,f.mount),ht=t=>{Q(t)&&(m.state.next({disabled:t}),fe(a,(i,l)=>{const y=g(a,l);y&&(i.disabled=y._f.disabled||t,Array.isArray(y._f.refs)&&y._f.refs.forEach(c=>{c.disabled=y._f.disabled||t}))},0,!1))},Be=(t,i)=>async l=>{let y;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let c=C(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:u,values:x}=await ee();s.errors=u,c=C(x)}else await q(a);if(f.disabled.size)for(const u of f.disabled)D(c,u);if(D(s.errors,"root"),U(s.errors)){m.state.next({errors:{}});try{await t(c,l)}catch(u){y=u}}else i&&await i({...s.errors},l),Ae(),setTimeout(Ae);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:U(s.errors)&&!y,submitCount:s.submitCount+1,errors:s.errors}),y)throw y},gt=(t,i={})=>{g(a,t)&&(S(i.defaultValue)?M(t,C(g(o,t))):(M(t,i.defaultValue),p(o,t,C(i.defaultValue))),i.keepTouched||D(s.touchedFields,t),i.keepDirty||(D(s.dirtyFields,t),s.isDirty=i.defaultValue?G(t,C(g(o,t))):G()),i.keepError||(D(s.errors,t),_.isValid&&j()),m.state.next({...s}))},Pe=(t,i={})=>{const l=t?C(t):o,y=C(l),c=U(t),u=c?o:y;if(i.keepDefaultValues||(o=l),!i.keepValues){if(i.keepDirtyValues){const x=new Set([...f.mount,...Object.keys(ue(o,n))]);for(const F of Array.from(x))g(s.dirtyFields,F)?p(u,F,g(n,F)):M(F,g(u,F))}else{if(Ee&&S(t))for(const x of f.mount){const F=g(a,x);if(F&&F._f){const w=Array.isArray(F._f.refs)?F._f.refs[0]:F._f.ref;if(ve(w)){const B=w.closest("form");if(B){B.reset();break}}}}if(i.keepFieldsRef)for(const x of f.mount)M(x,g(u,x));else a={}}n=r.shouldUnregister?i.keepDefaultValues?C(o):{}:C(u),m.array.next({values:{...u}}),m.state.next({values:{...u}})}f={mount:i.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!_.isValid||!!i.keepIsValid||!!i.keepDirtyValues,h.watch=!!r.shouldUnregister,m.state.next({submitCount:i.keepSubmitCount?s.submitCount:0,isDirty:c?!1:i.keepDirty?s.isDirty:!!(i.keepDefaultValues&&!se(t,o)),isSubmitted:i.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:c?{}:i.keepDirtyValues?i.keepDefaultValues&&n?ue(o,n):s.dirtyFields:i.keepDefaultValues&&t?ue(o,t):i.keepDirty?s.dirtyFields:{},touchedFields:i.keepTouched?s.touchedFields:{},errors:i.keepErrors?s.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},qe=(t,i)=>Pe($(t)?t(n):t,i),xt=(t,i={})=>{const l=g(a,t),y=l&&l._f;if(y){const c=y.refs?y.refs[0]:y.ref;c.focus&&(c.focus(),i.shouldSelect&&$(c.select)&&c.select())}},mt=t=>{s={...s,...t}},We={control:{register:pe,unregister:we,getFieldState:Re,handleSubmit:Be,setError:Me,_subscribe:Ue,_runSchema:ee,_focusError:Ae,_getWatch:b,_getDirty:G,_setValid:j,_setFieldArray:I,_setDisabledField:Ie,_setErrors:P,_getFieldArray:V,_reset:Pe,_resetDefaultValues:()=>$(r.defaultValues)&&r.defaultValues().then(t=>{qe(t,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:ie,_disableForm:ht,_subjects:m,_proxyFormState:_,get _fields(){return a},get _formValues(){return n},get _state(){return h},set _state(t){h=t},get _defaultValues(){return o},get _names(){return f},set _names(t){f=t},get _formState(){return s},get _options(){return r},set _options(t){r={...r,...t}}},subscribe:yt,trigger:le,register:pe,handleSubmit:Be,watch:ft,setValue:M,getValues:ge,reset:qe,resetField:gt,clearErrors:ct,unregister:we,setError:Me,setFocus:xt,getFieldState:Re};return{...We,formControl:We}}function zt(e={}){const r=W.useRef(void 0),s=W.useRef(void 0),[a,o]=W.useState({isDirty:!1,isValidating:!1,isLoading:$(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:$(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:a},e.defaultValues&&!$(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:h,...f}=$t(e);r.current={...f,formState:a}}const n=r.current.control;return n._options=e,St(()=>{const h=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(f=>({...f,isReady:!0})),n._formState.isReady=!0,h},[n]),W.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),W.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),W.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),W.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),W.useEffect(()=>{if(n._proxyFormState.isDirty){const h=n._getDirty();h!==a.isDirty&&n._subjects.state.next({isDirty:h})}},[n,a.isDirty]),W.useEffect(()=>{e.values&&!se(e.values,s.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),s.current=e.values,o(h=>({...h}))):n._resetDefaultValues()},[n,e.values]),W.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=Dt(a,n),r.current}const Gt=()=>{const e=Ft(),{getSelectedItems:r,selectedTotalPrice:s,selectedTotalItems:a}=Vt(),[o,n]=De.useState(!1),h=r(),{register:f,handleSubmit:L,formState:{errors:T},watch:_,setValue:A}=zt({defaultValues:{name:"张三",phone:"13800138000",province:"广东省",city:"深圳市",district:"南山区",detail:"科技园南区深南大道9988号"}}),m={subtotal:s,shipping:s>=99?0:10,discount:0,total:s+(s>=99?0:10)},re=()=>{e(-1)},z=I=>{console.log("地址信息:",I),n(!1)},j={required:"请输入手机号",pattern:{value:/^1[3-9]\d{9}$/,message:"请输入正确的手机号"}},K=()=>{if(h.length===0){alert("请选择要结算的商品");return}alert("支付功能暂未接入，敬请期待！")};return h.length===0?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-500 mb-4",children:"没有选中的商品"}),d.jsx("button",{onClick:()=>e("/cart"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg",children:"返回购物车"})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(wt,{}),d.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-10",children:d.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[d.jsx("button",{onClick:re,className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-gray-100",title:"返回上一页",children:d.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})})}),d.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"确认订单"}),d.jsx("div",{className:"w-10"})]})}),d.jsxs("div",{className:"pb-32",children:[d.jsxs("div",{className:"bg-white mb-2 px-4 py-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"text-base font-medium text-gray-900",children:"收货地址"}),d.jsx("button",{onClick:()=>n(!o),className:"text-blue-600 text-sm",children:o?"取消":"修改"})]}),o?d.jsxs("form",{onSubmit:L(z),className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("input",{...f("name",{required:"请输入收货人姓名"}),placeholder:"收货人姓名",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.name&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.name.message})]}),d.jsxs("div",{children:[d.jsx("input",{...f("phone",j),placeholder:"手机号",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.phone&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.phone.message})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("select",{...f("province",{required:"请选择省份"}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"广东省",children:"广东省"}),d.jsx("option",{value:"北京市",children:"北京市"}),d.jsx("option",{value:"上海市",children:"上海市"})]}),d.jsxs("select",{...f("city",{required:"请选择城市"}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"深圳市",children:"深圳市"}),d.jsx("option",{value:"广州市",children:"广州市"})]}),d.jsxs("select",{...f("district",{required:"请选择区县"}),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"南山区",children:"南山区"}),d.jsx("option",{value:"福田区",children:"福田区"})]})]}),d.jsxs("div",{children:[d.jsx("textarea",{...f("detail",{required:"请输入详细地址"}),placeholder:"详细地址",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),T.detail&&d.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.detail.message})]}),d.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"保存地址"})]}):d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"font-medium",children:_("name")}),d.jsx("span",{className:"text-gray-600",children:_("phone")})]}),d.jsxs("p",{className:"text-gray-700 text-sm",children:[_("province")," ",_("city")," ",_("district")," ",_("detail")]})]})]}),d.jsxs("div",{className:"bg-white mb-2",children:[d.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:d.jsxs("h2",{className:"text-base font-medium text-gray-900",children:["商品清单 (",a,"件)"]})}),d.jsx("div",{className:"divide-y divide-gray-100",children:h.map(I=>d.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[d.jsx("img",{src:I.image,alt:I.name,className:"w-16 h-16 rounded-md object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium text-gray-900 text-sm line-clamp-2",children:I.name}),d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Object.entries(I.selectedVariants).map(([v,P])=>d.jsx("span",{className:"mr-2",children:`${v}: ${P}`},v))}),d.jsxs("div",{className:"flex items-center justify-between mt-2",children:[d.jsxs("span",{className:"text-red-600 font-medium",children:["¥",I.price.toFixed(2)]}),d.jsxs("span",{className:"text-gray-500 text-sm",children:["×",I.quantity]})]})]})]},I.id))})]}),d.jsxs("div",{className:"bg-white mb-2 px-4 py-4",children:[d.jsx("h2",{className:"text-base font-medium text-gray-900 mb-3",children:"费用明细"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"商品小计"}),d.jsxs("span",{children:["¥",m.subtotal.toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"运费"}),d.jsx("span",{children:m.shipping===0?"免运费":`¥${m.shipping.toFixed(2)}`})]}),m.discount>0,d.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between font-medium text-base",children:[d.jsx("span",{children:"实付款"}),d.jsxs("span",{className:"text-red-600",children:["¥",m.total.toFixed(2)]})]})]})]})]}),d.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500",children:"实付款"}),d.jsxs("p",{className:"font-bold text-red-600 text-lg",children:["¥",m.total.toFixed(2)]})]}),d.jsx("button",{onClick:K,className:"bg-red-500 text-white font-medium py-3 px-8 rounded-lg hover:bg-red-600 transition-colors",children:"去支付"})]})})]})};export{Gt as default};
//# sourceMappingURL=CheckoutPage-CAEz4Zjb.js.map
