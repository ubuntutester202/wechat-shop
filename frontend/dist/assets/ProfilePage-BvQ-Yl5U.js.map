{"version":3,"file":"ProfilePage-BvQ-Yl5U.js","sources":["../../../node_modules/.pnpm/cos-js-sdk-v5@1.10.1/node_modules/cos-js-sdk-v5/dist/cos-js-sdk-v5.js","../../src/utils/cosUploader.ts","../../src/components/ui/AvatarUploader.tsx","../../src/stores/userStore.ts","../../src/pages/profile/ProfilePage.tsx"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"COS\"] = factory();\n\telse\n\t\troot[\"COS\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./index.js\":\n/*!******************!*\\\n  !*** ./index.js ***!\n  \\******************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar COS = __webpack_require__(/*! ./src/cos */ \"./src/cos.js\");\nmodule.exports = COS;\n\n/***/ }),\n\n/***/ \"./lib/base64.js\":\n/*!***********************!*\\\n  !*** ./lib/base64.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/*\n * $Id: base64.js,v 2.15 2014/04/05 12:58:57 dankogai Exp dankogai $\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n */\n\nvar Base64 = function (global) {\n  global = global || {};\n  'use strict';\n  // existing version for noConflict()\n  var _Base64 = global.Base64;\n  var version = \"2.1.9\";\n  // if node.js, we use Buffer\n  var buffer;\n  // constants\n  var b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n  var b64tab = function (bin) {\n    var t = {};\n    for (var i = 0, l = bin.length; i < l; i++) t[bin.charAt(i)] = i;\n    return t;\n  }(b64chars);\n  var fromCharCode = String.fromCharCode;\n  // encoder stuff\n  var cb_utob = function cb_utob(c) {\n    if (c.length < 2) {\n      var cc = c.charCodeAt(0);\n      return cc < 0x80 ? c : cc < 0x800 ? fromCharCode(0xc0 | cc >>> 6) + fromCharCode(0x80 | cc & 0x3f) : fromCharCode(0xe0 | cc >>> 12 & 0x0f) + fromCharCode(0x80 | cc >>> 6 & 0x3f) + fromCharCode(0x80 | cc & 0x3f);\n    } else {\n      var cc = 0x10000 + (c.charCodeAt(0) - 0xD800) * 0x400 + (c.charCodeAt(1) - 0xDC00);\n      return fromCharCode(0xf0 | cc >>> 18 & 0x07) + fromCharCode(0x80 | cc >>> 12 & 0x3f) + fromCharCode(0x80 | cc >>> 6 & 0x3f) + fromCharCode(0x80 | cc & 0x3f);\n    }\n  };\n  var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n  var utob = function utob(u) {\n    return u.replace(re_utob, cb_utob);\n  };\n  var cb_encode = function cb_encode(ccc) {\n    var padlen = [0, 2, 1][ccc.length % 3],\n      ord = ccc.charCodeAt(0) << 16 | (ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8 | (ccc.length > 2 ? ccc.charCodeAt(2) : 0),\n      chars = [b64chars.charAt(ord >>> 18), b64chars.charAt(ord >>> 12 & 63), padlen >= 2 ? '=' : b64chars.charAt(ord >>> 6 & 63), padlen >= 1 ? '=' : b64chars.charAt(ord & 63)];\n    return chars.join('');\n  };\n  var btoa = global.btoa ? function (b) {\n    return global.btoa(b);\n  } : function (b) {\n    return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n  };\n  var _encode = buffer ? function (u) {\n    return (u.constructor === buffer.constructor ? u : new buffer(u)).toString('base64');\n  } : function (u) {\n    return btoa(utob(u));\n  };\n  var encode = function encode(u, urisafe) {\n    return !urisafe ? _encode(String(u)) : _encode(String(u)).replace(/[+\\/]/g, function (m0) {\n      return m0 == '+' ? '-' : '_';\n    }).replace(/=/g, '');\n  };\n  var encodeURI = function encodeURI(u) {\n    return encode(u, true);\n  };\n  // decoder stuff\n  var re_btou = new RegExp(['[\\xC0-\\xDF][\\x80-\\xBF]', '[\\xE0-\\xEF][\\x80-\\xBF]{2}', '[\\xF0-\\xF7][\\x80-\\xBF]{3}'].join('|'), 'g');\n  var cb_btou = function cb_btou(cccc) {\n    switch (cccc.length) {\n      case 4:\n        var cp = (0x07 & cccc.charCodeAt(0)) << 18 | (0x3f & cccc.charCodeAt(1)) << 12 | (0x3f & cccc.charCodeAt(2)) << 6 | 0x3f & cccc.charCodeAt(3),\n          offset = cp - 0x10000;\n        return fromCharCode((offset >>> 10) + 0xD800) + fromCharCode((offset & 0x3FF) + 0xDC00);\n      case 3:\n        return fromCharCode((0x0f & cccc.charCodeAt(0)) << 12 | (0x3f & cccc.charCodeAt(1)) << 6 | 0x3f & cccc.charCodeAt(2));\n      default:\n        return fromCharCode((0x1f & cccc.charCodeAt(0)) << 6 | 0x3f & cccc.charCodeAt(1));\n    }\n  };\n  var btou = function btou(b) {\n    return b.replace(re_btou, cb_btou);\n  };\n  var cb_decode = function cb_decode(cccc) {\n    var len = cccc.length,\n      padlen = len % 4,\n      n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0) | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0) | (len > 2 ? b64tab[cccc.charAt(2)] << 6 : 0) | (len > 3 ? b64tab[cccc.charAt(3)] : 0),\n      chars = [fromCharCode(n >>> 16), fromCharCode(n >>> 8 & 0xff), fromCharCode(n & 0xff)];\n    chars.length -= [0, 0, 2, 1][padlen];\n    return chars.join('');\n  };\n  var atob = global.atob ? function (a) {\n    return global.atob(a);\n  } : function (a) {\n    return a.replace(/[\\s\\S]{1,4}/g, cb_decode);\n  };\n  var _decode = buffer ? function (a) {\n    return (a.constructor === buffer.constructor ? a : new buffer(a, 'base64')).toString();\n  } : function (a) {\n    return btou(atob(a));\n  };\n  var decode = function decode(a) {\n    return _decode(String(a).replace(/[-_]/g, function (m0) {\n      return m0 == '-' ? '+' : '/';\n    }).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n  };\n  var noConflict = function noConflict() {\n    var Base64 = global.Base64;\n    global.Base64 = _Base64;\n    return Base64;\n  };\n  // export Base64\n  var Base64 = {\n    VERSION: version,\n    atob: atob,\n    btoa: btoa,\n    fromBase64: decode,\n    toBase64: encode,\n    utob: utob,\n    encode: encode,\n    encodeURI: encodeURI,\n    btou: btou,\n    decode: decode,\n    noConflict: noConflict\n  };\n  return Base64;\n}();\nmodule.exports = Base64;\n\n/***/ }),\n\n/***/ \"./lib/crypto.js\":\n/*!***********************!*\\\n  !*** ./lib/crypto.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n/*\n CryptoJS v3.1.2\n code.google.com/p/crypto-js\n (c) 2009-2013 by Jeff Mott. All rights reserved.\n code.google.com/p/crypto-js/wiki/License\n */\nvar CryptoJS = CryptoJS || function (g, l) {\n  var e = {},\n    d = e.lib = {},\n    m = function m() {},\n    k = d.Base = {\n      extend: function extend(a) {\n        m.prototype = this;\n        var c = new m();\n        a && c.mixIn(a);\n        c.hasOwnProperty(\"init\") || (c.init = function () {\n          c.$super.init.apply(this, arguments);\n        });\n        c.init.prototype = c;\n        c.$super = this;\n        return c;\n      },\n      create: function create() {\n        var a = this.extend();\n        a.init.apply(a, arguments);\n        return a;\n      },\n      init: function init() {},\n      mixIn: function mixIn(a) {\n        for (var c in a) a.hasOwnProperty(c) && (this[c] = a[c]);\n        a.hasOwnProperty(\"toString\") && (this.toString = a.toString);\n      },\n      clone: function clone() {\n        return this.init.prototype.extend(this);\n      }\n    },\n    p = d.WordArray = k.extend({\n      init: function init(a, c) {\n        a = this.words = a || [];\n        this.sigBytes = c != l ? c : 4 * a.length;\n      },\n      toString: function toString(a) {\n        return (a || n).stringify(this);\n      },\n      concat: function concat(a) {\n        var c = this.words,\n          q = a.words,\n          f = this.sigBytes;\n        a = a.sigBytes;\n        this.clamp();\n        if (f % 4) for (var b = 0; b < a; b++) c[f + b >>> 2] |= (q[b >>> 2] >>> 24 - 8 * (b % 4) & 255) << 24 - 8 * ((f + b) % 4);else if (65535 < q.length) for (b = 0; b < a; b += 4) c[f + b >>> 2] = q[b >>> 2];else c.push.apply(c, q);\n        this.sigBytes += a;\n        return this;\n      },\n      clamp: function clamp() {\n        var a = this.words,\n          c = this.sigBytes;\n        a[c >>> 2] &= 4294967295 << 32 - 8 * (c % 4);\n        a.length = g.ceil(c / 4);\n      },\n      clone: function clone() {\n        var a = k.clone.call(this);\n        a.words = this.words.slice(0);\n        return a;\n      },\n      random: function random(a) {\n        for (var c = [], b = 0; b < a; b += 4) c.push(4294967296 * g.random() | 0);\n        return new p.init(c, a);\n      }\n    }),\n    b = e.enc = {},\n    n = b.Hex = {\n      stringify: function stringify(a) {\n        var c = a.words;\n        a = a.sigBytes;\n        for (var b = [], f = 0; f < a; f++) {\n          var d = c[f >>> 2] >>> 24 - 8 * (f % 4) & 255;\n          b.push((d >>> 4).toString(16));\n          b.push((d & 15).toString(16));\n        }\n        return b.join(\"\");\n      },\n      parse: function parse(a) {\n        for (var c = a.length, b = [], f = 0; f < c; f += 2) b[f >>> 3] |= parseInt(a.substr(f, 2), 16) << 24 - 4 * (f % 8);\n        return new p.init(b, c / 2);\n      }\n    },\n    j = b.Latin1 = {\n      stringify: function stringify(a) {\n        var c = a.words;\n        a = a.sigBytes;\n        for (var b = [], f = 0; f < a; f++) b.push(String.fromCharCode(c[f >>> 2] >>> 24 - 8 * (f % 4) & 255));\n        return b.join(\"\");\n      },\n      parse: function parse(a) {\n        for (var c = a.length, b = [], f = 0; f < c; f++) b[f >>> 2] |= (a.charCodeAt(f) & 255) << 24 - 8 * (f % 4);\n        return new p.init(b, c);\n      }\n    },\n    h = b.Utf8 = {\n      stringify: function stringify(a) {\n        try {\n          return decodeURIComponent(escape(j.stringify(a)));\n        } catch (c) {\n          throw Error(\"Malformed UTF-8 data\");\n        }\n      },\n      parse: function parse(a) {\n        return j.parse(unescape(encodeURIComponent(a)));\n      }\n    },\n    r = d.BufferedBlockAlgorithm = k.extend({\n      reset: function reset() {\n        this._data = new p.init();\n        this._nDataBytes = 0;\n      },\n      _append: function _append(a) {\n        \"string\" == typeof a && (a = h.parse(a));\n        this._data.concat(a);\n        this._nDataBytes += a.sigBytes;\n      },\n      _process: function _process(a) {\n        var c = this._data,\n          b = c.words,\n          f = c.sigBytes,\n          d = this.blockSize,\n          e = f / (4 * d),\n          e = a ? g.ceil(e) : g.max((e | 0) - this._minBufferSize, 0);\n        a = e * d;\n        f = g.min(4 * a, f);\n        if (a) {\n          for (var k = 0; k < a; k += d) this._doProcessBlock(b, k);\n          k = b.splice(0, a);\n          c.sigBytes -= f;\n        }\n        return new p.init(k, f);\n      },\n      clone: function clone() {\n        var a = k.clone.call(this);\n        a._data = this._data.clone();\n        return a;\n      },\n      _minBufferSize: 0\n    });\n  d.Hasher = r.extend({\n    cfg: k.extend(),\n    init: function init(a) {\n      this.cfg = this.cfg.extend(a);\n      this.reset();\n    },\n    reset: function reset() {\n      r.reset.call(this);\n      this._doReset();\n    },\n    update: function update(a) {\n      this._append(a);\n      this._process();\n      return this;\n    },\n    finalize: function finalize(a) {\n      a && this._append(a);\n      return this._doFinalize();\n    },\n    blockSize: 16,\n    _createHelper: function _createHelper(a) {\n      return function (b, d) {\n        return new a.init(d).finalize(b);\n      };\n    },\n    _createHmacHelper: function _createHmacHelper(a) {\n      return function (b, d) {\n        return new s.HMAC.init(a, d).finalize(b);\n      };\n    }\n  });\n  var s = e.algo = {};\n  return e;\n}(Math);\n(function () {\n  var g = CryptoJS,\n    l = g.lib,\n    e = l.WordArray,\n    d = l.Hasher,\n    m = [],\n    l = g.algo.SHA1 = d.extend({\n      _doReset: function _doReset() {\n        this._hash = new e.init([1732584193, 4023233417, 2562383102, 271733878, 3285377520]);\n      },\n      _doProcessBlock: function _doProcessBlock(d, e) {\n        for (var b = this._hash.words, n = b[0], j = b[1], h = b[2], g = b[3], l = b[4], a = 0; 80 > a; a++) {\n          if (16 > a) m[a] = d[e + a] | 0;else {\n            var c = m[a - 3] ^ m[a - 8] ^ m[a - 14] ^ m[a - 16];\n            m[a] = c << 1 | c >>> 31;\n          }\n          c = (n << 5 | n >>> 27) + l + m[a];\n          c = 20 > a ? c + ((j & h | ~j & g) + 1518500249) : 40 > a ? c + ((j ^ h ^ g) + 1859775393) : 60 > a ? c + ((j & h | j & g | h & g) - 1894007588) : c + ((j ^ h ^ g) - 899497514);\n          l = g;\n          g = h;\n          h = j << 30 | j >>> 2;\n          j = n;\n          n = c;\n        }\n        b[0] = b[0] + n | 0;\n        b[1] = b[1] + j | 0;\n        b[2] = b[2] + h | 0;\n        b[3] = b[3] + g | 0;\n        b[4] = b[4] + l | 0;\n      },\n      _doFinalize: function _doFinalize() {\n        var d = this._data,\n          e = d.words,\n          b = 8 * this._nDataBytes,\n          g = 8 * d.sigBytes;\n        e[g >>> 5] |= 128 << 24 - g % 32;\n        e[(g + 64 >>> 9 << 4) + 14] = Math.floor(b / 4294967296);\n        e[(g + 64 >>> 9 << 4) + 15] = b;\n        d.sigBytes = 4 * e.length;\n        this._process();\n        return this._hash;\n      },\n      clone: function clone() {\n        var e = d.clone.call(this);\n        e._hash = this._hash.clone();\n        return e;\n      }\n    });\n  g.SHA1 = d._createHelper(l);\n  g.HmacSHA1 = d._createHmacHelper(l);\n})();\n(function () {\n  var g = CryptoJS,\n    l = g.enc.Utf8;\n  g.algo.HMAC = g.lib.Base.extend({\n    init: function init(e, d) {\n      e = this._hasher = new e.init();\n      \"string\" == typeof d && (d = l.parse(d));\n      var g = e.blockSize,\n        k = 4 * g;\n      d.sigBytes > k && (d = e.finalize(d));\n      d.clamp();\n      for (var p = this._oKey = d.clone(), b = this._iKey = d.clone(), n = p.words, j = b.words, h = 0; h < g; h++) n[h] ^= 1549556828, j[h] ^= 909522486;\n      p.sigBytes = b.sigBytes = k;\n      this.reset();\n    },\n    reset: function reset() {\n      var e = this._hasher;\n      e.reset();\n      e.update(this._iKey);\n    },\n    update: function update(e) {\n      this._hasher.update(e);\n      return this;\n    },\n    finalize: function finalize(e) {\n      var d = this._hasher;\n      e = d.finalize(e);\n      d.reset();\n      return d.finalize(this._oKey.clone().concat(e));\n    }\n  });\n})();\n(function () {\n  // Shortcuts\n  var C = CryptoJS;\n  var C_lib = C.lib;\n  var WordArray = C_lib.WordArray;\n  var C_enc = C.enc;\n\n  /**\n   * Base64 encoding strategy.\n   */\n  var Base64 = C_enc.Base64 = {\n    /**\n     * Converts a word array to a Base64 string.\n     *\n     * @param {WordArray} wordArray The word array.\n     *\n     * @return {string} The Base64 string.\n     *\n     * @static\n     *\n     * @example\n     *\n     *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n     */\n    stringify: function stringify(wordArray) {\n      // Shortcuts\n      var words = wordArray.words;\n      var sigBytes = wordArray.sigBytes;\n      var map = this._map;\n\n      // Clamp excess bits\n      wordArray.clamp();\n\n      // Convert\n      var base64Chars = [];\n      for (var i = 0; i < sigBytes; i += 3) {\n        var byte1 = words[i >>> 2] >>> 24 - i % 4 * 8 & 0xff;\n        var byte2 = words[i + 1 >>> 2] >>> 24 - (i + 1) % 4 * 8 & 0xff;\n        var byte3 = words[i + 2 >>> 2] >>> 24 - (i + 2) % 4 * 8 & 0xff;\n        var triplet = byte1 << 16 | byte2 << 8 | byte3;\n        for (var j = 0; j < 4 && i + j * 0.75 < sigBytes; j++) {\n          base64Chars.push(map.charAt(triplet >>> 6 * (3 - j) & 0x3f));\n        }\n      }\n\n      // Add padding\n      var paddingChar = map.charAt(64);\n      if (paddingChar) {\n        while (base64Chars.length % 4) {\n          base64Chars.push(paddingChar);\n        }\n      }\n      return base64Chars.join('');\n    },\n    /**\n     * Converts a Base64 string to a word array.\n     *\n     * @param {string} base64Str The Base64 string.\n     *\n     * @return {WordArray} The word array.\n     *\n     * @static\n     *\n     * @example\n     *\n     *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n     */\n    parse: function parse(base64Str) {\n      // Shortcuts\n      var base64StrLength = base64Str.length;\n      var map = this._map;\n\n      // Ignore padding\n      var paddingChar = map.charAt(64);\n      if (paddingChar) {\n        var paddingIndex = base64Str.indexOf(paddingChar);\n        if (paddingIndex != -1) {\n          base64StrLength = paddingIndex;\n        }\n      }\n\n      // Convert\n      var words = [];\n      var nBytes = 0;\n      for (var i = 0; i < base64StrLength; i++) {\n        if (i % 4) {\n          var bits1 = map.indexOf(base64Str.charAt(i - 1)) << i % 4 * 2;\n          var bits2 = map.indexOf(base64Str.charAt(i)) >>> 6 - i % 4 * 2;\n          words[nBytes >>> 2] |= (bits1 | bits2) << 24 - nBytes % 4 * 8;\n          nBytes++;\n        }\n      }\n      return WordArray.create(words, nBytes);\n    },\n    _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n  };\n})();\nif (( false ? undefined : _typeof(module)) === 'object') {\n  module.exports = CryptoJS;\n} else {\n  window.CryptoJS = CryptoJS;\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))\n\n/***/ }),\n\n/***/ \"./lib/md5.js\":\n/*!********************!*\\\n  !*** ./lib/md5.js ***!\n  \\********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_RESULT__;var _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\n/* https://github.com/emn178/js-md5 */\n(function () {\n  'use strict';\n\n  var WINDOW = (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_MD5_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) === 'object';\n  if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && ( false ? undefined : _typeof(module)) === 'object' && module.exports;\n  var AMD =  true && __webpack_require__(/*! !webpack amd options */ \"./node_modules/webpack/buildin/amd-options.js\");\n  var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [128, 32768, 8388608, -2147483648];\n  var SHIFT = [0, 8, 16, 24];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];\n  var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n  var blocks = [],\n    buffer8;\n  if (ARRAY_BUFFER) {\n    var buffer = new ArrayBuffer(68);\n    buffer8 = new Uint8Array(buffer);\n    blocks = new Uint32Array(buffer);\n  }\n  if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n  if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return _typeof(obj) === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  /**\n   * @method hex\n   * @memberof md5\n   * @description Output hash as hex string\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {String} Hex string\n   * @example\n   * md5.hex('The quick brown fox jumps over the lazy dog');\n   * // equal to\n   * md5('The quick brown fox jumps over the lazy dog');\n   */\n  /**\n   * @method digest\n   * @memberof md5\n   * @description Output hash as bytes array\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Array} Bytes array\n   * @example\n   * md5.digest('The quick brown fox jumps over the lazy dog');\n   */\n  /**\n   * @method array\n   * @memberof md5\n   * @description Output hash as bytes array\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Array} Bytes array\n   * @example\n   * md5.array('The quick brown fox jumps over the lazy dog');\n   */\n  /**\n   * @method arrayBuffer\n   * @memberof md5\n   * @description Output hash as ArrayBuffer\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @example\n   * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');\n   */\n  /**\n   * @method buffer\n   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n   * @memberof md5\n   * @description Output hash as ArrayBuffer\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @example\n   * md5.buffer('The quick brown fox jumps over the lazy dog');\n   */\n  /**\n   * @method base64\n   * @memberof md5\n   * @description Output hash as base64 string\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {String} base64 string\n   * @example\n   * md5.base64('The quick brown fox jumps over the lazy dog');\n   */\n  var createOutputMethod = function createOutputMethod(outputType) {\n    return function (message, isBinStr) {\n      return new Md5(true).update(message, isBinStr)[outputType]();\n    };\n  };\n\n  /**\n   * @method create\n   * @memberof md5\n   * @description Create Md5 object\n   * @returns {Md5} Md5 object.\n   * @example\n   * var hash = md5.create();\n   */\n  /**\n   * @method update\n   * @memberof md5\n   * @description Create and update Md5 object\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Md5} Md5 object.\n   * @example\n   * var hash = md5.update('The quick brown fox jumps over the lazy dog');\n   * // equal to\n   * var hash = md5.create();\n   * hash.update('The quick brown fox jumps over the lazy dog');\n   */\n  var createMethod = function createMethod() {\n    var method = createOutputMethod('hex');\n    method.getCtx = method.create = function () {\n      return new Md5();\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type);\n    }\n    return method;\n  };\n\n  /**\n   * Md5 class\n   * @class Md5\n   * @description This is internal class.\n   * @see {@link md5.create}\n   */\n  function Md5(sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n      this.buffer8 = buffer8;\n    } else {\n      if (ARRAY_BUFFER) {\n        var buffer = new ArrayBuffer(68);\n        this.buffer8 = new Uint8Array(buffer);\n        this.blocks = new Uint32Array(buffer);\n      } else {\n        this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n      }\n    }\n    this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n  }\n\n  /**\n   * @method update\n   * @memberof Md5\n   * @instance\n   * @description Update hash\n   * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n   * @returns {Md5} Md5 object.\n   * @see {@link md5.update}\n   */\n  Md5.prototype.update = function (message, isBinStr) {\n    if (this.finalized) {\n      return;\n    }\n    var code,\n      index = 0,\n      i,\n      length = message.length,\n      blocks = this.blocks;\n    var buffer8 = this.buffer8;\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = blocks[16];\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n      if (ARRAY_BUFFER) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (isBinStr || code < 0x80) {\n            buffer8[i++] = code;\n          } else if (code < 0x800) {\n            buffer8[i++] = 0xc0 | code >> 6;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          } else if (code < 0xd800 || code >= 0xe000) {\n            buffer8[i++] = 0xe0 | code >> 12;\n            buffer8[i++] = 0x80 | code >> 6 & 0x3f;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          } else {\n            code = 0x10000 + ((code & 0x3ff) << 10 | message.charCodeAt(++index) & 0x3ff);\n            buffer8[i++] = 0xf0 | code >> 18;\n            buffer8[i++] = 0x80 | code >> 12 & 0x3f;\n            buffer8[i++] = 0x80 | code >> 6 & 0x3f;\n            buffer8[i++] = 0x80 | code & 0x3f;\n          }\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (isBinStr || code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | code >> 6) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | code >> 12) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + ((code & 0x3ff) << 10 | message.charCodeAt(++index) & 0x3ff);\n            blocks[i >> 2] |= (0xf0 | code >> 18) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 12 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code >> 6 & 0x3f) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | code & 0x3f) << SHIFT[i++ & 3];\n          }\n        }\n      }\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n  Md5.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks,\n      i = this.lastByteIndex;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = blocks[16];\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.bytes << 3;\n    blocks[15] = this.hBytes << 3 | this.bytes >>> 29;\n    this.hash();\n  };\n  Md5.prototype.hash = function () {\n    var a,\n      b,\n      c,\n      d,\n      bc,\n      da,\n      blocks = this.blocks;\n    if (this.first) {\n      a = blocks[0] - 680876937;\n      a = (a << 7 | a >>> 25) - 271733879 << 0;\n      d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;\n      d = (d << 12 | d >>> 20) + a << 0;\n      c = (-271733879 ^ d & (a ^ -271733879)) + blocks[2] - 1126478375;\n      c = (c << 17 | c >>> 15) + d << 0;\n      b = (a ^ c & (d ^ a)) + blocks[3] - 1316259209;\n      b = (b << 22 | b >>> 10) + c << 0;\n    } else {\n      a = this.h0;\n      b = this.h1;\n      c = this.h2;\n      d = this.h3;\n      a += (d ^ b & (c ^ d)) + blocks[0] - 680876936;\n      a = (a << 7 | a >>> 25) + b << 0;\n      d += (c ^ a & (b ^ c)) + blocks[1] - 389564586;\n      d = (d << 12 | d >>> 20) + a << 0;\n      c += (b ^ d & (a ^ b)) + blocks[2] + 606105819;\n      c = (c << 17 | c >>> 15) + d << 0;\n      b += (a ^ c & (d ^ a)) + blocks[3] - 1044525330;\n      b = (b << 22 | b >>> 10) + c << 0;\n    }\n    a += (d ^ b & (c ^ d)) + blocks[4] - 176418897;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[5] + 1200080426;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[6] - 1473231341;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[7] - 45705983;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (d ^ b & (c ^ d)) + blocks[8] + 1770035416;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[9] - 1958414417;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[10] - 42063;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[11] - 1990404162;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (d ^ b & (c ^ d)) + blocks[12] + 1804603682;\n    a = (a << 7 | a >>> 25) + b << 0;\n    d += (c ^ a & (b ^ c)) + blocks[13] - 40341101;\n    d = (d << 12 | d >>> 20) + a << 0;\n    c += (b ^ d & (a ^ b)) + blocks[14] - 1502002290;\n    c = (c << 17 | c >>> 15) + d << 0;\n    b += (a ^ c & (d ^ a)) + blocks[15] + 1236535329;\n    b = (b << 22 | b >>> 10) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[1] - 165796510;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[6] - 1069501632;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[11] + 643717713;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[0] - 373897302;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[5] - 701558691;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[10] + 38016083;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[15] - 660478335;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[4] - 405537848;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[9] + 568446438;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[14] - 1019803690;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[3] - 187363961;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[8] + 1163531501;\n    b = (b << 20 | b >>> 12) + c << 0;\n    a += (c ^ d & (b ^ c)) + blocks[13] - 1444681467;\n    a = (a << 5 | a >>> 27) + b << 0;\n    d += (b ^ c & (a ^ b)) + blocks[2] - 51403784;\n    d = (d << 9 | d >>> 23) + a << 0;\n    c += (a ^ b & (d ^ a)) + blocks[7] + 1735328473;\n    c = (c << 14 | c >>> 18) + d << 0;\n    b += (d ^ a & (c ^ d)) + blocks[12] - 1926607734;\n    b = (b << 20 | b >>> 12) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[5] - 378558;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[8] - 2022574463;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[11] + 1839030562;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[14] - 35309556;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[1] - 1530992060;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[4] + 1272893353;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[7] - 155497632;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[10] - 1094730640;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[13] + 681279174;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[0] - 358537222;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[3] - 722521979;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[6] + 76029189;\n    b = (b << 23 | b >>> 9) + c << 0;\n    bc = b ^ c;\n    a += (bc ^ d) + blocks[9] - 640364487;\n    a = (a << 4 | a >>> 28) + b << 0;\n    d += (bc ^ a) + blocks[12] - 421815835;\n    d = (d << 11 | d >>> 21) + a << 0;\n    da = d ^ a;\n    c += (da ^ b) + blocks[15] + 530742520;\n    c = (c << 16 | c >>> 16) + d << 0;\n    b += (da ^ c) + blocks[2] - 995338651;\n    b = (b << 23 | b >>> 9) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[0] - 198630844;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[7] + 1126891415;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[14] - 1416354905;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[5] - 57434055;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[12] + 1700485571;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[3] - 1894986606;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[10] - 1051523;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[1] - 2054922799;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[8] + 1873313359;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[15] - 30611744;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[6] - 1560198380;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[13] + 1309151649;\n    b = (b << 21 | b >>> 11) + c << 0;\n    a += (c ^ (b | ~d)) + blocks[4] - 145523070;\n    a = (a << 6 | a >>> 26) + b << 0;\n    d += (b ^ (a | ~c)) + blocks[11] - 1120210379;\n    d = (d << 10 | d >>> 22) + a << 0;\n    c += (a ^ (d | ~b)) + blocks[2] + 718787259;\n    c = (c << 15 | c >>> 17) + d << 0;\n    b += (d ^ (c | ~a)) + blocks[9] - 343485551;\n    b = (b << 21 | b >>> 11) + c << 0;\n    if (this.first) {\n      this.h0 = a + 1732584193 << 0;\n      this.h1 = b - 271733879 << 0;\n      this.h2 = c - 1732584194 << 0;\n      this.h3 = d + 271733878 << 0;\n      this.first = false;\n    } else {\n      this.h0 = this.h0 + a << 0;\n      this.h1 = this.h1 + b << 0;\n      this.h2 = this.h2 + c << 0;\n      this.h3 = this.h3 + d << 0;\n    }\n  };\n\n  /**\n   * @method hex\n   * @memberof Md5\n   * @instance\n   * @description Output hash as hex string\n   * @returns {String} Hex string\n   * @see {@link md5.hex}\n   * @example\n   * hash.hex();\n   */\n  Md5.prototype.hex = function () {\n    this.finalize();\n    var h0 = this.h0,\n      h1 = this.h1,\n      h2 = this.h2,\n      h3 = this.h3;\n    return HEX_CHARS[h0 >> 4 & 0x0F] + HEX_CHARS[h0 & 0x0F] + HEX_CHARS[h0 >> 12 & 0x0F] + HEX_CHARS[h0 >> 8 & 0x0F] + HEX_CHARS[h0 >> 20 & 0x0F] + HEX_CHARS[h0 >> 16 & 0x0F] + HEX_CHARS[h0 >> 28 & 0x0F] + HEX_CHARS[h0 >> 24 & 0x0F] + HEX_CHARS[h1 >> 4 & 0x0F] + HEX_CHARS[h1 & 0x0F] + HEX_CHARS[h1 >> 12 & 0x0F] + HEX_CHARS[h1 >> 8 & 0x0F] + HEX_CHARS[h1 >> 20 & 0x0F] + HEX_CHARS[h1 >> 16 & 0x0F] + HEX_CHARS[h1 >> 28 & 0x0F] + HEX_CHARS[h1 >> 24 & 0x0F] + HEX_CHARS[h2 >> 4 & 0x0F] + HEX_CHARS[h2 & 0x0F] + HEX_CHARS[h2 >> 12 & 0x0F] + HEX_CHARS[h2 >> 8 & 0x0F] + HEX_CHARS[h2 >> 20 & 0x0F] + HEX_CHARS[h2 >> 16 & 0x0F] + HEX_CHARS[h2 >> 28 & 0x0F] + HEX_CHARS[h2 >> 24 & 0x0F] + HEX_CHARS[h3 >> 4 & 0x0F] + HEX_CHARS[h3 & 0x0F] + HEX_CHARS[h3 >> 12 & 0x0F] + HEX_CHARS[h3 >> 8 & 0x0F] + HEX_CHARS[h3 >> 20 & 0x0F] + HEX_CHARS[h3 >> 16 & 0x0F] + HEX_CHARS[h3 >> 28 & 0x0F] + HEX_CHARS[h3 >> 24 & 0x0F];\n  };\n\n  /**\n   * @method toString\n   * @memberof Md5\n   * @instance\n   * @description Output hash as hex string\n   * @returns {String} Hex string\n   * @see {@link md5.hex}\n   * @example\n   * hash.toString();\n   */\n  Md5.prototype.toString = Md5.prototype.hex;\n\n  /**\n   * @method digest\n   * @memberof Md5\n   * @instance\n   * @description Output hash as bytes array\n   * @returns {Array} Bytes array\n   * @see {@link md5.digest}\n   * @example\n   * hash.digest();\n   */\n  Md5.prototype.digest = function (format) {\n    if (format === 'hex') return this.hex();\n    this.finalize();\n    var h0 = this.h0,\n      h1 = this.h1,\n      h2 = this.h2,\n      h3 = this.h3;\n    var res = [h0 & 0xFF, h0 >> 8 & 0xFF, h0 >> 16 & 0xFF, h0 >> 24 & 0xFF, h1 & 0xFF, h1 >> 8 & 0xFF, h1 >> 16 & 0xFF, h1 >> 24 & 0xFF, h2 & 0xFF, h2 >> 8 & 0xFF, h2 >> 16 & 0xFF, h2 >> 24 & 0xFF, h3 & 0xFF, h3 >> 8 & 0xFF, h3 >> 16 & 0xFF, h3 >> 24 & 0xFF];\n    return res;\n  };\n\n  /**\n   * @method array\n   * @memberof Md5\n   * @instance\n   * @description Output hash as bytes array\n   * @returns {Array} Bytes array\n   * @see {@link md5.array}\n   * @example\n   * hash.array();\n   */\n  Md5.prototype.array = Md5.prototype.digest;\n\n  /**\n   * @method arrayBuffer\n   * @memberof Md5\n   * @instance\n   * @description Output hash as ArrayBuffer\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @see {@link md5.arrayBuffer}\n   * @example\n   * hash.arrayBuffer();\n   */\n  Md5.prototype.arrayBuffer = function () {\n    this.finalize();\n    var buffer = new ArrayBuffer(16);\n    var blocks = new Uint32Array(buffer);\n    blocks[0] = this.h0;\n    blocks[1] = this.h1;\n    blocks[2] = this.h2;\n    blocks[3] = this.h3;\n    return buffer;\n  };\n\n  /**\n   * @method buffer\n   * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\n   * @memberof Md5\n   * @instance\n   * @description Output hash as ArrayBuffer\n   * @returns {ArrayBuffer} ArrayBuffer\n   * @see {@link md5.buffer}\n   * @example\n   * hash.buffer();\n   */\n  Md5.prototype.buffer = Md5.prototype.arrayBuffer;\n\n  /**\n   * @method base64\n   * @memberof Md5\n   * @instance\n   * @description Output hash as base64 string\n   * @returns {String} base64 string\n   * @see {@link md5.base64}\n   * @example\n   * hash.base64();\n   */\n  Md5.prototype.base64 = function () {\n    var v1,\n      v2,\n      v3,\n      base64Str = '',\n      bytes = this.array();\n    for (var i = 0; i < 15;) {\n      v1 = bytes[i++];\n      v2 = bytes[i++];\n      v3 = bytes[i++];\n      base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] + BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] + BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] + BASE64_ENCODE_CHAR[v3 & 63];\n    }\n    v1 = bytes[i];\n    base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] + BASE64_ENCODE_CHAR[v1 << 4 & 63] + '==';\n    return base64Str;\n  };\n  var exports = createMethod();\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    /**\n     * @method md5\b\n     * @description Md5 hash function, export to global in browsers.\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\n     * @returns {String} md5 hashes\n     * @example\n     * md5(''); // d41d8cd98f00b204e9800998ecf8427e\n     * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6\n     * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0\n     *\n     * // It also supports UTF-8 encoding\n     * md5('中文'); // a7bac2239fcdcb3a067903d8077c4a07\n     *\n     * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`\n     * md5([]); // d41d8cd98f00b204e9800998ecf8427e\n     * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e\n     */\n    root.md5 = exports;\n    if (AMD) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {\n        return exports;\n      }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    }\n  }\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))\n\n/***/ }),\n\n/***/ \"./lib/request.js\":\n/*!************************!*\\\n  !*** ./lib/request.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\nvar stringifyPrimitive = function stringifyPrimitive(v) {\n  switch (_typeof(v)) {\n    case 'string':\n      return v;\n    case 'boolean':\n      return v ? 'true' : 'false';\n    case 'number':\n      return isFinite(v) ? v : '';\n    default:\n      return '';\n  }\n};\nvar queryStringify = function queryStringify(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n  if (_typeof(obj) === 'object') {\n    return Object.keys(obj).map(function (k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function (v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).filter(Boolean).join(sep);\n  }\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));\n};\nvar xhrRes = function xhrRes(err, xhr, body) {\n  var headers = {};\n  var strHeaders = xhr.getAllResponseHeaders();\n  if (strHeaders && strHeaders.length > 0) {\n    strHeaders.trim().split('\\n').forEach(function (item) {\n      if (item) {\n        var index = item.indexOf(':');\n        var key = item.substr(0, index).trim().toLowerCase();\n        var val = item.substr(index + 1).trim();\n        headers[key] = val;\n      }\n    });\n  }\n  return {\n    error: err,\n    statusCode: xhr.status,\n    statusMessage: xhr.statusText,\n    headers: headers,\n    body: body\n  };\n};\nvar xhrBody = function xhrBody(xhr, dataType) {\n  return !dataType && dataType === 'text' ? xhr.responseText : xhr.response;\n};\nvar request = function request(opt, callback) {\n  // method\n  var method = (opt.method || 'GET').toUpperCase();\n\n  // url、qs\n  var url = opt.url;\n  if (opt.qs) {\n    var qsStr = queryStringify(opt.qs);\n    if (qsStr) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + qsStr;\n    }\n  }\n\n  // 创建 ajax 实例\n  var xhr = new XMLHttpRequest();\n  xhr.open(method, url, true);\n  xhr.responseType = opt.dataType || 'text';\n\n  // 处理 xhrFields 属性\n  if (opt.xhrFields) {\n    for (var xhrField in opt.xhrFields) {\n      xhr[xhrField] = opt.xhrFields[xhrField];\n    }\n  }\n\n  // 处理 headers\n  var headers = opt.headers;\n  if (headers) {\n    for (var key in headers) {\n      if (headers.hasOwnProperty(key) && key.toLowerCase() !== 'content-length' && key.toLowerCase() !== 'user-agent' && key.toLowerCase() !== 'origin' && key.toLowerCase() !== 'host') {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  }\n\n  // onprogress\n  if (opt.onProgress && xhr.upload) xhr.upload.onprogress = opt.onProgress;\n  if (opt.onDownloadProgress) xhr.onprogress = opt.onDownloadProgress;\n\n  // timeout\n  if (opt.timeout) xhr.timeout = opt.timeout;\n  xhr.ontimeout = function (event) {\n    var error = new Error('timeout');\n    callback(xhrRes(error, xhr));\n  };\n\n  // success 2xx/3xx/4xx\n  xhr.onload = function () {\n    callback(xhrRes(null, xhr, xhrBody(xhr, opt.dataType)));\n  };\n\n  // error 5xx/0 (网络错误、跨域报错、Https connect-src 限制的报错时 statusCode 为 0)\n  xhr.onerror = function (err) {\n    var body = xhrBody(xhr, opt.dataType);\n    if (body) {\n      // 5xx\n      callback(xhrRes(null, xhr, body));\n    } else {\n      // 0\n      var error = xhr.statusText;\n      if (!error && xhr.status === 0) error = new Error('CORS blocked or network error');\n      callback(xhrRes(error, xhr, body));\n    }\n  };\n\n  // send\n  xhr.send(opt.body || '');\n\n  // 返回 ajax 实例，用于外部调用 xhr.abort\n  return xhr;\n};\nmodule.exports = request;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/createClass.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toPropertyKey = __webpack_require__(/*! ./toPropertyKey.js */ \"./node_modules/@babel/runtime/helpers/toPropertyKey.js\");\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/defineProperty.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar toPropertyKey = __webpack_require__(/*! ./toPropertyKey.js */ \"./node_modules/@babel/runtime/helpers/toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/toPrimitive.js\":\n/*!************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/toPrimitive.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/toPropertyKey.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/toPropertyKey.js ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"];\nvar toPrimitive = __webpack_require__(/*! ./toPrimitive.js */ \"./node_modules/@babel/runtime/helpers/toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/@babel/runtime/helpers/typeof.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/fxp.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/fxp.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst validator = __webpack_require__(/*! ./validator */ \"./node_modules/fast-xml-parser/src/validator.js\");\nconst XMLParser = __webpack_require__(/*! ./xmlparser/XMLParser */ \"./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js\");\nconst XMLBuilder = __webpack_require__(/*! ./xmlbuilder/json2xml */ \"./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js\");\n\nmodule.exports = {\n  XMLParser: XMLParser,\n  XMLValidator: validator,\n  XMLBuilder: XMLBuilder\n}\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/ignoreAttributes.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/ignoreAttributes.js ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction getIgnoreAttributesFn(ignoreAttributes) {\n    if (typeof ignoreAttributes === 'function') {\n        return ignoreAttributes\n    }\n    if (Array.isArray(ignoreAttributes)) {\n        return (attrName) => {\n            for (const pattern of ignoreAttributes) {\n                if (typeof pattern === 'string' && attrName === pattern) {\n                    return true\n                }\n                if (pattern instanceof RegExp && pattern.test(attrName)) {\n                    return true\n                }\n            }\n        }\n    }\n    return () => false\n}\n\nmodule.exports = getIgnoreAttributesFn\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/util.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/util.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst nameStartChar = ':A-Za-z_\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\nconst nameChar = nameStartChar + '\\\\-.\\\\d\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\nconst nameRegexp = '[' + nameStartChar + '][' + nameChar + ']*'\nconst regexName = new RegExp('^' + nameRegexp + '$');\n\nconst getAllMatches = function(string, regex) {\n  const matches = [];\n  let match = regex.exec(string);\n  while (match) {\n    const allmatches = [];\n    allmatches.startIndex = regex.lastIndex - match[0].length;\n    const len = match.length;\n    for (let index = 0; index < len; index++) {\n      allmatches.push(match[index]);\n    }\n    matches.push(allmatches);\n    match = regex.exec(string);\n  }\n  return matches;\n};\n\nconst isName = function(string) {\n  const match = regexName.exec(string);\n  return !(match === null || typeof match === 'undefined');\n};\n\nexports.isExist = function(v) {\n  return typeof v !== 'undefined';\n};\n\nexports.isEmptyObject = function(obj) {\n  return Object.keys(obj).length === 0;\n};\n\n/**\n * Copy all the properties of a into b.\n * @param {*} target\n * @param {*} a\n */\nexports.merge = function(target, a, arrayMode) {\n  if (a) {\n    const keys = Object.keys(a); // will return an array of own properties\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      if (arrayMode === 'strict') {\n        target[keys[i]] = [ a[keys[i]] ];\n      } else {\n        target[keys[i]] = a[keys[i]];\n      }\n    }\n  }\n};\n/* exports.merge =function (b,a){\n  return Object.assign(b,a);\n} */\n\nexports.getValue = function(v) {\n  if (exports.isExist(v)) {\n    return v;\n  } else {\n    return '';\n  }\n};\n\n// const fakeCall = function(a) {return a;};\n// const fakeCallNoReturn = function() {};\n\nexports.isName = isName;\nexports.getAllMatches = getAllMatches;\nexports.nameRegexp = nameRegexp;\n\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/validator.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/validator.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst util = __webpack_require__(/*! ./util */ \"./node_modules/fast-xml-parser/src/util.js\");\n\nconst defaultOptions = {\n  allowBooleanAttributes: false, //A tag can have attributes without any value\n  unpairedTags: []\n};\n\n//const tagsPattern = new RegExp(\"<\\\\/?([\\\\w:\\\\-_\\.]+)\\\\s*\\/?>\",\"g\");\nexports.validate = function (xmlData, options) {\n  options = Object.assign({}, defaultOptions, options);\n\n  //xmlData = xmlData.replace(/(\\r\\n|\\n|\\r)/gm,\"\");//make it single line\n  //xmlData = xmlData.replace(/(^\\s*<\\?xml.*?\\?>)/g,\"\");//Remove XML starting tag\n  //xmlData = xmlData.replace(/(<!DOCTYPE[\\s\\w\\\"\\.\\/\\-\\:]+(\\[.*\\])*\\s*>)/g,\"\");//Remove DOCTYPE\n  const tags = [];\n  let tagFound = false;\n\n  //indicates that the root tag has been closed (aka. depth 0 has been reached)\n  let reachedRoot = false;\n\n  if (xmlData[0] === '\\ufeff') {\n    // check for byte order mark (BOM)\n    xmlData = xmlData.substr(1);\n  }\n  \n  for (let i = 0; i < xmlData.length; i++) {\n\n    if (xmlData[i] === '<' && xmlData[i+1] === '?') {\n      i+=2;\n      i = readPI(xmlData,i);\n      if (i.err) return i;\n    }else if (xmlData[i] === '<') {\n      //starting of tag\n      //read until you reach to '>' avoiding any '>' in attribute value\n      let tagStartPos = i;\n      i++;\n      \n      if (xmlData[i] === '!') {\n        i = readCommentAndCDATA(xmlData, i);\n        continue;\n      } else {\n        let closingTag = false;\n        if (xmlData[i] === '/') {\n          //closing tag\n          closingTag = true;\n          i++;\n        }\n        //read tagname\n        let tagName = '';\n        for (; i < xmlData.length &&\n          xmlData[i] !== '>' &&\n          xmlData[i] !== ' ' &&\n          xmlData[i] !== '\\t' &&\n          xmlData[i] !== '\\n' &&\n          xmlData[i] !== '\\r'; i++\n        ) {\n          tagName += xmlData[i];\n        }\n        tagName = tagName.trim();\n        //console.log(tagName);\n\n        if (tagName[tagName.length - 1] === '/') {\n          //self closing tag without attributes\n          tagName = tagName.substring(0, tagName.length - 1);\n          //continue;\n          i--;\n        }\n        if (!validateTagName(tagName)) {\n          let msg;\n          if (tagName.trim().length === 0) {\n            msg = \"Invalid space after '<'.\";\n          } else {\n            msg = \"Tag '\"+tagName+\"' is an invalid name.\";\n          }\n          return getErrorObject('InvalidTag', msg, getLineNumberForPosition(xmlData, i));\n        }\n\n        const result = readAttributeStr(xmlData, i);\n        if (result === false) {\n          return getErrorObject('InvalidAttr', \"Attributes for '\"+tagName+\"' have open quote.\", getLineNumberForPosition(xmlData, i));\n        }\n        let attrStr = result.value;\n        i = result.index;\n\n        if (attrStr[attrStr.length - 1] === '/') {\n          //self closing tag\n          const attrStrStart = i - attrStr.length;\n          attrStr = attrStr.substring(0, attrStr.length - 1);\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid === true) {\n            tagFound = true;\n            //continue; //text may presents after self closing tag\n          } else {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, attrStrStart + isValid.err.line));\n          }\n        } else if (closingTag) {\n          if (!result.tagClosed) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' doesn't have proper closing.\", getLineNumberForPosition(xmlData, i));\n          } else if (attrStr.trim().length > 0) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' can't have attributes or invalid starting.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else if (tags.length === 0) {\n            return getErrorObject('InvalidTag', \"Closing tag '\"+tagName+\"' has not been opened.\", getLineNumberForPosition(xmlData, tagStartPos));\n          } else {\n            const otg = tags.pop();\n            if (tagName !== otg.tagName) {\n              let openPos = getLineNumberForPosition(xmlData, otg.tagStartPos);\n              return getErrorObject('InvalidTag',\n                \"Expected closing tag '\"+otg.tagName+\"' (opened in line \"+openPos.line+\", col \"+openPos.col+\") instead of closing tag '\"+tagName+\"'.\",\n                getLineNumberForPosition(xmlData, tagStartPos));\n            }\n\n            //when there are no more tags, we reached the root level.\n            if (tags.length == 0) {\n              reachedRoot = true;\n            }\n          }\n        } else {\n          const isValid = validateAttributeString(attrStr, options);\n          if (isValid !== true) {\n            //the result from the nested function returns the position of the error within the attribute\n            //in order to get the 'true' error line, we need to calculate the position where the attribute begins (i - attrStr.length) and then add the position within the attribute\n            //this gives us the absolute index in the entire xml, which we can use to find the line at last\n            return getErrorObject(isValid.err.code, isValid.err.msg, getLineNumberForPosition(xmlData, i - attrStr.length + isValid.err.line));\n          }\n\n          //if the root level has been reached before ...\n          if (reachedRoot === true) {\n            return getErrorObject('InvalidXml', 'Multiple possible root nodes found.', getLineNumberForPosition(xmlData, i));\n          } else if(options.unpairedTags.indexOf(tagName) !== -1){\n            //don't push into stack\n          } else {\n            tags.push({tagName, tagStartPos});\n          }\n          tagFound = true;\n        }\n\n        //skip tag text value\n        //It may include comments and CDATA value\n        for (i++; i < xmlData.length; i++) {\n          if (xmlData[i] === '<') {\n            if (xmlData[i + 1] === '!') {\n              //comment or CADATA\n              i++;\n              i = readCommentAndCDATA(xmlData, i);\n              continue;\n            } else if (xmlData[i+1] === '?') {\n              i = readPI(xmlData, ++i);\n              if (i.err) return i;\n            } else{\n              break;\n            }\n          } else if (xmlData[i] === '&') {\n            const afterAmp = validateAmpersand(xmlData, i);\n            if (afterAmp == -1)\n              return getErrorObject('InvalidChar', \"char '&' is not expected.\", getLineNumberForPosition(xmlData, i));\n            i = afterAmp;\n          }else{\n            if (reachedRoot === true && !isWhiteSpace(xmlData[i])) {\n              return getErrorObject('InvalidXml', \"Extra text at the end\", getLineNumberForPosition(xmlData, i));\n            }\n          }\n        } //end of reading tag text value\n        if (xmlData[i] === '<') {\n          i--;\n        }\n      }\n    } else {\n      if ( isWhiteSpace(xmlData[i])) {\n        continue;\n      }\n      return getErrorObject('InvalidChar', \"char '\"+xmlData[i]+\"' is not expected.\", getLineNumberForPosition(xmlData, i));\n    }\n  }\n\n  if (!tagFound) {\n    return getErrorObject('InvalidXml', 'Start tag expected.', 1);\n  }else if (tags.length == 1) {\n      return getErrorObject('InvalidTag', \"Unclosed tag '\"+tags[0].tagName+\"'.\", getLineNumberForPosition(xmlData, tags[0].tagStartPos));\n  }else if (tags.length > 0) {\n      return getErrorObject('InvalidXml', \"Invalid '\"+\n          JSON.stringify(tags.map(t => t.tagName), null, 4).replace(/\\r?\\n/g, '')+\n          \"' found.\", {line: 1, col: 1});\n  }\n\n  return true;\n};\n\nfunction isWhiteSpace(char){\n  return char === ' ' || char === '\\t' || char === '\\n'  || char === '\\r';\n}\n/**\n * Read Processing insstructions and skip\n * @param {*} xmlData\n * @param {*} i\n */\nfunction readPI(xmlData, i) {\n  const start = i;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] == '?' || xmlData[i] == ' ') {\n      //tagname\n      const tagname = xmlData.substr(start, i - start);\n      if (i > 5 && tagname === 'xml') {\n        return getErrorObject('InvalidXml', 'XML declaration allowed only at the start of the document.', getLineNumberForPosition(xmlData, i));\n      } else if (xmlData[i] == '?' && xmlData[i + 1] == '>') {\n        //check if valid attribut string\n        i++;\n        break;\n      } else {\n        continue;\n      }\n    }\n  }\n  return i;\n}\n\nfunction readCommentAndCDATA(xmlData, i) {\n  if (xmlData.length > i + 5 && xmlData[i + 1] === '-' && xmlData[i + 2] === '-') {\n    //comment\n    for (i += 3; i < xmlData.length; i++) {\n      if (xmlData[i] === '-' && xmlData[i + 1] === '-' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  } else if (\n    xmlData.length > i + 8 &&\n    xmlData[i + 1] === 'D' &&\n    xmlData[i + 2] === 'O' &&\n    xmlData[i + 3] === 'C' &&\n    xmlData[i + 4] === 'T' &&\n    xmlData[i + 5] === 'Y' &&\n    xmlData[i + 6] === 'P' &&\n    xmlData[i + 7] === 'E'\n  ) {\n    let angleBracketsCount = 1;\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === '<') {\n        angleBracketsCount++;\n      } else if (xmlData[i] === '>') {\n        angleBracketsCount--;\n        if (angleBracketsCount === 0) {\n          break;\n        }\n      }\n    }\n  } else if (\n    xmlData.length > i + 9 &&\n    xmlData[i + 1] === '[' &&\n    xmlData[i + 2] === 'C' &&\n    xmlData[i + 3] === 'D' &&\n    xmlData[i + 4] === 'A' &&\n    xmlData[i + 5] === 'T' &&\n    xmlData[i + 6] === 'A' &&\n    xmlData[i + 7] === '['\n  ) {\n    for (i += 8; i < xmlData.length; i++) {\n      if (xmlData[i] === ']' && xmlData[i + 1] === ']' && xmlData[i + 2] === '>') {\n        i += 2;\n        break;\n      }\n    }\n  }\n\n  return i;\n}\n\nconst doubleQuote = '\"';\nconst singleQuote = \"'\";\n\n/**\n * Keep reading xmlData until '<' is found outside the attribute value.\n * @param {string} xmlData\n * @param {number} i\n */\nfunction readAttributeStr(xmlData, i) {\n  let attrStr = '';\n  let startChar = '';\n  let tagClosed = false;\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === doubleQuote || xmlData[i] === singleQuote) {\n      if (startChar === '') {\n        startChar = xmlData[i];\n      } else if (startChar !== xmlData[i]) {\n        //if vaue is enclosed with double quote then single quotes are allowed inside the value and vice versa\n      } else {\n        startChar = '';\n      }\n    } else if (xmlData[i] === '>') {\n      if (startChar === '') {\n        tagClosed = true;\n        break;\n      }\n    }\n    attrStr += xmlData[i];\n  }\n  if (startChar !== '') {\n    return false;\n  }\n\n  return {\n    value: attrStr,\n    index: i,\n    tagClosed: tagClosed\n  };\n}\n\n/**\n * Select all the attributes whether valid or invalid.\n */\nconst validAttrStrRegxp = new RegExp('(\\\\s*)([^\\\\s=]+)(\\\\s*=)?(\\\\s*([\\'\"])(([\\\\s\\\\S])*?)\\\\5)?', 'g');\n\n//attr, =\"sd\", a=\"amit's\", a=\"sd\"b=\"saf\", ab  cd=\"\"\n\nfunction validateAttributeString(attrStr, options) {\n  //console.log(\"start:\"+attrStr+\":end\");\n\n  //if(attrStr.trim().length === 0) return true; //empty string\n\n  const matches = util.getAllMatches(attrStr, validAttrStrRegxp);\n  const attrNames = {};\n\n  for (let i = 0; i < matches.length; i++) {\n    if (matches[i][1].length === 0) {\n      //nospace before attribute name: a=\"sd\"b=\"saf\"\n      return getErrorObject('InvalidAttr', \"Attribute '\"+matches[i][2]+\"' has no space in starting.\", getPositionFromMatch(matches[i]))\n    } else if (matches[i][3] !== undefined && matches[i][4] === undefined) {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+matches[i][2]+\"' is without value.\", getPositionFromMatch(matches[i]));\n    } else if (matches[i][3] === undefined && !options.allowBooleanAttributes) {\n      //independent attribute: ab\n      return getErrorObject('InvalidAttr', \"boolean attribute '\"+matches[i][2]+\"' is not allowed.\", getPositionFromMatch(matches[i]));\n    }\n    /* else if(matches[i][6] === undefined){//attribute without value: ab=\n                    return { err: { code:\"InvalidAttr\",msg:\"attribute \" + matches[i][2] + \" has no value assigned.\"}};\n                } */\n    const attrName = matches[i][2];\n    if (!validateAttrName(attrName)) {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is an invalid name.\", getPositionFromMatch(matches[i]));\n    }\n    if (!attrNames.hasOwnProperty(attrName)) {\n      //check for duplicate attribute.\n      attrNames[attrName] = 1;\n    } else {\n      return getErrorObject('InvalidAttr', \"Attribute '\"+attrName+\"' is repeated.\", getPositionFromMatch(matches[i]));\n    }\n  }\n\n  return true;\n}\n\nfunction validateNumberAmpersand(xmlData, i) {\n  let re = /\\d/;\n  if (xmlData[i] === 'x') {\n    i++;\n    re = /[\\da-fA-F]/;\n  }\n  for (; i < xmlData.length; i++) {\n    if (xmlData[i] === ';')\n      return i;\n    if (!xmlData[i].match(re))\n      break;\n  }\n  return -1;\n}\n\nfunction validateAmpersand(xmlData, i) {\n  // https://www.w3.org/TR/xml/#dt-charref\n  i++;\n  if (xmlData[i] === ';')\n    return -1;\n  if (xmlData[i] === '#') {\n    i++;\n    return validateNumberAmpersand(xmlData, i);\n  }\n  let count = 0;\n  for (; i < xmlData.length; i++, count++) {\n    if (xmlData[i].match(/\\w/) && count < 20)\n      continue;\n    if (xmlData[i] === ';')\n      break;\n    return -1;\n  }\n  return i;\n}\n\nfunction getErrorObject(code, message, lineNumber) {\n  return {\n    err: {\n      code: code,\n      msg: message,\n      line: lineNumber.line || lineNumber,\n      col: lineNumber.col,\n    },\n  };\n}\n\nfunction validateAttrName(attrName) {\n  return util.isName(attrName);\n}\n\n// const startsWithXML = /^xml/i;\n\nfunction validateTagName(tagname) {\n  return util.isName(tagname) /* && !tagname.match(startsWithXML) */;\n}\n\n//this function returns the line number for the character at the given index\nfunction getLineNumberForPosition(xmlData, index) {\n  const lines = xmlData.substring(0, index).split(/\\r?\\n/);\n  return {\n    line: lines.length,\n\n    // column number is last line's length + 1, because column numbering starts at 1:\n    col: lines[lines.length - 1].length + 1\n  };\n}\n\n//this function returns the position of the first character of match within attrStr\nfunction getPositionFromMatch(match) {\n  return match.startIndex + match[1].length;\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n//parse Empty Node as self closing node\nconst buildFromOrderedJs = __webpack_require__(/*! ./orderedJs2Xml */ \"./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js\");\nconst getIgnoreAttributesFn = __webpack_require__(/*! ../ignoreAttributes */ \"./node_modules/fast-xml-parser/src/ignoreAttributes.js\")\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attributesGroupName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: '  ',\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function(key, a) {\n    return a;\n  },\n  attributeValueProcessor: function(attrName, a) {\n    return a;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },//it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"\\'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp(\"\\\"\", \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: false\n};\n\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n  if (this.options.ignoreAttributes === true || this.options.attributesGroupName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes)\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n\n  this.processTextOrObjNode = processTextOrObjNode\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n}\n\nBuilder.prototype.build = function(jObj) {\n  if(this.options.preserveOrder){\n    return buildFromOrderedJs(jObj, this.options);\n  }else {\n    if(Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1){\n      jObj = {\n        [this.options.arrayNodeName] : jObj\n      }\n    }\n    return this.j2x(jObj, 0, []).val;\n  }\n};\n\nBuilder.prototype.j2x = function(jObj, level, ajPath) {\n  let attrStr = '';\n  let val = '';\n  const jPath = ajPath.join('.')\n  for (let key in jObj) {\n    if(!Object.prototype.hasOwnProperty.call(jObj, key)) continue;\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node only if it is not an attribute\n      if (this.isAttribute(key)) {\n        val += '';\n      }\n    } else if (jObj[key] === null) {\n      // null attribute should be ignored by the attribute list, but should not cause the tag closing\n      if (this.isAttribute(key)) {\n        val += '';\n      } else if (key[0] === '?') {\n        val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n      } else {\n        val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n      }\n      // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextValNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr && !this.ignoreAttributesFn(attr, jPath)) {\n        attrStr += this.buildAttrPairStr(attr, '' + jObj[key]);\n      } else if (!attr) {\n        //tag value\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, '' + jObj[key]);\n          val += this.replaceEntitiesValue(newval);\n        } else {\n          val += this.buildTextValNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      const arrLen = jObj[key].length;\n      let listTagVal = \"\";\n      let listTagAttr = \"\";\n      for (let j = 0; j < arrLen; j++) {\n        const item = jObj[key][j];\n        if (typeof item === 'undefined') {\n          // supress undefined node\n        } else if (item === null) {\n          if(key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n          else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n        } else if (typeof item === 'object') {\n          if(this.options.oneListGroup){\n            const result = this.j2x(item, level + 1, ajPath.concat(key));\n            listTagVal += result.val;\n            if (this.options.attributesGroupName && item.hasOwnProperty(this.options.attributesGroupName)) {\n              listTagAttr += result.attrStr\n            }\n          }else{\n            listTagVal += this.processTextOrObjNode(item, key, level, ajPath)\n          }\n        } else {\n          if (this.options.oneListGroup) {\n            let textValue = this.options.tagValueProcessor(key, item);\n            textValue = this.replaceEntitiesValue(textValue);\n            listTagVal += textValue;\n          } else {\n            listTagVal += this.buildTextValNode(item, key, '', level);\n          }\n        }\n      }\n      if(this.options.oneListGroup){\n        listTagVal = this.buildObjectNode(listTagVal, key, listTagAttr, level);\n      }\n      val += listTagVal;\n    } else {\n      //nested node\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += this.buildAttrPairStr(Ks[j], '' + jObj[key][Ks[j]]);\n        }\n      } else {\n        val += this.processTextOrObjNode(jObj[key], key, level, ajPath)\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nBuilder.prototype.buildAttrPairStr = function(attrName, val){\n  val = this.options.attributeValueProcessor(attrName, '' + val);\n  val = this.replaceEntitiesValue(val);\n  if (this.options.suppressBooleanAttributes && val === \"true\") {\n    return ' ' + attrName;\n  } else return ' ' + attrName + '=\"' + val + '\"';\n}\n\nfunction processTextOrObjNode (object, key, level, ajPath) {\n  const result = this.j2x(object, level + 1, ajPath.concat(key));\n  if (object[this.options.textNodeName] !== undefined && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\n\nBuilder.prototype.buildObjectNode = function(val, key, attrStr, level) {\n  if(val === \"\"){\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  }else{\n\n    let tagEndExp = '</' + key + this.tagEndChar;\n    let piClosingChar = \"\";\n    \n    if(key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    }\n  \n    // attrStr is an empty string in case the attribute came as undefined or null\n    if ((attrStr || attrStr === '') && val.indexOf('<') === -1) {\n      return ( this.indentate(level) + '<' +  key + attrStr + piClosingChar + '>' + val + tagEndExp );\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    }else {\n      return (\n        this.indentate(level) + '<' + key + attrStr + piClosingChar + this.tagEndChar +\n        val +\n        this.indentate(level) + tagEndExp    );\n    }\n  }\n}\n\nBuilder.prototype.closeTag = function(key){\n  let closeTag = \"\";\n  if(this.options.unpairedTags.indexOf(key) !== -1){ //unpaired\n    if(!this.options.suppressUnpairedNode) closeTag = \"/\"\n  }else if(this.options.suppressEmptyNode){ //empty\n    closeTag = \"/\";\n  }else{\n    closeTag = `></${key}`\n  }\n  return closeTag;\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return  this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n      // return this.buildTagStr(level,key, attrStr);\n    }\n  }\n}\n\nBuilder.prototype.buildTextValNode = function(val, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val}]]>` +  this.newLine;\n  }else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val}-->` +  this.newLine;\n  }else if(key[0] === \"?\") {//PI tag\n    return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar; \n  }else{\n    let textValue = this.options.tagValueProcessor(key, val);\n    textValue = this.replaceEntitiesValue(textValue);\n  \n    if( textValue === ''){\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }else{\n      return this.indentate(level) + '<' + key + attrStr + '>' +\n         textValue +\n        '</' + key + this.tagEndChar;\n    }\n  }\n}\n\nBuilder.prototype.replaceEntitiesValue = function(textValue){\n  if(textValue && textValue.length > 0 && this.options.processEntities){\n    for (let i=0; i<this.options.entities.length; i++) {\n      const entity = this.options.entities[i];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = Builder;\n\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nconst EOL = \"\\n\";\n\n/**\n * \n * @param {array} jArray \n * @param {any} options \n * @returns \n */\nfunction toXml(jArray, options) {\n    let indentation = \"\";\n    if (options.format && options.indentBy.length > 0) {\n        indentation = EOL;\n    }\n    return arrToStr(jArray, options, \"\", indentation);\n}\n\nfunction arrToStr(arr, options, jPath, indentation) {\n    let xmlStr = \"\";\n    let isPreviousElementTag = false;\n\n    for (let i = 0; i < arr.length; i++) {\n        const tagObj = arr[i];\n        const tagName = propName(tagObj);\n        if(tagName === undefined) continue;\n\n        let newJPath = \"\";\n        if (jPath.length === 0) newJPath = tagName\n        else newJPath = `${jPath}.${tagName}`;\n\n        if (tagName === options.textNodeName) {\n            let tagText = tagObj[tagName];\n            if (!isStopNode(newJPath, options)) {\n                tagText = options.tagValueProcessor(tagName, tagText);\n                tagText = replaceEntitiesValue(tagText, options);\n            }\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += tagText;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.cdataPropName) {\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += `<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.commentPropName) {\n            xmlStr += indentation + `<!--${tagObj[tagName][0][options.textNodeName]}-->`;\n            isPreviousElementTag = true;\n            continue;\n        } else if (tagName[0] === \"?\") {\n            const attStr = attr_to_str(tagObj[\":@\"], options);\n            const tempInd = tagName === \"?xml\" ? \"\" : indentation;\n            let piTextNodeName = tagObj[tagName][0][options.textNodeName];\n            piTextNodeName = piTextNodeName.length !== 0 ? \" \" + piTextNodeName : \"\"; //remove extra spacing\n            xmlStr += tempInd + `<${tagName}${piTextNodeName}${attStr}?>`;\n            isPreviousElementTag = true;\n            continue;\n        }\n        let newIdentation = indentation;\n        if (newIdentation !== \"\") {\n            newIdentation += options.indentBy;\n        }\n        const attStr = attr_to_str(tagObj[\":@\"], options);\n        const tagStart = indentation + `<${tagName}${attStr}`;\n        const tagValue = arrToStr(tagObj[tagName], options, newJPath, newIdentation);\n        if (options.unpairedTags.indexOf(tagName) !== -1) {\n            if (options.suppressUnpairedNode) xmlStr += tagStart + \">\";\n            else xmlStr += tagStart + \"/>\";\n        } else if ((!tagValue || tagValue.length === 0) && options.suppressEmptyNode) {\n            xmlStr += tagStart + \"/>\";\n        } else if (tagValue && tagValue.endsWith(\">\")) {\n            xmlStr += tagStart + `>${tagValue}${indentation}</${tagName}>`;\n        } else {\n            xmlStr += tagStart + \">\";\n            if (tagValue && indentation !== \"\" && (tagValue.includes(\"/>\") || tagValue.includes(\"</\"))) {\n                xmlStr += indentation + options.indentBy + tagValue + indentation;\n            } else {\n                xmlStr += tagValue;\n            }\n            xmlStr += `</${tagName}>`;\n        }\n        isPreviousElementTag = true;\n    }\n\n    return xmlStr;\n}\n\nfunction propName(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if(!obj.hasOwnProperty(key)) continue;\n        if (key !== \":@\") return key;\n    }\n}\n\nfunction attr_to_str(attrMap, options) {\n    let attrStr = \"\";\n    if (attrMap && !options.ignoreAttributes) {\n        for (let attr in attrMap) {\n            if(!attrMap.hasOwnProperty(attr)) continue;\n            let attrVal = options.attributeValueProcessor(attr, attrMap[attr]);\n            attrVal = replaceEntitiesValue(attrVal, options);\n            if (attrVal === true && options.suppressBooleanAttributes) {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}`;\n            } else {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}=\"${attrVal}\"`;\n            }\n        }\n    }\n    return attrStr;\n}\n\nfunction isStopNode(jPath, options) {\n    jPath = jPath.substr(0, jPath.length - options.textNodeName.length - 1);\n    let tagName = jPath.substr(jPath.lastIndexOf(\".\") + 1);\n    for (let index in options.stopNodes) {\n        if (options.stopNodes[index] === jPath || options.stopNodes[index] === \"*.\" + tagName) return true;\n    }\n    return false;\n}\n\nfunction replaceEntitiesValue(textValue, options) {\n    if (textValue && textValue.length > 0 && options.processEntities) {\n        for (let i = 0; i < options.entities.length; i++) {\n            const entity = options.entities[i];\n            textValue = textValue.replace(entity.regex, entity.val);\n        }\n    }\n    return textValue;\n}\nmodule.exports = toXml;\n\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js\":\n/*!*********************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst util = __webpack_require__(/*! ../util */ \"./node_modules/fast-xml-parser/src/util.js\");\n\n//TODO: handle comments\nfunction readDocType(xmlData, i){\n    \n    const entities = {};\n    if( xmlData[i + 3] === 'O' &&\n         xmlData[i + 4] === 'C' &&\n         xmlData[i + 5] === 'T' &&\n         xmlData[i + 6] === 'Y' &&\n         xmlData[i + 7] === 'P' &&\n         xmlData[i + 8] === 'E')\n    {    \n        i = i+9;\n        let angleBracketsCount = 1;\n        let hasBody = false, comment = false;\n        let exp = \"\";\n        for(;i<xmlData.length;i++){\n            if (xmlData[i] === '<' && !comment) { //Determine the tag type\n                if( hasBody && isEntity(xmlData, i)){\n                    i += 7; \n                    [entityName, val,i] = readEntityExp(xmlData,i+1);\n                    if(val.indexOf(\"&\") === -1) //Parameter entities are not supported\n                        entities[ validateEntityName(entityName) ] = {\n                            regx : RegExp( `&${entityName};`,\"g\"),\n                            val: val\n                        };\n                }\n                else if( hasBody && isElement(xmlData, i))  i += 8;//Not supported\n                else if( hasBody && isAttlist(xmlData, i))  i += 8;//Not supported\n                else if( hasBody && isNotation(xmlData, i)) i += 9;//Not supported\n                else if( isComment)                         comment = true;\n                else                                        throw new Error(\"Invalid DOCTYPE\");\n\n                angleBracketsCount++;\n                exp = \"\";\n            } else if (xmlData[i] === '>') { //Read tag content\n                if(comment){\n                    if( xmlData[i - 1] === \"-\" && xmlData[i - 2] === \"-\"){\n                        comment = false;\n                        angleBracketsCount--;\n                    }\n                }else{\n                    angleBracketsCount--;\n                }\n                if (angleBracketsCount === 0) {\n                  break;\n                }\n            }else if( xmlData[i] === '['){\n                hasBody = true;\n            }else{\n                exp += xmlData[i];\n            }\n        }\n        if(angleBracketsCount !== 0){\n            throw new Error(`Unclosed DOCTYPE`);\n        }\n    }else{\n        throw new Error(`Invalid Tag instead of DOCTYPE`);\n    }\n    return {entities, i};\n}\n\nfunction readEntityExp(xmlData,i){\n    //External entities are not supported\n    //    <!ENTITY ext SYSTEM \"http://normal-website.com\" >\n\n    //Parameter entities are not supported\n    //    <!ENTITY entityname \"&anotherElement;\">\n\n    //Internal entities are supported\n    //    <!ENTITY entityname \"replacement text\">\n    \n    //read EntityName\n    let entityName = \"\";\n    for (; i < xmlData.length && (xmlData[i] !== \"'\" && xmlData[i] !== '\"' ); i++) {\n        // if(xmlData[i] === \" \") continue;\n        // else \n        entityName += xmlData[i];\n    }\n    entityName = entityName.trim();\n    if(entityName.indexOf(\" \") !== -1) throw new Error(\"External entites are not supported\");\n\n    //read Entity Value\n    const startChar = xmlData[i++];\n    let val = \"\"\n    for (; i < xmlData.length && xmlData[i] !== startChar ; i++) {\n        val += xmlData[i];\n    }\n    return [entityName, val, i];\n}\n\nfunction isComment(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === '-' &&\n    xmlData[i+3] === '-') return true\n    return false\n}\nfunction isEntity(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'E' &&\n    xmlData[i+3] === 'N' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'I' &&\n    xmlData[i+6] === 'T' &&\n    xmlData[i+7] === 'Y') return true\n    return false\n}\nfunction isElement(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'E' &&\n    xmlData[i+3] === 'L' &&\n    xmlData[i+4] === 'E' &&\n    xmlData[i+5] === 'M' &&\n    xmlData[i+6] === 'E' &&\n    xmlData[i+7] === 'N' &&\n    xmlData[i+8] === 'T') return true\n    return false\n}\n\nfunction isAttlist(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'A' &&\n    xmlData[i+3] === 'T' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'L' &&\n    xmlData[i+6] === 'I' &&\n    xmlData[i+7] === 'S' &&\n    xmlData[i+8] === 'T') return true\n    return false\n}\nfunction isNotation(xmlData, i){\n    if(xmlData[i+1] === '!' &&\n    xmlData[i+2] === 'N' &&\n    xmlData[i+3] === 'O' &&\n    xmlData[i+4] === 'T' &&\n    xmlData[i+5] === 'A' &&\n    xmlData[i+6] === 'T' &&\n    xmlData[i+7] === 'I' &&\n    xmlData[i+8] === 'O' &&\n    xmlData[i+9] === 'N') return true\n    return false\n}\n\nfunction validateEntityName(name){\n    if (util.isName(name))\n\treturn name;\n    else\n        throw new Error(`Invalid entity name ${name}`);\n}\n\nmodule.exports = readDocType;\n\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js\":\n/*!**********************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js ***!\n  \\**********************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n\nconst defaultOptions = {\n    preserveOrder: false,\n    attributeNamePrefix: '@_',\n    attributesGroupName: false,\n    textNodeName: '#text',\n    ignoreAttributes: true,\n    removeNSPrefix: false, // remove NS from tag name or attribute name if true\n    allowBooleanAttributes: false, //a tag can have attributes without any value\n    //ignoreRootElement : false,\n    parseTagValue: true,\n    parseAttributeValue: false,\n    trimValues: true, //Trim string values of tag and attributes\n    cdataPropName: false,\n    numberParseOptions: {\n      hex: true,\n      leadingZeros: true,\n      eNotation: true\n    },\n    tagValueProcessor: function(tagName, val) {\n      return val;\n    },\n    attributeValueProcessor: function(attrName, val) {\n      return val;\n    },\n    stopNodes: [], //nested tags will not be parsed even for errors\n    alwaysCreateTextNode: false,\n    isArray: () => false,\n    commentPropName: false,\n    unpairedTags: [],\n    processEntities: true,\n    htmlEntities: false,\n    ignoreDeclaration: false,\n    ignorePiTags: false,\n    transformTagName: false,\n    transformAttributeName: false,\n    updateTag: function(tagName, jPath, attrs){\n      return tagName\n    },\n    // skipEmptyListItem: false\n};\n   \nconst buildOptions = function(options) {\n    return Object.assign({}, defaultOptions, options);\n};\n\nexports.buildOptions = buildOptions;\nexports.defaultOptions = defaultOptions;\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js\":\n/*!************************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js ***!\n  \\************************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n///@ts-check\n\nconst util = __webpack_require__(/*! ../util */ \"./node_modules/fast-xml-parser/src/util.js\");\nconst xmlNode = __webpack_require__(/*! ./xmlNode */ \"./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js\");\nconst readDocType = __webpack_require__(/*! ./DocTypeReader */ \"./node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js\");\nconst toNumber = __webpack_require__(/*! strnum */ \"./node_modules/strnum/strnum.js\");\nconst getIgnoreAttributesFn = __webpack_require__(/*! ../ignoreAttributes */ \"./node_modules/fast-xml-parser/src/ignoreAttributes.js\")\n\n// const regx =\n//   '<((!\\\\[CDATA\\\\[([\\\\s\\\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\\\/)(NAME)\\\\s*>))([^<]*)'\n//   .replace(/NAME/g, util.nameRegexp);\n\n//const tagsRegx = new RegExp(\"<(\\\\/?[\\\\w:\\\\-\\._]+)([^>]*)>(\\\\s*\"+cdataRegx+\")*([^<]+)?\",\"g\");\n//const tagsRegx = new RegExp(\"<(\\\\/?)((\\\\w*:)?([\\\\w:\\\\-\\._]+))([^>]*)>([^<]*)(\"+cdataRegx+\"([^<]*))*([^<]+)?\",\"g\");\n\nclass OrderedObjParser{\n  constructor(options){\n    this.options = options;\n    this.currentNode = null;\n    this.tagsNodeStack = [];\n    this.docTypeEntities = {};\n    this.lastEntities = {\n      \"apos\" : { regex: /&(apos|#39|#x27);/g, val : \"'\"},\n      \"gt\" : { regex: /&(gt|#62|#x3E);/g, val : \">\"},\n      \"lt\" : { regex: /&(lt|#60|#x3C);/g, val : \"<\"},\n      \"quot\" : { regex: /&(quot|#34|#x22);/g, val : \"\\\"\"},\n    };\n    this.ampEntity = { regex: /&(amp|#38|#x26);/g, val : \"&\"};\n    this.htmlEntities = {\n      \"space\": { regex: /&(nbsp|#160);/g, val: \" \" },\n      // \"lt\" : { regex: /&(lt|#60);/g, val: \"<\" },\n      // \"gt\" : { regex: /&(gt|#62);/g, val: \">\" },\n      // \"amp\" : { regex: /&(amp|#38);/g, val: \"&\" },\n      // \"quot\" : { regex: /&(quot|#34);/g, val: \"\\\"\" },\n      // \"apos\" : { regex: /&(apos|#39);/g, val: \"'\" },\n      \"cent\" : { regex: /&(cent|#162);/g, val: \"¢\" },\n      \"pound\" : { regex: /&(pound|#163);/g, val: \"£\" },\n      \"yen\" : { regex: /&(yen|#165);/g, val: \"¥\" },\n      \"euro\" : { regex: /&(euro|#8364);/g, val: \"€\" },\n      \"copyright\" : { regex: /&(copy|#169);/g, val: \"©\" },\n      \"reg\" : { regex: /&(reg|#174);/g, val: \"®\" },\n      \"inr\" : { regex: /&(inr|#8377);/g, val: \"₹\" },\n      \"num_dec\": { regex: /&#([0-9]{1,7});/g, val : (_, str) => String.fromCharCode(Number.parseInt(str, 10)) },\n      \"num_hex\": { regex: /&#x([0-9a-fA-F]{1,6});/g, val : (_, str) => String.fromCharCode(Number.parseInt(str, 16)) },\n    };\n    this.addExternalEntities = addExternalEntities;\n    this.parseXml = parseXml;\n    this.parseTextData = parseTextData;\n    this.resolveNameSpace = resolveNameSpace;\n    this.buildAttributesMap = buildAttributesMap;\n    this.isItStopNode = isItStopNode;\n    this.replaceEntitiesValue = replaceEntitiesValue;\n    this.readStopNodeData = readStopNodeData;\n    this.saveTextToParentTag = saveTextToParentTag;\n    this.addChild = addChild;\n    this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes)\n  }\n\n}\n\nfunction addExternalEntities(externalEntities){\n  const entKeys = Object.keys(externalEntities);\n  for (let i = 0; i < entKeys.length; i++) {\n    const ent = entKeys[i];\n    this.lastEntities[ent] = {\n       regex: new RegExp(\"&\"+ent+\";\",\"g\"),\n       val : externalEntities[ent]\n    }\n  }\n}\n\n/**\n * @param {string} val\n * @param {string} tagName\n * @param {string} jPath\n * @param {boolean} dontTrim\n * @param {boolean} hasAttributes\n * @param {boolean} isLeafNode\n * @param {boolean} escapeEntities\n */\nfunction parseTextData(val, tagName, jPath, dontTrim, hasAttributes, isLeafNode, escapeEntities) {\n  if (val !== undefined) {\n    if (this.options.trimValues && !dontTrim) {\n      val = val.trim();\n    }\n    if(val.length > 0){\n      if(!escapeEntities) val = this.replaceEntitiesValue(val);\n      \n      const newval = this.options.tagValueProcessor(tagName, val, jPath, hasAttributes, isLeafNode);\n      if(newval === null || newval === undefined){\n        //don't parse\n        return val;\n      }else if(typeof newval !== typeof val || newval !== val){\n        //overwrite\n        return newval;\n      }else if(this.options.trimValues){\n        return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n      }else{\n        const trimmedVal = val.trim();\n        if(trimmedVal === val){\n          return parseValue(val, this.options.parseTagValue, this.options.numberParseOptions);\n        }else{\n          return val;\n        }\n      }\n    }\n  }\n}\n\nfunction resolveNameSpace(tagname) {\n  if (this.options.removeNSPrefix) {\n    const tags = tagname.split(':');\n    const prefix = tagname.charAt(0) === '/' ? '/' : '';\n    if (tags[0] === 'xmlns') {\n      return '';\n    }\n    if (tags.length === 2) {\n      tagname = prefix + tags[1];\n    }\n  }\n  return tagname;\n}\n\n//TODO: change regex to capture NS\n//const attrsRegx = new RegExp(\"([\\\\w\\\\-\\\\.\\\\:]+)\\\\s*=\\\\s*(['\\\"])((.|\\n)*?)\\\\2\",\"gm\");\nconst attrsRegx = new RegExp('([^\\\\s=]+)\\\\s*(=\\\\s*([\\'\"])([\\\\s\\\\S]*?)\\\\3)?', 'gm');\n\nfunction buildAttributesMap(attrStr, jPath, tagName) {\n  if (this.options.ignoreAttributes !== true && typeof attrStr === 'string') {\n    // attrStr = attrStr.replace(/\\r?\\n/g, ' ');\n    //attrStr = attrStr || attrStr.trim();\n\n    const matches = util.getAllMatches(attrStr, attrsRegx);\n    const len = matches.length; //don't make it inline\n    const attrs = {};\n    for (let i = 0; i < len; i++) {\n      const attrName = this.resolveNameSpace(matches[i][1]);\n      if (this.ignoreAttributesFn(attrName, jPath)) {\n        continue\n      }\n      let oldVal = matches[i][4];\n      let aName = this.options.attributeNamePrefix + attrName;\n      if (attrName.length) {\n        if (this.options.transformAttributeName) {\n          aName = this.options.transformAttributeName(aName);\n        }\n        if(aName === \"__proto__\") aName  = \"#__proto__\";\n        if (oldVal !== undefined) {\n          if (this.options.trimValues) {\n            oldVal = oldVal.trim();\n          }\n          oldVal = this.replaceEntitiesValue(oldVal);\n          const newVal = this.options.attributeValueProcessor(attrName, oldVal, jPath);\n          if(newVal === null || newVal === undefined){\n            //don't parse\n            attrs[aName] = oldVal;\n          }else if(typeof newVal !== typeof oldVal || newVal !== oldVal){\n            //overwrite\n            attrs[aName] = newVal;\n          }else{\n            //parse\n            attrs[aName] = parseValue(\n              oldVal,\n              this.options.parseAttributeValue,\n              this.options.numberParseOptions\n            );\n          }\n        } else if (this.options.allowBooleanAttributes) {\n          attrs[aName] = true;\n        }\n      }\n    }\n    if (!Object.keys(attrs).length) {\n      return;\n    }\n    if (this.options.attributesGroupName) {\n      const attrCollection = {};\n      attrCollection[this.options.attributesGroupName] = attrs;\n      return attrCollection;\n    }\n    return attrs\n  }\n}\n\nconst parseXml = function(xmlData) {\n  // xmlData = xmlData.replace(/\\r\\n?/g, \"\\n\"); //TODO: remove this line\n  const xmlObj = new xmlNode('!xml');\n  let currentNode = xmlObj;\n  let textData = \"\";\n  let jPath = \"\";\n  for(let i=0; i< xmlData.length; i++){//for each char in XML data\n    const ch = xmlData[i];\n    if(ch === '<'){\n      // const nextIndex = i+1;\n      // const _2ndChar = xmlData[nextIndex];\n      if( xmlData[i+1] === '/') {//Closing Tag\n        const closeIndex = findClosingIndex(xmlData, \">\", i, \"Closing Tag is not closed.\")\n        let tagName = xmlData.substring(i+2,closeIndex).trim();\n\n        if(this.options.removeNSPrefix){\n          const colonIndex = tagName.indexOf(\":\");\n          if(colonIndex !== -1){\n            tagName = tagName.substr(colonIndex+1);\n          }\n        }\n\n        if(this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n\n        if(currentNode){\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        }\n\n        //check if last tag of nested tag was unpaired tag\n        const lastTagName = jPath.substring(jPath.lastIndexOf(\".\")+1);\n        if(tagName && this.options.unpairedTags.indexOf(tagName) !== -1 ){\n          throw new Error(`Unpaired tag can not be used as closing tag: </${tagName}>`);\n        }\n        let propIndex = 0\n        if(lastTagName && this.options.unpairedTags.indexOf(lastTagName) !== -1 ){\n          propIndex = jPath.lastIndexOf('.', jPath.lastIndexOf('.')-1)\n          this.tagsNodeStack.pop();\n        }else{\n          propIndex = jPath.lastIndexOf(\".\");\n        }\n        jPath = jPath.substring(0, propIndex);\n\n        currentNode = this.tagsNodeStack.pop();//avoid recursion, set the parent tag scope\n        textData = \"\";\n        i = closeIndex;\n      } else if( xmlData[i+1] === '?') {\n\n        let tagData = readTagExp(xmlData,i, false, \"?>\");\n        if(!tagData) throw new Error(\"Pi Tag is not closed.\");\n\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n        if( (this.options.ignoreDeclaration && tagData.tagName === \"?xml\") || this.options.ignorePiTags){\n\n        }else{\n  \n          const childNode = new xmlNode(tagData.tagName);\n          childNode.add(this.options.textNodeName, \"\");\n          \n          if(tagData.tagName !== tagData.tagExp && tagData.attrExpPresent){\n            childNode[\":@\"] = this.buildAttributesMap(tagData.tagExp, jPath, tagData.tagName);\n          }\n          this.addChild(currentNode, childNode, jPath)\n\n        }\n\n\n        i = tagData.closeIndex + 1;\n      } else if(xmlData.substr(i + 1, 3) === '!--') {\n        const endIndex = findClosingIndex(xmlData, \"-->\", i+4, \"Comment is not closed.\")\n        if(this.options.commentPropName){\n          const comment = xmlData.substring(i + 4, endIndex - 2);\n\n          textData = this.saveTextToParentTag(textData, currentNode, jPath);\n\n          currentNode.add(this.options.commentPropName, [ { [this.options.textNodeName] : comment } ]);\n        }\n        i = endIndex;\n      } else if( xmlData.substr(i + 1, 2) === '!D') {\n        const result = readDocType(xmlData, i);\n        this.docTypeEntities = result.entities;\n        i = result.i;\n      }else if(xmlData.substr(i + 1, 2) === '![') {\n        const closeIndex = findClosingIndex(xmlData, \"]]>\", i, \"CDATA is not closed.\") - 2;\n        const tagExp = xmlData.substring(i + 9,closeIndex);\n\n        textData = this.saveTextToParentTag(textData, currentNode, jPath);\n\n        let val = this.parseTextData(tagExp, currentNode.tagname, jPath, true, false, true, true);\n        if(val == undefined) val = \"\";\n\n        //cdata should be set even if it is 0 length string\n        if(this.options.cdataPropName){\n          currentNode.add(this.options.cdataPropName, [ { [this.options.textNodeName] : tagExp } ]);\n        }else{\n          currentNode.add(this.options.textNodeName, val);\n        }\n        \n        i = closeIndex + 2;\n      }else {//Opening tag\n        let result = readTagExp(xmlData,i, this.options.removeNSPrefix);\n        let tagName= result.tagName;\n        const rawTagName = result.rawTagName;\n        let tagExp = result.tagExp;\n        let attrExpPresent = result.attrExpPresent;\n        let closeIndex = result.closeIndex;\n\n        if (this.options.transformTagName) {\n          tagName = this.options.transformTagName(tagName);\n        }\n        \n        //save text as child node\n        if (currentNode && textData) {\n          if(currentNode.tagname !== '!xml'){\n            //when nested tag is found\n            textData = this.saveTextToParentTag(textData, currentNode, jPath, false);\n          }\n        }\n\n        //check if last tag was unpaired tag\n        const lastTag = currentNode;\n        if(lastTag && this.options.unpairedTags.indexOf(lastTag.tagname) !== -1 ){\n          currentNode = this.tagsNodeStack.pop();\n          jPath = jPath.substring(0, jPath.lastIndexOf(\".\"));\n        }\n        if(tagName !== xmlObj.tagname){\n          jPath += jPath ? \".\" + tagName : tagName;\n        }\n        if (this.isItStopNode(this.options.stopNodes, jPath, tagName)) {\n          let tagContent = \"\";\n          //self-closing tag\n          if(tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1){\n            if(tagName[tagName.length - 1] === \"/\"){ //remove trailing '/'\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            }else{\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            i = result.closeIndex;\n          }\n          //unpaired tag\n          else if(this.options.unpairedTags.indexOf(tagName) !== -1){\n            \n            i = result.closeIndex;\n          }\n          //normal tag\n          else{\n            //read until closing tag is found\n            const result = this.readStopNodeData(xmlData, rawTagName, closeIndex + 1);\n            if(!result) throw new Error(`Unexpected end of ${rawTagName}`);\n            i = result.i;\n            tagContent = result.tagContent;\n          }\n\n          const childNode = new xmlNode(tagName);\n          if(tagName !== tagExp && attrExpPresent){\n            childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n          }\n          if(tagContent) {\n            tagContent = this.parseTextData(tagContent, tagName, jPath, true, attrExpPresent, true, true);\n          }\n          \n          jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          childNode.add(this.options.textNodeName, tagContent);\n          \n          this.addChild(currentNode, childNode, jPath)\n        }else{\n  //selfClosing tag\n          if(tagExp.length > 0 && tagExp.lastIndexOf(\"/\") === tagExp.length - 1){\n            if(tagName[tagName.length - 1] === \"/\"){ //remove trailing '/'\n              tagName = tagName.substr(0, tagName.length - 1);\n              jPath = jPath.substr(0, jPath.length - 1);\n              tagExp = tagName;\n            }else{\n              tagExp = tagExp.substr(0, tagExp.length - 1);\n            }\n            \n            if(this.options.transformTagName) {\n              tagName = this.options.transformTagName(tagName);\n            }\n\n            const childNode = new xmlNode(tagName);\n            if(tagName !== tagExp && attrExpPresent){\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath)\n            jPath = jPath.substr(0, jPath.lastIndexOf(\".\"));\n          }\n    //opening tag\n          else{\n            const childNode = new xmlNode( tagName);\n            this.tagsNodeStack.push(currentNode);\n            \n            if(tagName !== tagExp && attrExpPresent){\n              childNode[\":@\"] = this.buildAttributesMap(tagExp, jPath, tagName);\n            }\n            this.addChild(currentNode, childNode, jPath)\n            currentNode = childNode;\n          }\n          textData = \"\";\n          i = closeIndex;\n        }\n      }\n    }else{\n      textData += xmlData[i];\n    }\n  }\n  return xmlObj.child;\n}\n\nfunction addChild(currentNode, childNode, jPath){\n  const result = this.options.updateTag(childNode.tagname, jPath, childNode[\":@\"])\n  if(result === false){\n  }else if(typeof result === \"string\"){\n    childNode.tagname = result\n    currentNode.addChild(childNode);\n  }else{\n    currentNode.addChild(childNode);\n  }\n}\n\nconst replaceEntitiesValue = function(val){\n\n  if(this.options.processEntities){\n    for(let entityName in this.docTypeEntities){\n      const entity = this.docTypeEntities[entityName];\n      val = val.replace( entity.regx, entity.val);\n    }\n    for(let entityName in this.lastEntities){\n      const entity = this.lastEntities[entityName];\n      val = val.replace( entity.regex, entity.val);\n    }\n    if(this.options.htmlEntities){\n      for(let entityName in this.htmlEntities){\n        const entity = this.htmlEntities[entityName];\n        val = val.replace( entity.regex, entity.val);\n      }\n    }\n    val = val.replace( this.ampEntity.regex, this.ampEntity.val);\n  }\n  return val;\n}\nfunction saveTextToParentTag(textData, currentNode, jPath, isLeafNode) {\n  if (textData) { //store previously collected data as textNode\n    if(isLeafNode === undefined) isLeafNode = Object.keys(currentNode.child).length === 0\n    \n    textData = this.parseTextData(textData,\n      currentNode.tagname,\n      jPath,\n      false,\n      currentNode[\":@\"] ? Object.keys(currentNode[\":@\"]).length !== 0 : false,\n      isLeafNode);\n\n    if (textData !== undefined && textData !== \"\")\n      currentNode.add(this.options.textNodeName, textData);\n    textData = \"\";\n  }\n  return textData;\n}\n\n//TODO: use jPath to simplify the logic\n/**\n * \n * @param {string[]} stopNodes \n * @param {string} jPath\n * @param {string} currentTagName \n */\nfunction isItStopNode(stopNodes, jPath, currentTagName){\n  const allNodesExp = \"*.\" + currentTagName;\n  for (const stopNodePath in stopNodes) {\n    const stopNodeExp = stopNodes[stopNodePath];\n    if( allNodesExp === stopNodeExp || jPath === stopNodeExp  ) return true;\n  }\n  return false;\n}\n\n/**\n * Returns the tag Expression and where it is ending handling single-double quotes situation\n * @param {string} xmlData \n * @param {number} i starting index\n * @returns \n */\nfunction tagExpWithClosingIndex(xmlData, i, closingChar = \">\"){\n  let attrBoundary;\n  let tagExp = \"\";\n  for (let index = i; index < xmlData.length; index++) {\n    let ch = xmlData[index];\n    if (attrBoundary) {\n        if (ch === attrBoundary) attrBoundary = \"\";//reset\n    } else if (ch === '\"' || ch === \"'\") {\n        attrBoundary = ch;\n    } else if (ch === closingChar[0]) {\n      if(closingChar[1]){\n        if(xmlData[index + 1] === closingChar[1]){\n          return {\n            data: tagExp,\n            index: index\n          }\n        }\n      }else{\n        return {\n          data: tagExp,\n          index: index\n        }\n      }\n    } else if (ch === '\\t') {\n      ch = \" \"\n    }\n    tagExp += ch;\n  }\n}\n\nfunction findClosingIndex(xmlData, str, i, errMsg){\n  const closingIndex = xmlData.indexOf(str, i);\n  if(closingIndex === -1){\n    throw new Error(errMsg)\n  }else{\n    return closingIndex + str.length - 1;\n  }\n}\n\nfunction readTagExp(xmlData,i, removeNSPrefix, closingChar = \">\"){\n  const result = tagExpWithClosingIndex(xmlData, i+1, closingChar);\n  if(!result) return;\n  let tagExp = result.data;\n  const closeIndex = result.index;\n  const separatorIndex = tagExp.search(/\\s/);\n  let tagName = tagExp;\n  let attrExpPresent = true;\n  if(separatorIndex !== -1){//separate tag name and attributes expression\n    tagName = tagExp.substring(0, separatorIndex);\n    tagExp = tagExp.substring(separatorIndex + 1).trimStart();\n  }\n\n  const rawTagName = tagName;\n  if(removeNSPrefix){\n    const colonIndex = tagName.indexOf(\":\");\n    if(colonIndex !== -1){\n      tagName = tagName.substr(colonIndex+1);\n      attrExpPresent = tagName !== result.data.substr(colonIndex + 1);\n    }\n  }\n\n  return {\n    tagName: tagName,\n    tagExp: tagExp,\n    closeIndex: closeIndex,\n    attrExpPresent: attrExpPresent,\n    rawTagName: rawTagName,\n  }\n}\n/**\n * find paired tag for a stop node\n * @param {string} xmlData \n * @param {string} tagName \n * @param {number} i \n */\nfunction readStopNodeData(xmlData, tagName, i){\n  const startIndex = i;\n  // Starting at 1 since we already have an open tag\n  let openTagCount = 1;\n\n  for (; i < xmlData.length; i++) {\n    if( xmlData[i] === \"<\"){ \n      if (xmlData[i+1] === \"/\") {//close tag\n          const closeIndex = findClosingIndex(xmlData, \">\", i, `${tagName} is not closed`);\n          let closeTagName = xmlData.substring(i+2,closeIndex).trim();\n          if(closeTagName === tagName){\n            openTagCount--;\n            if (openTagCount === 0) {\n              return {\n                tagContent: xmlData.substring(startIndex, i),\n                i : closeIndex\n              }\n            }\n          }\n          i=closeIndex;\n        } else if(xmlData[i+1] === '?') { \n          const closeIndex = findClosingIndex(xmlData, \"?>\", i+1, \"StopNode is not closed.\")\n          i=closeIndex;\n        } else if(xmlData.substr(i + 1, 3) === '!--') { \n          const closeIndex = findClosingIndex(xmlData, \"-->\", i+3, \"StopNode is not closed.\")\n          i=closeIndex;\n        } else if(xmlData.substr(i + 1, 2) === '![') { \n          const closeIndex = findClosingIndex(xmlData, \"]]>\", i, \"StopNode is not closed.\") - 2;\n          i=closeIndex;\n        } else {\n          const tagData = readTagExp(xmlData, i, '>')\n\n          if (tagData) {\n            const openTagName = tagData && tagData.tagName;\n            if (openTagName === tagName && tagData.tagExp[tagData.tagExp.length-1] !== \"/\") {\n              openTagCount++;\n            }\n            i=tagData.closeIndex;\n          }\n        }\n      }\n  }//end for loop\n}\n\nfunction parseValue(val, shouldParse, options) {\n  if (shouldParse && typeof val === 'string') {\n    //console.log(options)\n    const newval = val.trim();\n    if(newval === 'true' ) return true;\n    else if(newval === 'false' ) return false;\n    else return toNumber(val, options);\n  } else {\n    if (util.isExist(val)) {\n      return val;\n    } else {\n      return '';\n    }\n  }\n}\n\n\nmodule.exports = OrderedObjParser;\n\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst { buildOptions} = __webpack_require__(/*! ./OptionsBuilder */ \"./node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js\");\nconst OrderedObjParser = __webpack_require__(/*! ./OrderedObjParser */ \"./node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js\");\nconst { prettify} = __webpack_require__(/*! ./node2json */ \"./node_modules/fast-xml-parser/src/xmlparser/node2json.js\");\nconst validator = __webpack_require__(/*! ../validator */ \"./node_modules/fast-xml-parser/src/validator.js\");\n\nclass XMLParser{\n    \n    constructor(options){\n        this.externalEntities = {};\n        this.options = buildOptions(options);\n        \n    }\n    /**\n     * Parse XML dats to JS object \n     * @param {string|Buffer} xmlData \n     * @param {boolean|Object} validationOption \n     */\n    parse(xmlData,validationOption){\n        if(typeof xmlData === \"string\"){\n        }else if( xmlData.toString){\n            xmlData = xmlData.toString();\n        }else{\n            throw new Error(\"XML data is accepted in String or Bytes[] form.\")\n        }\n        if( validationOption){\n            if(validationOption === true) validationOption = {}; //validate with default options\n            \n            const result = validator.validate(xmlData, validationOption);\n            if (result !== true) {\n              throw Error( `${result.err.msg}:${result.err.line}:${result.err.col}` )\n            }\n          }\n        const orderedObjParser = new OrderedObjParser(this.options);\n        orderedObjParser.addExternalEntities(this.externalEntities);\n        const orderedResult = orderedObjParser.parseXml(xmlData);\n        if(this.options.preserveOrder || orderedResult === undefined) return orderedResult;\n        else return prettify(orderedResult, this.options);\n    }\n\n    /**\n     * Add Entity which is not by default supported by this library\n     * @param {string} key \n     * @param {string} value \n     */\n    addEntity(key, value){\n        if(value.indexOf(\"&\") !== -1){\n            throw new Error(\"Entity value can't have '&'\")\n        }else if(key.indexOf(\"&\") !== -1 || key.indexOf(\";\") !== -1){\n            throw new Error(\"An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'\")\n        }else if(value === \"&\"){\n            throw new Error(\"An entity with value '&' is not permitted\");\n        }else{\n            this.externalEntities[key] = value;\n        }\n    }\n}\n\nmodule.exports = XMLParser;\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlparser/node2json.js\":\n/*!*****************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlparser/node2json.js ***!\n  \\*****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * \n * @param {array} node \n * @param {any} options \n * @returns \n */\nfunction prettify(node, options){\n  return compress( node, options);\n}\n\n/**\n * \n * @param {array} arr \n * @param {object} options \n * @param {string} jPath \n * @returns object\n */\nfunction compress(arr, options, jPath){\n  let text;\n  const compressedObj = {};\n  for (let i = 0; i < arr.length; i++) {\n    const tagObj = arr[i];\n    const property = propName(tagObj);\n    let newJpath = \"\";\n    if(jPath === undefined) newJpath = property;\n    else newJpath = jPath + \".\" + property;\n\n    if(property === options.textNodeName){\n      if(text === undefined) text = tagObj[property];\n      else text += \"\" + tagObj[property];\n    }else if(property === undefined){\n      continue;\n    }else if(tagObj[property]){\n      \n      let val = compress(tagObj[property], options, newJpath);\n      const isLeaf = isLeafTag(val, options);\n\n      if(tagObj[\":@\"]){\n        assignAttributes( val, tagObj[\":@\"], newJpath, options);\n      }else if(Object.keys(val).length === 1 && val[options.textNodeName] !== undefined && !options.alwaysCreateTextNode){\n        val = val[options.textNodeName];\n      }else if(Object.keys(val).length === 0){\n        if(options.alwaysCreateTextNode) val[options.textNodeName] = \"\";\n        else val = \"\";\n      }\n\n      if(compressedObj[property] !== undefined && compressedObj.hasOwnProperty(property)) {\n        if(!Array.isArray(compressedObj[property])) {\n            compressedObj[property] = [ compressedObj[property] ];\n        }\n        compressedObj[property].push(val);\n      }else{\n        //TODO: if a node is not an array, then check if it should be an array\n        //also determine if it is a leaf node\n        if (options.isArray(property, newJpath, isLeaf )) {\n          compressedObj[property] = [val];\n        }else{\n          compressedObj[property] = val;\n        }\n      }\n    }\n    \n  }\n  // if(text && text.length > 0) compressedObj[options.textNodeName] = text;\n  if(typeof text === \"string\"){\n    if(text.length > 0) compressedObj[options.textNodeName] = text;\n  }else if(text !== undefined) compressedObj[options.textNodeName] = text;\n  return compressedObj;\n}\n\nfunction propName(obj){\n  const keys = Object.keys(obj);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if(key !== \":@\") return key;\n  }\n}\n\nfunction assignAttributes(obj, attrMap, jpath, options){\n  if (attrMap) {\n    const keys = Object.keys(attrMap);\n    const len = keys.length; //don't make it inline\n    for (let i = 0; i < len; i++) {\n      const atrrName = keys[i];\n      if (options.isArray(atrrName, jpath + \".\" + atrrName, true, true)) {\n        obj[atrrName] = [ attrMap[atrrName] ];\n      } else {\n        obj[atrrName] = attrMap[atrrName];\n      }\n    }\n  }\n}\n\nfunction isLeafTag(obj, options){\n  const { textNodeName } = options;\n  const propCount = Object.keys(obj).length;\n  \n  if (propCount === 0) {\n    return true;\n  }\n\n  if (\n    propCount === 1 &&\n    (obj[textNodeName] || typeof obj[textNodeName] === \"boolean\" || obj[textNodeName] === 0)\n  ) {\n    return true;\n  }\n\n  return false;\n}\nexports.prettify = prettify;\n\n\n/***/ }),\n\n/***/ \"./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js\":\n/*!***************************************************************!*\\\n  !*** ./node_modules/fast-xml-parser/src/xmlparser/xmlNode.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nclass XmlNode{\n  constructor(tagname) {\n    this.tagname = tagname;\n    this.child = []; //nested tags, text, cdata, comments in order\n    this[\":@\"] = {}; //attributes map\n  }\n  add(key,val){\n    // this.child.push( {name : key, val: val, isCdata: isCdata });\n    if(key === \"__proto__\") key = \"#__proto__\";\n    this.child.push( {[key]: val });\n  }\n  addChild(node) {\n    if(node.tagname === \"__proto__\") node.tagname = \"#__proto__\";\n    if(node[\":@\"] && Object.keys(node[\":@\"]).length > 0){\n      this.child.push( { [node.tagname]: node.child, [\":@\"]: node[\":@\"] });\n    }else{\n      this.child.push( { [node.tagname]: node.child });\n    }\n  };\n};\n\n\nmodule.exports = XmlNode;\n\n/***/ }),\n\n/***/ \"./node_modules/process/browser.js\":\n/*!*****************************************!*\\\n  !*** ./node_modules/process/browser.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n\n/***/ \"./node_modules/strnum/strnum.js\":\n/*!***************************************!*\\\n  !*** ./node_modules/strnum/strnum.js ***!\n  \\***************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nconst hexRegex = /^[-+]?0x[a-fA-F0-9]+$/;\nconst numRegex = /^([\\-\\+])?(0*)([0-9]*(\\.[0-9]*)?)$/;\n// const octRegex = /^0x[a-z0-9]+/;\n// const binRegex = /0x[a-z0-9]+/;\n\n \nconst consider = {\n    hex :  true,\n    // oct: false,\n    leadingZeros: true,\n    decimalPoint: \"\\.\",\n    eNotation: true,\n    //skipLike: /regex/\n};\n\nfunction toNumber(str, options = {}){\n    options = Object.assign({}, consider, options );\n    if(!str || typeof str !== \"string\" ) return str;\n    \n    let trimmedStr  = str.trim();\n    \n    if(options.skipLike !== undefined && options.skipLike.test(trimmedStr)) return str;\n    else if(str===\"0\") return 0;\n    else if (options.hex && hexRegex.test(trimmedStr)) {\n        return parse_int(trimmedStr, 16);\n    // }else if (options.oct && octRegex.test(str)) {\n    //     return Number.parseInt(val, 8);\n    }else if (trimmedStr.search(/[eE]/)!== -1) { //eNotation\n        const notation = trimmedStr.match(/^([-\\+])?(0*)([0-9]*(\\.[0-9]*)?[eE][-\\+]?[0-9]+)$/); \n        // +00.123 => [ , '+', '00', '.123', ..\n        if(notation){\n            // console.log(notation)\n            if(options.leadingZeros){ //accept with leading zeros\n                trimmedStr = (notation[1] || \"\") + notation[3];\n            }else{\n                if(notation[2] === \"0\" && notation[3][0]=== \".\"){ //valid number\n                }else{\n                    return str;\n                }\n            }\n            return options.eNotation ? Number(trimmedStr) : str;\n        }else{\n            return str;\n        }\n    // }else if (options.parseBin && binRegex.test(str)) {\n    //     return Number.parseInt(val, 2);\n    }else{\n        //separate negative sign, leading zeros, and rest number\n        const match = numRegex.exec(trimmedStr);\n        // +00.123 => [ , '+', '00', '.123', ..\n        if(match){\n            const sign = match[1];\n            const leadingZeros = match[2];\n            let numTrimmedByZeros = trimZeros(match[3]); //complete num without leading zeros\n            //trim ending zeros for floating number\n            \n            if(!options.leadingZeros && leadingZeros.length > 0 && sign && trimmedStr[2] !== \".\") return str; //-0123\n            else if(!options.leadingZeros && leadingZeros.length > 0 && !sign && trimmedStr[1] !== \".\") return str; //0123\n            else if(options.leadingZeros && leadingZeros===str) return 0; //00\n            \n            else{//no leading zeros or leading zeros are allowed\n                const num = Number(trimmedStr);\n                const numStr = \"\" + num;\n\n                if(numStr.search(/[eE]/) !== -1){ //given number is long and parsed to eNotation\n                    if(options.eNotation) return num;\n                    else return str;\n                }else if(trimmedStr.indexOf(\".\") !== -1){ //floating number\n                    if(numStr === \"0\" && (numTrimmedByZeros === \"\") ) return num; //0.0\n                    else if(numStr === numTrimmedByZeros) return num; //0.456. 0.79000\n                    else if( sign && numStr === \"-\"+numTrimmedByZeros) return num;\n                    else return str;\n                }\n                \n                if(leadingZeros){\n                    return (numTrimmedByZeros === numStr) || (sign+numTrimmedByZeros === numStr) ? num : str\n                }else  {\n                    return (trimmedStr === numStr) || (trimmedStr === sign+numStr) ? num : str\n                }\n            }\n        }else{ //non-numeric string\n            return str;\n        }\n    }\n}\n\n/**\n * \n * @param {string} numStr without leading zeros\n * @returns \n */\nfunction trimZeros(numStr){\n    if(numStr && numStr.indexOf(\".\") !== -1){//float\n        numStr = numStr.replace(/0+$/, \"\"); //remove ending zeros\n        if(numStr === \".\")  numStr = \"0\";\n        else if(numStr[0] === \".\")  numStr = \"0\"+numStr;\n        else if(numStr[numStr.length-1] === \".\")  numStr = numStr.substr(0,numStr.length-1);\n        return numStr;\n    }\n    return numStr;\n}\n\nfunction parse_int(numStr, base){\n    //polyfill\n    if(parseInt) return parseInt(numStr, base);\n    else if(Number.parseInt) return Number.parseInt(numStr, base);\n    else if(window && window.parseInt) return window.parseInt(numStr, base);\n    else throw new Error(\"parseInt, Number.parseInt, window.parseInt are not supported\")\n}\n\nmodule.exports = toNumber;\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/amd-options.js\":\n/*!****************************************!*\\\n  !*** (webpack)/buildin/amd-options.js ***!\n  \\****************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n\n/* WEBPACK VAR INJECTION */}.call(this, {}))\n\n/***/ }),\n\n/***/ \"./node_modules/webpack/buildin/module.js\":\n/*!***********************************!*\\\n  !*** (webpack)/buildin/module.js ***!\n  \\***********************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/*! exports provided: name, version, description, main, types, scripts, repository, keywords, author, license, bugs, homepage, dependencies, devDependencies, default */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"name\\\":\\\"cos-js-sdk-v5\\\",\\\"version\\\":\\\"1.10.1\\\",\\\"description\\\":\\\"JavaScript SDK for [腾讯云对象存储](https://cloud.tencent.com/product/cos)\\\",\\\"main\\\":\\\"dist/cos-js-sdk-v5.js\\\",\\\"types\\\":\\\"index.d.ts\\\",\\\"scripts\\\":{\\\"prettier\\\":\\\"prettier --write src demo/demo.js demo/CIDemos/*.js test/test.js server/sts.js lib/request.js index.d.ts\\\",\\\"server\\\":\\\"node server/sts.js\\\",\\\"dev\\\":\\\"cross-env NODE_ENV=development webpack -w --mode=development\\\",\\\"build\\\":\\\"cross-env NODE_ENV=production webpack --mode=production\\\",\\\"cos-auth.min.js\\\":\\\"uglifyjs ./demo/common/cos-auth.js -o ./demo/common/cos-auth.min.js -c -m\\\",\\\"test\\\":\\\"jest --runInBand --coverage\\\",\\\"postinstall\\\":\\\"node scripts/patch-check.js\\\"},\\\"repository\\\":{\\\"type\\\":\\\"git\\\",\\\"url\\\":\\\"git+https://github.com/tencentyun/cos-js-sdk-v5.git\\\"},\\\"keywords\\\":[],\\\"author\\\":\\\"carsonxu\\\",\\\"license\\\":\\\"ISC\\\",\\\"bugs\\\":{\\\"url\\\":\\\"https://github.com/tencentyun/cos-js-sdk-v5/issues\\\"},\\\"homepage\\\":\\\"https://github.com/tencentyun/cos-js-sdk-v5#readme\\\",\\\"dependencies\\\":{\\\"fast-xml-parser\\\":\\\"4.5.0\\\"},\\\"devDependencies\\\":{\\\"@babel/core\\\":\\\"7.17.9\\\",\\\"@babel/plugin-transform-runtime\\\":\\\"7.18.10\\\",\\\"@babel/preset-env\\\":\\\"7.16.11\\\",\\\"babel-loader\\\":\\\"8.2.5\\\",\\\"body-parser\\\":\\\"^1.18.3\\\",\\\"cross-env\\\":\\\"^5.2.0\\\",\\\"express\\\":\\\"^4.16.4\\\",\\\"jest\\\":\\\"29.7.0\\\",\\\"jest-environment-jsdom\\\":\\\"29.7.0\\\",\\\"patch-package\\\":\\\"^8.0.0\\\",\\\"prettier\\\":\\\"^3.0.1\\\",\\\"qcloud-cos-sts\\\":\\\"^3.0.2\\\",\\\"request\\\":\\\"^2.87.0\\\",\\\"terser-webpack-plugin\\\":\\\"4.2.3\\\",\\\"uglifyjs\\\":\\\"^2.4.11\\\",\\\"webpack\\\":\\\"4.46.0\\\",\\\"webpack-cli\\\":\\\"4.10.0\\\"}}\");\n\n/***/ }),\n\n/***/ \"./src/advance.js\":\n/*!************************!*\\\n  !*** ./src/advance.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\nvar session = __webpack_require__(/*! ./session */ \"./src/session.js\");\nvar Async = __webpack_require__(/*! ./async */ \"./src/async.js\");\nvar EventProxy = __webpack_require__(/*! ./event */ \"./src/event.js\").EventProxy;\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\nvar Tracker = __webpack_require__(/*! ./tracker */ \"./src/tracker.js\");\n\n// 文件分块上传全过程，暴露的分块上传接口\nfunction sliceUploadFile(params, callback) {\n  var self = this;\n  var ep = new EventProxy();\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var Body = params.Body;\n  var ChunkSize = params.ChunkSize || params.SliceSize || self.options.ChunkSize;\n  var AsyncLimit = params.AsyncLimit;\n  var StorageClass = params.StorageClass;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var FileSize;\n  var onProgress;\n  var onHashProgress = params.onHashProgress;\n  var tracker = params.tracker;\n  tracker && tracker.setParams({\n    chunkSize: ChunkSize\n  });\n  self.logger.info({\n    cate: 'PROCESS',\n    tag: 'upload',\n    msg: \"[key=\".concat(params.Key, \"] \\u5206\\u5757\\u4E0A\\u4F20\\u5F00\\u59CB\")\n  });\n\n  // 上传过程中出现错误，返回错误\n  ep.on('error', function (err) {\n    if (!self._isRunningTask(TaskId)) return;\n    if (params.UploadData.UploadId) {\n      session.removeUsing(params.UploadData.UploadId);\n    }\n    err.UploadId = params.UploadData.UploadId || '';\n    self.logger.error({\n      cate: 'RESULT',\n      tag: 'upload',\n      msg: \"[key=\".concat(params.Key, \"] \\u5206\\u5757\\u4E0A\\u4F20\\u5931\\u8D25: \").concat(JSON.stringify(err))\n    });\n    return callback(err);\n  });\n\n  // 上传分块完成，开始 uploadSliceComplete 操作\n  ep.on('upload_complete', function (UploadCompleteData) {\n    var _UploadCompleteData = util.extend({\n      UploadId: params.UploadData.UploadId || ''\n    }, UploadCompleteData);\n    callback(null, _UploadCompleteData);\n  });\n\n  // 上传分块完成，开始 uploadSliceComplete 操作\n  ep.on('upload_slice_complete', function (UploadData) {\n    var metaHeaders = {};\n    util.each(params.Headers, function (val, k) {\n      var shortKey = k.toLowerCase();\n      if (shortKey.indexOf('x-cos-meta-') === 0 || ['pic-operations', 'x-cos-callback', 'x-cos-callback-var', 'x-cos-return-body'].includes(shortKey)) {\n        metaHeaders[k] = val;\n      }\n    });\n    self.logger.info({\n      cate: 'PROCESS',\n      tag: 'upload',\n      msg: \"[key=\".concat(params.Key, \"] \\u5F00\\u59CB\\u5B8C\\u6210\\u5206\\u5757\\u8BF7\\u6C42\")\n    });\n    uploadSliceComplete.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      UploadId: UploadData.UploadId,\n      SliceList: UploadData.SliceList,\n      Headers: metaHeaders,\n      tracker: tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      session.removeUsing(UploadData.UploadId);\n      if (err) {\n        onProgress(null, true);\n        self.logger.error({\n          cate: 'RESULT',\n          tag: 'upload',\n          msg: \"[key=\".concat(params.Key, \"] \\u5B8C\\u6210\\u5206\\u5757\\u8BF7\\u6C42\\u5931\\u8D25\")\n        });\n        return ep.emit('error', err);\n      }\n      session.removeUploadId.call(self, UploadData.UploadId);\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      self.logger.info({\n        cate: 'RESULT',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] \\u5B8C\\u6210\\u5206\\u5757\\u8BF7\\u6C42\\u6210\\u529F\")\n      });\n      ep.emit('upload_complete', data);\n    });\n  });\n\n  // 获取 UploadId 完成，开始上传每个分片\n  ep.on('get_upload_data_finish', function (UploadData) {\n    // 处理 UploadId 缓存\n    var uuid = session.getFileId(Body, params.ChunkSize, Bucket, Key);\n    uuid && session.saveUploadId.call(self, uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // 缓存 UploadId\n    session.setUsing(UploadData.UploadId); // 标记 UploadId 为正在使用\n\n    // 获取 UploadId\n    onProgress(null, true); // 任务状态开始 uploading\n    self.logger.info({\n      cate: 'PROCESS',\n      tag: 'upload',\n      msg: \"[key=\".concat(params.Key, \"] \\u5F00\\u59CB\\u4E0A\\u4F20\\u5404\\u4E2A\\u5206\\u5757\")\n    });\n    uploadSliceList.call(self, {\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Body: Body,\n      FileSize: FileSize,\n      SliceSize: ChunkSize,\n      AsyncLimit: AsyncLimit,\n      ServerSideEncryption: ServerSideEncryption,\n      UploadData: UploadData,\n      Headers: params.Headers,\n      onProgress: onProgress,\n      tracker: tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (err) {\n        onProgress(null, true);\n        self.logger.error({\n          cate: 'PROCESS',\n          tag: 'upload',\n          msg: \"[key=\".concat(params.Key, \"] \\u5206\\u5757\\u4E0A\\u4F20\\u5931\\u8D25\")\n        });\n        return ep.emit('error', err);\n      }\n      self.logger.info({\n        cate: 'PROCESS',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] \\u6240\\u6709\\u5206\\u5757\\u4E0A\\u4F20\\u5B8C\\u6210\")\n      });\n      ep.emit('upload_slice_complete', data);\n    });\n  });\n\n  // 开始获取文件 UploadId，里面会视情况计算 ETag，并比对，保证文件一致性，也优化上传\n  ep.on('get_file_size_finish', function () {\n    onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n    if (params.UploadData.UploadId) {\n      self.logger.info({\n        cate: 'PROCESS',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] \\u5DF2\\u7ECF\\u83B7\\u53D6\\u5230 uploadId, \").concat(params.UploadData.UploadId)\n      });\n      ep.emit('get_upload_data_finish', params.UploadData);\n    } else {\n      var _params = util.extend({\n        TaskId: TaskId,\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        Headers: params.Headers,\n        StorageClass: StorageClass,\n        Body: Body,\n        FileSize: FileSize,\n        SliceSize: ChunkSize,\n        onHashProgress: onHashProgress,\n        tracker: tracker\n      }, params);\n      self.logger.info({\n        cate: 'PROCESS',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] \\u53BB\\u83B7\\u53D6 uploadId\")\n      });\n      getUploadIdAndPartList.call(self, _params, function (err, UploadData) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return ep.emit('error', err);\n        params.UploadData.UploadId = UploadData.UploadId;\n        params.UploadData.PartList = UploadData.PartList;\n        self.logger.info({\n          cate: 'PROCESS',\n          tag: 'upload',\n          msg: \"[key=\".concat(params.Key, \"] \\u83B7\\u53D6\\u5230 uploadId, \").concat(params.UploadData.UploadId)\n        });\n        ep.emit('get_upload_data_finish', params.UploadData);\n      });\n    }\n  });\n\n  // 获取上传文件大小\n  FileSize = params.ContentLength;\n  delete params.ContentLength;\n  !params.Headers && (params.Headers = {});\n  util.each(params.Headers, function (item, key) {\n    if (key.toLowerCase() === 'content-length') {\n      delete params.Headers[key];\n    }\n  });\n\n  // 控制分片大小\n  (function () {\n    var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n    var AutoChunkSize = 1024 * 1024;\n    for (var i = 0; i < SIZE.length; i++) {\n      AutoChunkSize = SIZE[i] * 1024 * 1024;\n      if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n    }\n    params.ChunkSize = params.SliceSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n  })();\n\n  // 开始上传\n  if (FileSize === 0) {\n    params.Body = '';\n    params.ContentLength = 0;\n    params.SkipTask = true;\n    self.logger.info({\n      cate: 'PROCESS',\n      tag: 'upload',\n      msg: \"[key=\".concat(params.Key, \"] \\u6587\\u4EF6\\u5927\\u5C0F\\u4E3A 0\\uFF0C\\u6267\\u884C\\u7B80\\u5355\\u4E0A\\u4F20\")\n    });\n    self.putObject(params, callback);\n  } else {\n    ep.emit('get_file_size_finish');\n  }\n}\n\n// 获取上传任务的 UploadId\nfunction getUploadIdAndPartList(params, callback) {\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var StorageClass = params.StorageClass;\n  var self = this;\n\n  // 计算 ETag\n  var ETagMap = {};\n  var FileSize = params.FileSize;\n  var SliceSize = params.SliceSize;\n  var SliceCount = Math.ceil(FileSize / SliceSize);\n  var FinishSliceCount = 0;\n  var FinishSize = 0;\n  var onHashProgress = util.throttleOnProgress.call(self, FileSize, params.onHashProgress);\n  var getChunkETag = function getChunkETag(PartNumber, callback) {\n    var start = SliceSize * (PartNumber - 1);\n    var end = Math.min(start + SliceSize, FileSize);\n    var ChunkSize = end - start;\n    if (ETagMap[PartNumber]) {\n      callback(null, {\n        PartNumber: PartNumber,\n        ETag: ETagMap[PartNumber],\n        Size: ChunkSize\n      });\n    } else {\n      util.fileSlice(params.Body, start, end, false, function (chunkItem) {\n        util.getFileMd5(chunkItem, function (err, md5) {\n          if (err) return callback(util.error(err));\n          var ETag = '\"' + md5 + '\"';\n          ETagMap[PartNumber] = ETag;\n          FinishSliceCount += 1;\n          FinishSize += ChunkSize;\n          onHashProgress({\n            loaded: FinishSize,\n            total: FileSize\n          });\n          callback(null, {\n            PartNumber: PartNumber,\n            ETag: ETag,\n            Size: ChunkSize\n          });\n        });\n      });\n    }\n  };\n\n  // 通过和文件的 md5 对比，判断 UploadId 是否可用\n  var isAvailableUploadList = function isAvailableUploadList(PartList, callback) {\n    var PartCount = PartList.length;\n    // 如果没有分片，通过\n    if (PartCount === 0) {\n      return callback(null, true);\n    }\n    // 检查分片数量\n    if (PartCount > SliceCount) {\n      return callback(null, false);\n    }\n    // 检查分片大小\n    if (PartCount > 1) {\n      var PartSliceSize = Math.max(PartList[0].Size, PartList[1].Size);\n      if (PartSliceSize !== SliceSize) {\n        return callback(null, false);\n      }\n    }\n    // 逐个分片计算并检查 ETag 是否一致\n    var _next = function next(index) {\n      if (index < PartCount) {\n        var Part = PartList[index];\n        getChunkETag(Part.PartNumber, function (err, chunk) {\n          if (chunk && chunk.ETag === Part.ETag && chunk.Size === Part.Size) {\n            _next(index + 1);\n          } else {\n            callback(null, false);\n          }\n        });\n      } else {\n        callback(null, true);\n      }\n    };\n    _next(0);\n  };\n  var ep = new EventProxy();\n  ep.on('error', function (errData) {\n    if (!self._isRunningTask(TaskId)) return;\n    return callback(errData);\n  });\n\n  // 存在 UploadId\n  ep.on('upload_id_available', function (UploadData) {\n    // 转换成 map\n    var map = {};\n    var list = [];\n    util.each(UploadData.PartList, function (item) {\n      map[item.PartNumber] = item;\n    });\n    for (var PartNumber = 1; PartNumber <= SliceCount; PartNumber++) {\n      var item = map[PartNumber];\n      if (item) {\n        item.PartNumber = PartNumber;\n        item.Uploaded = true;\n      } else {\n        item = {\n          PartNumber: PartNumber,\n          ETag: null,\n          Uploaded: false\n        };\n      }\n      list.push(item);\n    }\n    UploadData.PartList = list;\n    callback(null, UploadData);\n  });\n\n  // 不存在 UploadId, 初始化生成 UploadId\n  ep.on('no_available_upload_id', function () {\n    if (!self._isRunningTask(TaskId)) return;\n    var _params = util.extend({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Query: util.clone(params.Query),\n      StorageClass: StorageClass,\n      Body: params.Body,\n      calledBySdk: 'sliceUploadFile',\n      tracker: params.tracker\n    }, params);\n    var headers = util.clone(params.Headers);\n    delete headers['x-cos-mime-limit'];\n    _params.Headers = headers;\n    self.logger.info({\n      cate: 'PROCESS',\n      tag: 'upload',\n      msg: \"[key=\".concat(params.Key, \"] \\u51C6\\u5907\\u521D\\u59CB\\u5316\\u5206\\u5757\\u4E0A\\u4F20\")\n    });\n    self.multipartInit(_params, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (err) {\n        self.logger.error({\n          cate: 'PROCESS',\n          tag: 'upload',\n          msg: \"[key=\".concat(params.Key, \"] \\u521D\\u59CB\\u5316\\u5206\\u5757\\u4E0A\\u4F20\\u5931\\u8D25, \").concat(JSON.stringify(err))\n        });\n        return ep.emit('error', err);\n      }\n      var UploadId = data.UploadId;\n      if (!UploadId) {\n        return callback(util.error(new Error('no such upload id')));\n      }\n      self.logger.info({\n        cate: 'PROCESS',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] \\u521D\\u59CB\\u5316\\u5206\\u5757\\u4E0A\\u4F20\\u6210\\u529F\")\n      });\n      ep.emit('upload_id_available', {\n        UploadId: UploadId,\n        PartList: []\n      });\n    });\n  });\n\n  // 如果已存在 UploadId，找一个可以用的 UploadId\n  ep.on('has_and_check_upload_id', function (UploadIdList) {\n    // 串行地，找一个内容一致的 UploadId\n    UploadIdList = UploadIdList.reverse();\n    Async.eachLimit(UploadIdList, 1, function (UploadId, asyncCallback) {\n      if (!self._isRunningTask(TaskId)) return;\n      // 如果正在上传，跳过\n      if (session.using[UploadId]) {\n        asyncCallback(); // 检查下一个 UploadId\n        return;\n      }\n      // 判断 UploadId 是否可用\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId,\n        tracker: params.tracker\n      }, function (err, PartListData) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) {\n          session.removeUsing(UploadId);\n          return ep.emit('error', err);\n        }\n        var PartList = PartListData.PartList;\n        PartList.forEach(function (item) {\n          item.PartNumber *= 1;\n          item.Size *= 1;\n          item.ETag = item.ETag || '';\n        });\n        isAvailableUploadList(PartList, function (err, isAvailable) {\n          if (!self._isRunningTask(TaskId)) return;\n          if (err) return ep.emit('error', err);\n          if (isAvailable) {\n            asyncCallback({\n              UploadId: UploadId,\n              PartList: PartList\n            }); // 马上结束\n          } else {\n            asyncCallback(); // 检查下一个 UploadId\n          }\n        });\n      });\n    }, function (AvailableUploadData) {\n      if (!self._isRunningTask(TaskId)) return;\n      onHashProgress(null, true);\n      if (AvailableUploadData && AvailableUploadData.UploadId) {\n        ep.emit('upload_id_available', AvailableUploadData);\n      } else {\n        ep.emit('no_available_upload_id');\n      }\n    });\n  });\n\n  // 在本地缓存找可用的 UploadId\n  ep.on('seek_local_avail_upload_id', function (RemoteUploadIdList) {\n    // 在本地找可用的 UploadId\n    var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key);\n    var LocalUploadIdList = session.getUploadIdList.call(self, uuid);\n    if (!uuid || !LocalUploadIdList) {\n      ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n      return;\n    }\n    var _next2 = function next(index) {\n      // 如果本地找不到可用 UploadId，再一个个遍历校验远端\n      if (index >= LocalUploadIdList.length) {\n        ep.emit('has_and_check_upload_id', RemoteUploadIdList);\n        return;\n      }\n      var UploadId = LocalUploadIdList[index];\n      // 如果不在远端 UploadId 列表里，跳过并删除\n      if (!util.isInArray(RemoteUploadIdList, UploadId)) {\n        session.removeUploadId.call(self, UploadId);\n        _next2(index + 1);\n        return;\n      }\n      // 如果正在上传，跳过\n      if (session.using[UploadId]) {\n        _next2(index + 1);\n        return;\n      }\n      // 判断 UploadId 是否存在线上\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId,\n        tracker: params.tracker\n      }, function (err, PartListData) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) {\n          // 如果 UploadId 获取会出错，跳过并删除\n          session.removeUploadId.call(self, UploadId);\n          _next2(index + 1);\n        } else {\n          // 找到可用 UploadId\n          ep.emit('upload_id_available', {\n            UploadId: UploadId,\n            PartList: PartListData.PartList\n          });\n        }\n      });\n    };\n    _next2(0);\n  });\n\n  // 获取线上 UploadId 列表\n  ep.on('get_remote_upload_id_list', function () {\n    // 获取符合条件的 UploadId 列表，因为同一个文件可以有多个上传任务。\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      tracker: params.tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (err) return ep.emit('error', err);\n      // 整理远端 UploadId 列表\n      var RemoteUploadIdList = util.filter(data.UploadList, function (item) {\n        return item.Key === Key && (!StorageClass || item.StorageClass.toUpperCase() === StorageClass.toUpperCase());\n      }).reverse().map(function (item) {\n        return item.UploadId || item.UploadID;\n      });\n      if (RemoteUploadIdList.length) {\n        ep.emit('seek_local_avail_upload_id', RemoteUploadIdList);\n      } else {\n        // 远端没有 UploadId，清理缓存的 UploadId\n        var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key),\n          LocalUploadIdList;\n        if (uuid && (LocalUploadIdList = session.getUploadIdList.call(self, uuid))) {\n          util.each(LocalUploadIdList, function (UploadId) {\n            session.removeUploadId.call(self, UploadId);\n          });\n        }\n        ep.emit('no_available_upload_id');\n      }\n    });\n  });\n\n  // 开始找可用 UploadId\n  ep.emit('get_remote_upload_id_list');\n}\n\n// 获取符合条件的全部上传任务 (条件包括 Bucket, Region, Prefix)\nfunction wholeMultipartList(params, callback) {\n  var self = this;\n  var UploadList = [];\n  var sendParams = {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Prefix: params.Key,\n    calledBySdk: params.calledBySdk || 'sliceUploadFile',\n    tracker: params.tracker\n  };\n  var _next3 = function next() {\n    self.multipartList(sendParams, function (err, data) {\n      if (err) return callback(err);\n      UploadList.push.apply(UploadList, data.Upload || []);\n      if (data.IsTruncated === 'true') {\n        // 列表不完整\n        sendParams.KeyMarker = data.NextKeyMarker;\n        sendParams.UploadIdMarker = data.NextUploadIdMarker;\n        _next3();\n      } else {\n        callback(null, {\n          UploadList: UploadList\n        });\n      }\n    });\n  };\n  _next3();\n}\n\n// 获取指定上传任务的分块列表\nfunction wholeMultipartListPart(params, callback) {\n  var self = this;\n  var PartList = [];\n  var sendParams = {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    UploadId: params.UploadId,\n    calledBySdk: 'sliceUploadFile',\n    tracker: params.tracker\n  };\n  var _next4 = function next() {\n    self.multipartListPart(sendParams, function (err, data) {\n      if (err) return callback(err);\n      PartList.push.apply(PartList, data.Part || []);\n      if (data.IsTruncated === 'true') {\n        // 列表不完整\n        sendParams.PartNumberMarker = data.NextPartNumberMarker;\n        _next4();\n      } else {\n        callback(null, {\n          PartList: PartList\n        });\n      }\n    });\n  };\n  _next4();\n}\n\n// 上传文件分块，包括\n/*\n UploadId (上传任务编号)\n AsyncLimit (并发量)，\n SliceList (上传的分块数组)，\n FilePath (本地文件的位置)，\n SliceSize (文件分块大小)\n FileSize (文件大小)\n onProgress (上传成功之后的回调函数)\n */\nfunction uploadSliceList(params, cb) {\n  var self = this;\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadData = params.UploadData;\n  var FileSize = params.FileSize;\n  var SliceSize = params.SliceSize;\n  var ChunkParallel = Math.min(params.AsyncLimit || self.options.ChunkParallelLimit || 1, 256);\n  var Body = params.Body;\n  var SliceCount = Math.ceil(FileSize / SliceSize);\n  var FinishSize = 0;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var Headers = params.Headers;\n  var needUploadSlices = util.filter(UploadData.PartList, function (SliceItem) {\n    if (SliceItem['Uploaded']) {\n      FinishSize += SliceItem['PartNumber'] >= SliceCount ? FileSize % SliceSize || SliceSize : SliceSize;\n    }\n    return !SliceItem['Uploaded'];\n  });\n  var _onProgress2 = params.onProgress;\n  self.logger.info({\n    cate: 'PROCESS',\n    tag: 'upload',\n    msg: \"[key=\".concat(params.Key, \"] \\u5F00\\u59CB\\u5E76\\u53D1\\u4E0A\\u4F20\\u5404\\u4E2A\\u5206\\u5757\")\n  });\n  Async.eachLimit(needUploadSlices, ChunkParallel, function (SliceItem, asyncCallback) {\n    if (!self._isRunningTask(TaskId)) return;\n    var PartNumber = SliceItem['PartNumber'];\n    var currentSize = Math.min(FileSize, SliceItem['PartNumber'] * SliceSize) - (SliceItem['PartNumber'] - 1) * SliceSize;\n    var preAddSize = 0;\n    self.logger.info({\n      cate: 'PROCESS',\n      tag: 'upload',\n      msg: \"[key=\".concat(params.Key, \"] \\u5206\\u5757\").concat(PartNumber, \"\\u5F00\\u59CB\\u4E0A\\u4F20\")\n    });\n    uploadSliceItem.call(self, {\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      SliceSize: SliceSize,\n      FileSize: FileSize,\n      PartNumber: PartNumber,\n      ServerSideEncryption: ServerSideEncryption,\n      Body: Body,\n      UploadData: UploadData,\n      Headers: Headers,\n      onProgress: function onProgress(data) {\n        FinishSize += data.loaded - preAddSize;\n        preAddSize = data.loaded;\n        _onProgress2({\n          loaded: FinishSize,\n          total: FileSize\n        });\n      },\n      tracker: params.tracker\n    }, function (err, data) {\n      if (!self._isRunningTask(TaskId)) return;\n      if (!err && !data.ETag) {\n        err = 'get ETag error, please add \"ETag\" to CORS ExposeHeader setting.( 获取ETag失败，请在CORS ExposeHeader设置中添加ETag，请参考文档：https://cloud.tencent.com/document/product/436/13318 )';\n        self.logger.error({\n          cate: 'PROCESS',\n          tag: 'upload',\n          msg: \"[key=\".concat(params.Key, \"] \\u5206\\u5757\").concat(PartNumber, \"\\u4E0A\\u4F20\\u8BF7\\u6C42\\u6210\\u529F\\uFF0C\\u4F46\\u662F\\u672A\\u83B7\\u53D6\\u5230 eTag\")\n        });\n      }\n      if (err) {\n        FinishSize -= preAddSize;\n        self.logger.info({\n          cate: 'RESULT',\n          tag: 'upload',\n          msg: \"[key=\".concat(params.Key, \"] \\u5206\\u5757\").concat(PartNumber, \"\\u4E0A\\u4F20\\u5931\\u8D25\")\n        });\n      } else {\n        FinishSize += currentSize - preAddSize;\n        SliceItem.ETag = data.ETag;\n      }\n      self.logger.info({\n        cate: 'RESULT',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] \\u5206\\u5757\").concat(PartNumber, \"\\u4E0A\\u4F20\\u6210\\u529F\")\n      });\n      _onProgress2({\n        loaded: FinishSize,\n        total: FileSize\n      });\n      asyncCallback(err || null, data);\n    });\n  }, function (err) {\n    if (!self._isRunningTask(TaskId)) return;\n    if (err) return cb(err);\n    cb(null, {\n      UploadId: UploadData.UploadId,\n      SliceList: UploadData.PartList\n    });\n  });\n}\n\n// 上传指定分片\nfunction uploadSliceItem(params, callback) {\n  var self = this;\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var FileSize = params.FileSize;\n  var FileBody = params.Body;\n  var PartNumber = params.PartNumber * 1;\n  var SliceSize = params.SliceSize;\n  var ServerSideEncryption = params.ServerSideEncryption;\n  var UploadData = params.UploadData;\n  var Headers = params.Headers || {};\n  var ChunkRetryTimes = self.options.ChunkRetryTimes + 1;\n  var start = SliceSize * (PartNumber - 1);\n  var ContentLength = SliceSize;\n  var end = start + SliceSize;\n  if (end > FileSize) {\n    end = FileSize;\n    ContentLength = end - start;\n  }\n  var headersWhiteList = ['x-cos-traffic-limit', 'x-cos-mime-limit'];\n  var headers = {};\n  util.each(Headers, function (v, k) {\n    if (headersWhiteList.indexOf(k) > -1) {\n      headers[k] = v;\n    }\n  });\n  var PartItem = UploadData.PartList[PartNumber - 1];\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    if (!self._isRunningTask(TaskId)) return;\n    util.fileSlice(FileBody, start, end, true, function (Body) {\n      self.multipartUpload({\n        TaskId: TaskId,\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        ContentLength: ContentLength,\n        PartNumber: PartNumber,\n        UploadId: UploadData.UploadId,\n        ServerSideEncryption: ServerSideEncryption,\n        Body: Body,\n        Headers: headers,\n        onProgress: params.onProgress,\n        calledBySdk: 'sliceUploadFile',\n        tracker: params.tracker\n      }, function (err, data) {\n        if (!self._isRunningTask(TaskId)) return;\n        if (err) return tryCallback(err);\n        PartItem.Uploaded = true;\n        return tryCallback(null, data);\n      });\n    });\n  }, function (err, data) {\n    if (!self._isRunningTask(TaskId)) return;\n    return callback(err, data);\n  });\n}\n\n// 完成分块上传\nfunction uploadSliceComplete(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadId = params.UploadId;\n  var SliceList = params.SliceList;\n  var self = this;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var Headers = params.Headers;\n  var Parts = SliceList.map(function (item) {\n    return {\n      PartNumber: item.PartNumber,\n      ETag: item.ETag\n    };\n  });\n  // 完成上传的请求也做重试\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    self.multipartComplete({\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      UploadId: UploadId,\n      Parts: Parts,\n      Headers: Headers,\n      calledBySdk: 'sliceUploadFile',\n      tracker: params.tracker\n    }, tryCallback);\n  }, function (err, data) {\n    callback(err, data);\n  });\n}\n\n// 抛弃分块上传任务\n/*\n AsyncLimit (抛弃上传任务的并发量)，\n UploadId (上传任务的编号，当 Level 为 task 时候需要)\n Level (抛弃分块上传任务的级别，task : 抛弃指定的上传任务，file ： 抛弃指定的文件对应的上传任务，其他值 ：抛弃指定Bucket 的全部上传任务)\n */\nfunction abortUploadTask(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var UploadId = params.UploadId;\n  var Level = params.Level || 'task';\n  var AsyncLimit = params.AsyncLimit;\n  var self = this;\n  var ep = new EventProxy();\n  ep.on('error', function (errData) {\n    return callback(errData);\n  });\n\n  // 已经获取到需要抛弃的任务列表\n  ep.on('get_abort_array', function (AbortArray) {\n    abortUploadTaskArray.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      Headers: params.Headers,\n      AsyncLimit: AsyncLimit,\n      AbortArray: AbortArray\n    }, callback);\n  });\n  if (Level === 'bucket') {\n    // Bucket 级别的任务抛弃，抛弃该 Bucket 下的全部上传任务\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      calledBySdk: 'abortUploadTask'\n    }, function (err, data) {\n      if (err) return callback(err);\n      ep.emit('get_abort_array', data.UploadList || []);\n    });\n  } else if (Level === 'file') {\n    // 文件级别的任务抛弃，抛弃该文件的全部上传任务\n    if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n    wholeMultipartList.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      calledBySdk: 'abortUploadTask'\n    }, function (err, data) {\n      if (err) return callback(err);\n      ep.emit('get_abort_array', data.UploadList || []);\n    });\n  } else if (Level === 'task') {\n    // 单个任务级别的任务抛弃，抛弃指定 UploadId 的上传任务\n    if (!UploadId) return callback(util.error(new Error('abort_upload_task_no_id')));\n    if (!Key) return callback(util.error(new Error('abort_upload_task_no_key')));\n    ep.emit('get_abort_array', [{\n      Key: Key,\n      UploadId: UploadId\n    }]);\n  } else {\n    return callback(util.error(new Error('abort_unknown_level')));\n  }\n}\n\n// 批量抛弃分块上传任务\nfunction abortUploadTaskArray(params, callback) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var AbortArray = params.AbortArray;\n  var AsyncLimit = params.AsyncLimit || 1;\n  var self = this;\n  var index = 0;\n  var resultList = new Array(AbortArray.length);\n  Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, nextItem) {\n    var eachIndex = index;\n    if (Key && Key !== AbortItem.Key) {\n      resultList[eachIndex] = {\n        error: {\n          KeyNotMatch: true\n        }\n      };\n      nextItem(null);\n      return;\n    }\n    var UploadId = AbortItem.UploadId || AbortItem.UploadID;\n    self.multipartAbort({\n      Bucket: Bucket,\n      Region: Region,\n      Key: AbortItem.Key,\n      Headers: params.Headers,\n      UploadId: UploadId\n    }, function (err) {\n      var task = {\n        Bucket: Bucket,\n        Region: Region,\n        Key: AbortItem.Key,\n        UploadId: UploadId\n      };\n      resultList[eachIndex] = {\n        error: err,\n        task: task\n      };\n      nextItem(null);\n    });\n    index++;\n  }, function (err) {\n    if (err) return callback(err);\n    var successList = [];\n    var errorList = [];\n    for (var i = 0, len = resultList.length; i < len; i++) {\n      var item = resultList[i];\n      if (item['task']) {\n        if (item['error']) {\n          errorList.push(item['task']);\n        } else {\n          successList.push(item['task']);\n        }\n      }\n    }\n    return callback(null, {\n      successList: successList,\n      errorList: errorList\n    });\n  });\n}\n\n// 高级上传\nfunction uploadFile(params, callback) {\n  var self = this;\n\n  // 判断多大的文件使用分片上传\n  var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n  var taskList = [];\n  var Body = params.Body;\n  var FileSize = Body.size || Body.length || 0;\n  var fileInfo = {\n    TaskId: ''\n  };\n\n  // 上传链路\n  if (self.options.EnableReporter) {\n    var accelerate = self.options.UseAccelerate || typeof self.options.Domain === 'string' && self.options.Domain.includes('accelerate.');\n    var realApi = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n    params.tracker = new Tracker({\n      Beacon: self.options.BeaconReporter,\n      clsReporter: self.options.ClsReporter,\n      bucket: params.Bucket,\n      region: params.Region,\n      apiName: 'uploadFile',\n      realApi: realApi,\n      fileKey: params.Key,\n      fileSize: FileSize,\n      accelerate: accelerate,\n      deepTracker: self.options.DeepTracker,\n      customId: self.options.CustomId,\n      delay: self.options.TrackerDelay\n    });\n  }\n\n  // 整理 option，用于返回给回调\n  util.each(params, function (v, k) {\n    if (_typeof(v) !== 'object' && typeof v !== 'function') {\n      fileInfo[k] = v;\n    }\n  });\n\n  // 处理文件 TaskReady\n  var _onTaskReady = params.onTaskReady;\n  var onTaskReady = function onTaskReady(tid) {\n    fileInfo.TaskId = tid;\n    _onTaskReady && _onTaskReady(tid);\n  };\n  params.onTaskReady = onTaskReady;\n\n  // 添加上传任务,超过阈值使用分块上传，小于等于则简单上传\n  var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n\n  // 处理文件完成\n  var _onFileFinish = params.onFileFinish;\n  var onFileFinish = function onFileFinish(err, data) {\n    // 格式化上报参数并上报\n    params.tracker && params.tracker.report(err, data);\n    _onFileFinish && _onFileFinish(err, data, fileInfo);\n    callback && callback(err, data);\n  };\n  taskList.push({\n    api: api,\n    params: params,\n    callback: onFileFinish\n  });\n  self._addTasks(taskList);\n}\n\n// 批量上传文件\nfunction uploadFiles(params, callback) {\n  var self = this;\n\n  // 判断多大的文件使用分片上传\n  var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\n\n  // 汇总返回进度\n  var TotalSize = 0;\n  var TotalFinish = 0;\n  var onTotalProgress = util.throttleOnProgress.call(self, TotalFinish, params.onProgress);\n\n  // 汇总返回回调\n  var unFinishCount = params.files.length;\n  var _onTotalFileFinish = params.onFileFinish;\n  var resultList = Array(unFinishCount);\n  var onTotalFileFinish = function onTotalFileFinish(err, data, options) {\n    onTotalProgress(null, true);\n    _onTotalFileFinish && _onTotalFileFinish(err, data, options);\n    resultList[options.Index] = {\n      options: options,\n      error: err,\n      data: data\n    };\n    if (--unFinishCount <= 0 && callback) {\n      callback(null, {\n        files: resultList\n      });\n    }\n  };\n\n  // 开始处理每个文件\n  var taskList = [];\n  util.each(params.files, function (fileParams, index) {\n    (function () {\n      var Body = fileParams.Body;\n      var FileSize = Body.size || Body.length || 0;\n      var fileInfo = {\n        Index: index,\n        TaskId: ''\n      };\n\n      // 如果 批量上传的 Key 是 / 开头，强制去掉第一个 /\n      if (!self.options.UseRawKey && fileParams.Key && fileParams.Key.substr(0, 1) === '/') {\n        fileParams.Key = fileParams.Key.substr(1);\n      }\n\n      // 更新文件总大小\n      TotalSize += FileSize;\n\n      // 单个文件上传链路\n      if (self.options.EnableReporter) {\n        var accelerate = self.options.UseAccelerate || typeof self.options.Domain === 'string' && self.options.Domain.includes('accelerate.');\n        var realApi = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n        fileParams.tracker = new Tracker({\n          Beacon: self.options.BeaconReporter,\n          clsReporter: self.options.ClsReporter,\n          bucket: fileParams.Bucket,\n          region: fileParams.Region,\n          apiName: 'uploadFiles',\n          realApi: realApi,\n          fileKey: fileParams.Key,\n          fileSize: FileSize,\n          accelerate: accelerate,\n          deepTracker: self.options.DeepTracker,\n          customId: self.options.CustomId,\n          delay: self.options.TrackerDelay\n        });\n      }\n\n      // 整理 option，用于返回给回调\n      util.each(fileParams, function (v, k) {\n        if (_typeof(v) !== 'object' && typeof v !== 'function') {\n          fileInfo[k] = v;\n        }\n      });\n\n      // 处理单个文件 TaskReady\n      var _onTaskReady = fileParams.onTaskReady;\n      var onTaskReady = function onTaskReady(tid) {\n        fileInfo.TaskId = tid;\n        _onTaskReady && _onTaskReady(tid);\n      };\n      fileParams.onTaskReady = onTaskReady;\n\n      // 处理单个文件进度\n      var PreAddSize = 0;\n      var _onProgress = fileParams.onProgress;\n      var onProgress = function onProgress(info) {\n        TotalFinish = TotalFinish - PreAddSize + info.loaded;\n        PreAddSize = info.loaded;\n        _onProgress && _onProgress(info);\n        onTotalProgress({\n          loaded: TotalFinish,\n          total: TotalSize\n        });\n      };\n      fileParams.onProgress = onProgress;\n\n      // 添加上传任务\n      var api = FileSize > SliceSize ? 'sliceUploadFile' : 'putObject';\n\n      // 处理单个文件完成\n      var _onFileFinish = fileParams.onFileFinish;\n      var onFileFinish = function onFileFinish(err, data) {\n        // 格式化上报参数并上报\n        fileParams.tracker && fileParams.tracker.report(err, data);\n        _onFileFinish && _onFileFinish(err, data);\n        onTotalFileFinish && onTotalFileFinish(err, data, fileInfo);\n      };\n      taskList.push({\n        api: api,\n        params: fileParams,\n        callback: onFileFinish\n      });\n    })();\n  });\n  self._addTasks(taskList);\n}\n\n// 分片复制文件\nfunction sliceCopyFile(params, callback) {\n  var ep = new EventProxy();\n  var self = this;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var CopySource = params.CopySource;\n  var m = util.getSourceParams.call(this, CopySource);\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n  var SourceBucket = m.Bucket;\n  var SourceRegion = m.Region;\n  var SourceKey = decodeURIComponent(m.Key);\n  var CopySliceSize = params.CopySliceSize === undefined ? self.options.CopySliceSize : params.CopySliceSize;\n  CopySliceSize = Math.max(0, CopySliceSize);\n  var ChunkSize = params.CopyChunkSize || this.options.CopyChunkSize;\n  var ChunkParallel = this.options.CopyChunkParallelLimit;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var ChunkCount = 0;\n  var FinishSize = 0;\n  var FileSize;\n  var onProgress;\n  var SourceResHeaders = {};\n  var SourceHeaders = {};\n  var TargetHeader = {};\n\n  // 分片复制完成，开始 multipartComplete 操作\n  ep.on('copy_slice_complete', function (UploadData) {\n    var metaHeaders = {};\n    util.each(params.Headers, function (val, k) {\n      if (k.toLowerCase().indexOf('x-cos-meta-') === 0) metaHeaders[k] = val;\n    });\n    var Parts = util.map(UploadData.PartList, function (item) {\n      return {\n        PartNumber: item.PartNumber,\n        ETag: item.ETag\n      };\n    });\n    // 完成上传的请求也做重试\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\n      self.multipartComplete({\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadData.UploadId,\n        Parts: Parts,\n        tracker: params.tracker,\n        calledBySdk: 'sliceCopyFile'\n      }, tryCallback);\n    }, function (err, data) {\n      session.removeUsing(UploadData.UploadId); // 标记 UploadId 没被使用了，因为复制没提供重试，所以只要出错，就是 UploadId 停用了。\n      if (err) {\n        onProgress(null, true);\n        return callback(err);\n      }\n      session.removeUploadId(UploadData.UploadId);\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      callback(null, data);\n    });\n  });\n  ep.on('get_copy_data_finish', function (UploadData) {\n    // 处理 UploadId 缓存\n    var uuid = session.getCopyFileId(CopySource, SourceResHeaders, ChunkSize, Bucket, Key);\n    uuid && session.saveUploadId(uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); // 缓存 UploadId\n    session.setUsing(UploadData.UploadId); // 标记 UploadId 为正在使用\n\n    var needCopySlices = util.filter(UploadData.PartList, function (SliceItem) {\n      if (SliceItem['Uploaded']) {\n        FinishSize += SliceItem['PartNumber'] >= ChunkCount ? FileSize % ChunkSize || ChunkSize : ChunkSize;\n      }\n      return !SliceItem['Uploaded'];\n    });\n    Async.eachLimit(needCopySlices, ChunkParallel, function (SliceItem, asyncCallback) {\n      var PartNumber = SliceItem.PartNumber;\n      var CopySourceRange = SliceItem.CopySourceRange;\n      var currentSize = SliceItem.end - SliceItem.start;\n      Async.retry(ChunkRetryTimes, function (tryCallback) {\n        copySliceItem.call(self, {\n          Bucket: Bucket,\n          Region: Region,\n          Key: Key,\n          CopySource: CopySource,\n          UploadId: UploadData.UploadId,\n          PartNumber: PartNumber,\n          CopySourceRange: CopySourceRange,\n          tracker: params.tracker,\n          calledBySdk: 'sliceCopyFile'\n        }, tryCallback);\n      }, function (err, data) {\n        if (err) return asyncCallback(err);\n        FinishSize += currentSize;\n        onProgress({\n          loaded: FinishSize,\n          total: FileSize\n        });\n        SliceItem.ETag = data.ETag;\n        asyncCallback(err || null, data);\n      });\n    }, function (err) {\n      if (err) {\n        session.removeUsing(UploadData.UploadId); // 标记 UploadId 没被使用了，因为复制没提供重试，所以只要出错，就是 UploadId 停用了。\n        onProgress(null, true);\n        return callback(err);\n      }\n      ep.emit('copy_slice_complete', UploadData);\n    });\n  });\n  ep.on('get_chunk_size_finish', function () {\n    var createNewUploadId = function createNewUploadId() {\n      self.multipartInit({\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        Headers: TargetHeader,\n        tracker: params.tracker,\n        calledBySdk: 'sliceCopyFile'\n      }, function (err, data) {\n        if (err) return callback(err);\n        params.UploadId = data.UploadId;\n        ep.emit('get_copy_data_finish', {\n          UploadId: params.UploadId,\n          PartList: params.PartList\n        });\n      });\n    };\n\n    // 在本地找可用的 UploadId\n    var uuid = session.getCopyFileId(CopySource, SourceResHeaders, ChunkSize, Bucket, Key);\n    var LocalUploadIdList = session.getUploadIdList(uuid);\n    if (!uuid || !LocalUploadIdList) return createNewUploadId();\n    var _next5 = function next(index) {\n      // 如果本地找不到可用 UploadId，再一个个遍历校验远端\n      if (index >= LocalUploadIdList.length) return createNewUploadId();\n      var UploadId = LocalUploadIdList[index];\n      // 如果正在被使用，跳过\n      if (session.using[UploadId]) return _next5(index + 1);\n      // 判断 UploadId 是否存在线上\n      wholeMultipartListPart.call(self, {\n        Bucket: Bucket,\n        Region: Region,\n        Key: Key,\n        UploadId: UploadId,\n        tracker: params.tracker,\n        calledBySdk: 'sliceCopyFile'\n      }, function (err, PartListData) {\n        if (err) {\n          // 如果 UploadId 获取会出错，跳过并删除\n          session.removeUploadId(UploadId);\n          _next5(index + 1);\n        } else {\n          // 如果异步回来 UploadId 已经被用了，也跳过\n          if (session.using[UploadId]) return _next5(index + 1);\n          // 找到可用 UploadId\n          var finishETagMap = {};\n          var offset = 0;\n          util.each(PartListData.PartList, function (PartItem) {\n            var size = parseInt(PartItem.Size);\n            var end = offset + size - 1;\n            finishETagMap[PartItem.PartNumber + '|' + offset + '|' + end] = PartItem.ETag;\n            offset += size;\n          });\n          util.each(params.PartList, function (PartItem) {\n            var ETag = finishETagMap[PartItem.PartNumber + '|' + PartItem.start + '|' + PartItem.end];\n            if (ETag) {\n              PartItem.ETag = ETag;\n              PartItem.Uploaded = true;\n            }\n          });\n          ep.emit('get_copy_data_finish', {\n            UploadId: UploadId,\n            PartList: params.PartList\n          });\n        }\n      });\n    };\n    _next5(0);\n  });\n  ep.on('get_file_size_finish', function () {\n    // 控制分片大小\n    (function () {\n      var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\n      var AutoChunkSize = 1024 * 1024;\n      for (var i = 0; i < SIZE.length; i++) {\n        AutoChunkSize = SIZE[i] * 1024 * 1024;\n        if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\n      }\n      params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\n      ChunkCount = Math.ceil(FileSize / ChunkSize);\n      var list = [];\n      for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\n        var start = (partNumber - 1) * ChunkSize;\n        var end = partNumber * ChunkSize < FileSize ? partNumber * ChunkSize - 1 : FileSize - 1;\n        var item = {\n          PartNumber: partNumber,\n          start: start,\n          end: end,\n          CopySourceRange: 'bytes=' + start + '-' + end\n        };\n        list.push(item);\n      }\n      params.PartList = list;\n    })();\n    if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\n      TargetHeader = params.Headers;\n    } else {\n      TargetHeader = SourceHeaders;\n    }\n    TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\n    TargetHeader = util.clearKey(TargetHeader);\n    /**\n     * 对于归档存储的对象，如果未恢复副本，则不允许 Copy\n     */\n    if (SourceHeaders['x-cos-storage-class'] === 'ARCHIVE' || SourceHeaders['x-cos-storage-class'] === 'DEEP_ARCHIVE') {\n      var restoreHeader = SourceHeaders['x-cos-restore'];\n      if (!restoreHeader || restoreHeader === 'ongoing-request=\"true\"') {\n        callback(util.error(new Error('Unrestored archive object is not allowed to be copied')));\n        return;\n      }\n    }\n    /**\n     * 去除一些无用的头部，规避 multipartInit 出错\n     * 这些头部通常是在 putObjectCopy 时才使用\n     */\n    delete TargetHeader['x-cos-copy-source'];\n    delete TargetHeader['x-cos-metadata-directive'];\n    delete TargetHeader['x-cos-copy-source-If-Modified-Since'];\n    delete TargetHeader['x-cos-copy-source-If-Unmodified-Since'];\n    delete TargetHeader['x-cos-copy-source-If-Match'];\n    delete TargetHeader['x-cos-copy-source-If-None-Match'];\n    ep.emit('get_chunk_size_finish');\n  });\n\n  // 获取远端复制源文件的大小\n  self.headObject({\n    Bucket: SourceBucket,\n    Region: SourceRegion,\n    Key: SourceKey,\n    tracker: params.tracker,\n    calledBySdk: 'sliceCopyFile'\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 404) {\n        callback(util.error(err, {\n          ErrorStatus: SourceKey + ' Not Exist'\n        }));\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    FileSize = params.FileSize = data.headers['content-length'];\n    if (FileSize === undefined || !FileSize) {\n      callback(util.error(new Error('get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.（ 获取Content-Length失败，请在CORS ExposeHeader设置中添加Content-Length，请参考文档：https://cloud.tencent.com/document/product/436/13318 ）')));\n      return;\n    }\n    params.tracker && params.tracker.setParams({\n      httpSize: FileSize\n    });\n    onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n\n    // 开始上传\n    if (FileSize <= CopySliceSize) {\n      if (!params.Headers['x-cos-metadata-directive']) {\n        params.Headers['x-cos-metadata-directive'] = 'Copy';\n      }\n      self.putObjectCopy(Object.assign(params, {\n        calledBySdk: 'sliceCopyFile'\n      }), function (err, data) {\n        if (err) {\n          onProgress(null, true);\n          return callback(err);\n        }\n        onProgress({\n          loaded: FileSize,\n          total: FileSize\n        }, true);\n        callback(err, data);\n      });\n    } else {\n      var resHeaders = data.headers;\n      SourceResHeaders = resHeaders;\n      SourceHeaders = {\n        'Cache-Control': resHeaders['cache-control'],\n        'Content-Disposition': resHeaders['content-disposition'],\n        'Content-Encoding': resHeaders['content-encoding'],\n        'Content-Type': resHeaders['content-type'],\n        Expires: resHeaders['expires'],\n        'x-cos-storage-class': resHeaders['x-cos-storage-class']\n      };\n      util.each(resHeaders, function (v, k) {\n        var metaPrefix = 'x-cos-meta-';\n        if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\n          SourceHeaders[k] = v;\n        }\n      });\n      ep.emit('get_file_size_finish');\n    }\n  });\n}\n\n// 复制指定分片\nfunction copySliceItem(params, callback) {\n  var TaskId = params.TaskId;\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var CopySource = params.CopySource;\n  var UploadId = params.UploadId;\n  var PartNumber = params.PartNumber * 1;\n  var CopySourceRange = params.CopySourceRange;\n  var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\n  var self = this;\n  Async.retry(ChunkRetryTimes, function (tryCallback) {\n    self.uploadPartCopy({\n      TaskId: TaskId,\n      Bucket: Bucket,\n      Region: Region,\n      Key: Key,\n      CopySource: CopySource,\n      UploadId: UploadId,\n      PartNumber: PartNumber,\n      CopySourceRange: CopySourceRange,\n      tracker: params.tracker,\n      calledBySdk: params.calledBySdk\n    }, function (err, data) {\n      tryCallback(err || null, data);\n    });\n  }, function (err, data) {\n    return callback(err, data);\n  });\n}\nvar API_MAP = {\n  sliceUploadFile: sliceUploadFile,\n  abortUploadTask: abortUploadTask,\n  uploadFile: uploadFile,\n  uploadFiles: uploadFiles,\n  sliceCopyFile: sliceCopyFile\n};\nmodule.exports.init = function (COS, task) {\n  task.transferToTaskMethod(API_MAP, 'sliceUploadFile');\n  util.each(API_MAP, function (fn, apiName) {\n    COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/async.js\":\n/*!**********************!*\\\n  !*** ./src/async.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar eachLimit = function eachLimit(arr, limit, iterator, callback) {\n  callback = callback || function () {};\n  if (!arr.length || limit <= 0) {\n    return callback();\n  }\n  var completed = 0;\n  var started = 0;\n  var running = 0;\n  (function replenish() {\n    if (completed >= arr.length) {\n      return callback();\n    }\n    while (running < limit && started < arr.length) {\n      started += 1;\n      running += 1;\n      iterator(arr[started - 1], function (err) {\n        if (err) {\n          callback(err);\n          callback = function callback() {};\n        } else {\n          completed += 1;\n          running -= 1;\n          if (completed >= arr.length) {\n            callback();\n          } else {\n            replenish();\n          }\n        }\n      });\n    }\n  })();\n};\nvar retry = function retry(times, iterator, callback) {\n  var _next = function next(index) {\n    iterator(function (err, data) {\n      if (err && index < times) {\n        _next(index + 1);\n      } else {\n        callback(err, data);\n      }\n    });\n  };\n  if (times < 1) {\n    callback();\n  } else {\n    _next(1);\n  }\n};\nvar async = {\n  eachLimit: eachLimit,\n  retry: retry\n};\nmodule.exports = async;\n\n/***/ }),\n\n/***/ \"./src/base.js\":\n/*!*********************!*\\\n  !*** ./src/base.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _defineProperty = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar REQUEST = __webpack_require__(/*! ../lib/request */ \"./lib/request.js\");\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\n// Bucket 相关\n\n/**\n * 获取用户的 bucket 列表\n * @param  {Object}  params         回调函数，必须，下面为参数列表\n * 无特殊参数\n * @param  {Function}  callback     回调函数，必须\n */\nfunction getService(params, callback) {\n  var protocol = this.options.Protocol || (util.isBrowser && (typeof location === \"undefined\" ? \"undefined\" : _typeof(location)) === 'object' && location.protocol === 'http:' ? 'http:' : 'https:');\n  var domain = this.options.ServiceDomain;\n  var appId = params.AppId || this.options.appId;\n  var region = params.Region;\n  if (domain) {\n    domain = domain.replace(/\\{\\{AppId\\}\\}/gi, appId || '').replace(/\\{\\{Region\\}\\}/gi, region || '').replace(/\\{\\{.*?\\}\\}/gi, '');\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n      domain = protocol + '//' + domain;\n    }\n    if (domain.slice(-1) === '/') {\n      domain = domain.slice(0, -1);\n    }\n  } else if (region) {\n    domain = protocol + '//cos.' + region + '.myqcloud.com';\n  } else {\n    domain = protocol + '//service.cos.myqcloud.com';\n  }\n  var SignHost = '';\n  var standardHost = region ? 'cos.' + region + '.myqcloud.com' : 'service.cos.myqcloud.com';\n  var urlHost = domain.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n  if (standardHost === urlHost) SignHost = standardHost;\n  submitRequest.call(this, {\n    Action: 'name/cos:GetService',\n    url: domain,\n    method: 'GET',\n    headers: params.Headers,\n    SignHost: SignHost,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var buckets = data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets && data.ListAllMyBucketsResult.Buckets.Bucket || [];\n    buckets = util.isArray(buckets) ? buckets : [buckets];\n    var owner = data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner || {};\n    callback(null, {\n      Buckets: buckets,\n      Owner: owner,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 创建 Bucket，并初始化访问权限\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {String}  data.Location             操作地址\n */\nfunction putBucket(params, callback) {\n  var self = this;\n  var xml = '';\n  if (params['BucketAZConfig']) {\n    var CreateBucketConfiguration = {\n      BucketAZConfig: params.BucketAZConfig\n    };\n    xml = util.json2xml({\n      CreateBucketConfiguration: CreateBucketConfiguration\n    });\n  }\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucket',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    body: xml,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var url = getUrl({\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      isLocation: true\n    });\n    callback(null, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 查看是否存在该Bucket，是否有权限访问\n * @param  {Object}  params                     参数对象，必须\n *     @param  {String}  params.Bucket          Bucket名称，必须\n *     @param  {String}  params.Region          地域名称，必须\n * @param  {Function}  callback                 回调函数，必须\n * @return  {Object}  err                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                      返回的数据\n *     @return  {Boolean}  data.BucketExist     Bucket是否存在\n *     @return  {Boolean}  data.BucketAuth      是否有 Bucket 的访问权限\n */\nfunction headBucket(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:HeadBucket',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    method: 'HEAD',\n    tracker: params.tracker\n  }, callback);\n}\n\n/**\n * 获取 Bucket 下的 object 列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.Prefix              前缀匹配，用来规定返回的文件前缀地址，非必须\n *     @param  {String}  params.Delimiter           定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，非必须\n *     @param  {String}  params.Marker              默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\n *     @param  {String}  params.MaxKeys             单次返回最大的条目数量，默认1000，非必须\n *     @param  {String}  params.EncodingType        规定返回值的编码方式，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.ListBucketResult     返回的 object 列表信息\n */\nfunction getBucket(params, callback) {\n  var reqParams = {};\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['marker'] = params['Marker'];\n  reqParams['max-keys'] = params['MaxKeys'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucket',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListBucketResult = data.ListBucketResult || {};\n    var Contents = ListBucketResult.Contents || [];\n    var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\n    Contents = util.isArray(Contents) ? Contents : [Contents];\n    CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\n    var result = util.clone(ListBucketResult);\n    util.extend(result, {\n      Contents: Contents,\n      CommonPrefixes: CommonPrefixes,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\n/**\n * 删除 Bucket\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n * @param  {Function}  callback             回调函数，必须\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  返回的数据\n *     @return  {String}  data.Location     操作地址\n */\nfunction deleteBucket(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucket',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    method: 'DELETE',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 设置 Bucket 的 权限列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.ACL                 用户自定义文件权限，可以设置：private，public-read；默认值：private，非必须\n *     @param  {String}  params.GrantRead           赋予被授权者读的权限，格式x-cos-grant-read: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantWrite          赋予被授权者写的权限，格式x-cos-grant-write: uin=\" \",uin=\" \"，非必须\n *     @param  {String}  params.GrantFullControl    赋予被授权者读写权限，格式x-cos-grant-full-control: uin=\" \",uin=\" \"，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n */\nfunction putBucketAcl(params, callback) {\n  var headers = params.Headers;\n  var xml = '';\n  if (params['AccessControlPolicy']) {\n    var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n    var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n    Grants = util.isArray(Grants) ? Grants : [Grants];\n    delete AccessControlPolicy.Grant;\n    delete AccessControlPolicy.Grants;\n    AccessControlPolicy.AccessControlList = {\n      Grant: Grants\n    };\n    xml = util.json2xml({\n      AccessControlPolicy: AccessControlPolicy\n    });\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.b64(util.md5(xml));\n  }\n\n  // Grant Header 去重\n  util.each(headers, function (val, key) {\n    if (key.indexOf('x-cos-grant-') === 0) {\n      headers[key] = uniqGrant(headers[key]);\n    }\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketACL',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: headers,\n    action: 'acl',\n    body: xml,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的 权限列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.AccessControlPolicy  访问权限信息\n */\nfunction getBucketAcl(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketACL',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'acl',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var AccessControlPolicy = data.AccessControlPolicy || {};\n    var Owner = AccessControlPolicy.Owner || {};\n    var Grant = AccessControlPolicy.AccessControlList.Grant || [];\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n    var result = decodeAcl(AccessControlPolicy);\n    if (data.headers && data.headers['x-cos-acl']) {\n      result.ACL = data.headers['x-cos-acl'];\n    }\n    result = util.extend(result, {\n      Owner: Owner,\n      Grants: Grant,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\n/**\n * 设置 Bucket 的 跨域设置\n * @param  {Object}  params                             参数对象，必须\n *     @param  {String}  params.Bucket                  Bucket名称，必须\n *     @param  {String}  params.Region                  地域名称，必须\n *     @param  {Object}  params.CORSConfiguration       相关的跨域设置，必须\n * @param  {Array}  params.CORSConfiguration.CORSRules  对应的跨域规则\n * @param  {Function}  callback                         回调函数，必须\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              返回的数据\n */\nfunction putBucketCors(params, callback) {\n  var CORSConfiguration = params['CORSConfiguration'] || {};\n  var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\n  CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n  util.each(CORSRules, function (rule) {\n    util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n      var sKey = key + 's';\n      var val = rule[sKey] || rule[key] || [];\n      delete rule[sKey];\n      rule[key] = util.isArray(val) ? val : [val];\n    });\n  });\n  var Conf = {\n    CORSRule: CORSRules\n  };\n  if (params.ResponseVary) Conf.ResponseVary = params.ResponseVary;\n  var xml = util.json2xml({\n    CORSConfiguration: Conf\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketCORS',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'cors',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的 跨域设置\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.CORSRules            Bucket的跨域设置\n */\nfunction getBucketCors(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketCORS',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'cors',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\n        var result = {\n          CORSRules: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    var CORSConfiguration = data.CORSConfiguration || {};\n    var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\n    var ResponseVary = CORSConfiguration.ResponseVary;\n    util.each(CORSRules, function (rule) {\n      util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\n        var sKey = key + 's';\n        var val = rule[sKey] || rule[key] || [];\n        delete rule[key];\n        rule[sKey] = util.isArray(val) ? val : [val];\n      });\n    });\n    callback(null, {\n      CORSRules: CORSRules,\n      ResponseVary: ResponseVary,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 删除 Bucket 的 跨域设置\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n * @param  {Function}  callback             回调函数，必须\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  返回的数据\n */\nfunction deleteBucketCors(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketCORS',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'cors',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode || err.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的 地域信息\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据，包含地域信息 LocationConstraint\n */\nfunction getBucketLocation(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLocation',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'location',\n    tracker: params.tracker\n  }, callback);\n}\nfunction putBucketPolicy(params, callback) {\n  var Policy = params['Policy'];\n  try {\n    if (typeof Policy === 'string') Policy = JSON.parse(Policy);\n  } catch (e) {}\n  if (!Policy || typeof Policy === 'string') return callback(util.error(new Error('Policy format error')));\n  var PolicyStr = JSON.stringify(Policy);\n  if (!Policy.version) Policy.version = '2.0';\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/json';\n  headers['Content-MD5'] = util.b64(util.md5(PolicyStr));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketPolicy',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'policy',\n    body: PolicyStr,\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的读取权限策略\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketPolicy(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketPolicy',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'policy',\n    rawBody: true,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 403) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Access Denied'\n        }));\n      }\n      if (err.statusCode && err.statusCode === 405) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Method Not Allowed'\n        }));\n      }\n      if (err.statusCode && err.statusCode === 404) {\n        return callback(util.error(err, {\n          ErrorStatus: 'Policy Not Found'\n        }));\n      }\n      return callback(err);\n    }\n    var Policy = {};\n    try {\n      Policy = JSON.parse(data.body);\n    } catch (e) {}\n    callback(null, {\n      Policy: Policy,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 删除 Bucket 的 跨域设置\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n * @param  {Function}  callback             回调函数，必须\n * @return  {Object}  err                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                  返回的数据\n */\nfunction deleteBucketPolicy(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketPolicy',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'policy',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode || err.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 设置 Bucket 的标签\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {Array}   params.TagSet  标签设置，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction putBucketTagging(params, callback) {\n  var Tagging = params['Tagging'] || {};\n  var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n  Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n  var xml = util.json2xml({\n    Tagging: {\n      TagSet: {\n        Tag: Tags\n      }\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketTagging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'tagging',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketTagging',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'NoSuchTagSet')) {\n        var result = {\n          Tags: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    var Tags = [];\n    try {\n      Tags = data.Tagging.TagSet.Tag || [];\n    } catch (e) {}\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    callback(null, {\n      Tags: Tags,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 删除 Bucket 的 标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回的数据\n */\nfunction deleteBucketTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketTagging',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction putBucketLifecycle(params, callback) {\n  var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\n  var Rules = LifecycleConfiguration.Rules || params.Rules || [];\n  Rules = util.clone(Rules);\n  var xml = util.json2xml({\n    LifecycleConfiguration: {\n      Rule: Rules\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketLifecycle',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'lifecycle',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction getBucketLifecycle(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLifecycle',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'lifecycle',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\n        var result = {\n          Rules: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    var Rules = [];\n    try {\n      Rules = data.LifecycleConfiguration.Rule || [];\n    } catch (e) {}\n    Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\n    callback(null, {\n      Rules: Rules,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction deleteBucketLifecycle(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketLifecycle',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'lifecycle',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction putBucketVersioning(params, callback) {\n  if (!params['VersioningConfiguration']) {\n    callback(util.error(new Error('missing param VersioningConfiguration')));\n    return;\n  }\n  var VersioningConfiguration = params['VersioningConfiguration'] || {};\n  var xml = util.json2xml({\n    VersioningConfiguration: VersioningConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketVersioning',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'versioning',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction getBucketVersioning(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketVersioning',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'versioning',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (!err) {\n      !data.VersioningConfiguration && (data.VersioningConfiguration = {});\n    }\n    callback(err, data);\n  });\n}\nfunction putBucketReplication(params, callback) {\n  var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\n  var xml = util.json2xml({\n    ReplicationConfiguration: ReplicationConfiguration\n  });\n  xml = xml.replace(/<(\\/?)Rules>/gi, '<$1Rule>');\n  xml = xml.replace(/<(\\/?)Tags>/gi, '<$1Tag>');\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketReplication',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'replication',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction getBucketReplication(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketReplication',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'replication',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\n        var result = {\n          ReplicationConfiguration: {\n            Rules: []\n          },\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\n    if (data.ReplicationConfiguration.Rule) {\n      data.ReplicationConfiguration.Rules = util.makeArray(data.ReplicationConfiguration.Rule);\n      delete data.ReplicationConfiguration.Rule;\n    }\n    callback(err, data);\n  });\n}\nfunction deleteBucketReplication(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketReplication',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'replication',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 设置 Bucket 静态网站配置信息\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {Object}  params.WebsiteConfiguration                        地域名称，必须\n *         @param  {Object}   WebsiteConfiguration.IndexDocument            索引文档，必须\n *         @param  {Object}   WebsiteConfiguration.ErrorDocument            错误文档，非必须\n *         @param  {Object}   WebsiteConfiguration.RedirectAllRequestsTo    重定向所有请求，非必须\n *         @param  {Array}   params.RoutingRules                            重定向规则，非必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\nfunction putBucketWebsite(params, callback) {\n  if (!params['WebsiteConfiguration']) {\n    callback(util.error(new Error('missing param WebsiteConfiguration')));\n    return;\n  }\n  var WebsiteConfiguration = util.clone(params['WebsiteConfiguration'] || {});\n  var RoutingRules = WebsiteConfiguration['RoutingRules'] || WebsiteConfiguration['RoutingRule'] || [];\n  RoutingRules = util.isArray(RoutingRules) ? RoutingRules : [RoutingRules];\n  delete WebsiteConfiguration.RoutingRule;\n  delete WebsiteConfiguration.RoutingRules;\n  if (RoutingRules.length) WebsiteConfiguration.RoutingRules = {\n    RoutingRule: RoutingRules\n  };\n  var xml = util.json2xml({\n    WebsiteConfiguration: WebsiteConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketWebsite',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'website',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的静态网站配置信息\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketWebsite(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketWebsite',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'website',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error.Code === 'NoSuchWebsiteConfiguration') {\n        var result = {\n          WebsiteConfiguration: {},\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    var WebsiteConfiguration = data.WebsiteConfiguration || {};\n    if (WebsiteConfiguration['RoutingRules']) {\n      var RoutingRules = util.clone(WebsiteConfiguration['RoutingRules'].RoutingRule || []);\n      RoutingRules = util.makeArray(RoutingRules);\n      WebsiteConfiguration.RoutingRules = RoutingRules;\n    }\n    callback(null, {\n      WebsiteConfiguration: WebsiteConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 删除 Bucket 的静态网站配置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction deleteBucketWebsite(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketWebsite',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'website',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 设置 Bucket 的防盗链白名单或者黑名单\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {Object}  params.RefererConfiguration                        地域名称，必须\n *         @param  {String}   RefererConfiguration.Status                   是否开启防盗链，枚举值：Enabled、Disabled\n *         @param  {String}   RefererConfiguration.RefererType              防盗链类型，枚举值：Black-List、White-List，必须\n *         @param  {Array}   RefererConfiguration.DomianList.Domain         生效域名，必须\n *         @param  {String}   RefererConfiguration.EmptyReferConfiguration  ，非必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\nfunction putBucketReferer(params, callback) {\n  if (!params['RefererConfiguration']) {\n    callback(util.error(new Error('missing param RefererConfiguration')));\n    return;\n  }\n  var RefererConfiguration = util.clone(params['RefererConfiguration'] || {});\n  var DomainList = RefererConfiguration['DomainList'] || {};\n  var Domains = DomainList['Domains'] || DomainList['Domain'] || [];\n  Domains = util.isArray(Domains) ? Domains : [Domains];\n  if (Domains.length) RefererConfiguration.DomainList = {\n    Domain: Domains\n  };\n  var xml = util.json2xml({\n    RefererConfiguration: RefererConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketReferer',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'referer',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的防盗链白名单或者黑名单\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketReferer(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketReferer',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'referer',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error.Code === 'NoSuchRefererConfiguration') {\n        var result = {\n          WebsiteConfiguration: {},\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    var RefererConfiguration = data.RefererConfiguration || {};\n    if (RefererConfiguration['DomainList']) {\n      var Domains = util.makeArray(RefererConfiguration['DomainList'].Domain || []);\n      RefererConfiguration.DomainList = {\n        Domains: Domains\n      };\n    }\n    callback(null, {\n      RefererConfiguration: RefererConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 设置 Bucket 自定义域名\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\nfunction putBucketDomain(params, callback) {\n  var DomainConfiguration = params['DomainConfiguration'] || {};\n  var DomainRule = DomainConfiguration.DomainRule || params.DomainRule || [];\n  DomainRule = util.clone(DomainRule);\n  var xml = util.json2xml({\n    DomainConfiguration: {\n      DomainRule: DomainRule\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketDomain',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'domain',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的自定义域名\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketDomain(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketDomain',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'domain',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var DomainRule = [];\n    try {\n      DomainRule = data.DomainConfiguration.DomainRule || [];\n    } catch (e) {}\n    DomainRule = util.clone(util.isArray(DomainRule) ? DomainRule : [DomainRule]);\n    callback(null, {\n      DomainRule: DomainRule,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 删除 Bucket 自定义域名\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction deleteBucketDomain(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketDomain',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'domain',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 设置 Bucket 的回源\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\nfunction putBucketOrigin(params, callback) {\n  var OriginConfiguration = params['OriginConfiguration'] || {};\n  var OriginRule = OriginConfiguration.OriginRule || params.OriginRule || [];\n  OriginRule = util.clone(OriginRule);\n  var xml = util.json2xml({\n    OriginConfiguration: {\n      OriginRule: OriginRule\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketOrigin',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'origin',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的回源\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketOrigin(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketOrigin',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'origin',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var OriginRule = [];\n    try {\n      OriginRule = data.OriginConfiguration.OriginRule || [];\n    } catch (e) {}\n    OriginRule = util.clone(util.isArray(OriginRule) ? OriginRule : [OriginRule]);\n    callback(null, {\n      OriginRule: OriginRule,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 删除 Bucket 的回源\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction deleteBucketOrigin(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketOrigin',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'origin',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 设置 Bucket 的日志记录\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {(Object|String)}  params.BucketLoggingStatus                         说明日志记录配置的状态，如果无子节点信息则意为关闭日志记录，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\nfunction putBucketLogging(params, callback) {\n  var xml = util.json2xml({\n    BucketLoggingStatus: params['BucketLoggingStatus'] || ''\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketLogging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'logging',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的日志记录\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketLogging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketLogging',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'logging',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      BucketLoggingStatus: data.BucketLoggingStatus,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 创建/编辑 Bucket 的清单任务\n * @param  {Object}  params                                                 参数对象，必须\n *     @param  {String}  params.Bucket                                      Bucket名称，必须\n *     @param  {String}  params.Region                                      地域名称，必须\n *     @param  {String}  params.Id                                          清单任务的名称，必须\n *     @param  {Object}  params.InventoryConfiguration                      包含清单的配置参数，必须\n * @param  {Function}  callback                                             回调函数，必须\n * @return  {Object}  err                                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                                  返回数据\n */\nfunction submitBucketInventory(method, params, callback) {\n  var InventoryConfiguration = util.clone(params['InventoryConfiguration']);\n  if (InventoryConfiguration.OptionalFields) {\n    var Field = InventoryConfiguration.OptionalFields || [];\n    InventoryConfiguration.OptionalFields = {\n      Field: Field\n    };\n  }\n  if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n    var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n    if (Object.keys(Encryption).indexOf('SSECOS') > -1) {\n      Encryption['SSE-COS'] = Encryption['SSECOS'];\n      delete Encryption['SSECOS'];\n    }\n  }\n  var xml = util.json2xml({\n    InventoryConfiguration: InventoryConfiguration\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  var action = method === 'PUT' ? 'name/cos:PutBucketInventory' : 'name/cos:PostBucketInventory';\n  submitRequest.call(this, {\n    Action: action,\n    method: method,\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    },\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 创建一个清单任务\n */\nfunction putBucketInventory(params, callback) {\n  return submitBucketInventory.call(this, 'PUT', params, callback);\n}\n\n/**\n * 创建一个一次性清单任务 会立即执行\n */\nfunction postBucketInventory(params, callback) {\n  return submitBucketInventory.call(this, 'POST', params, callback);\n}\n\n/**\n * 获取 Bucket 的清单任务信息\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Id      清单任务的名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction getBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketInventory',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    },\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var InventoryConfiguration = data['InventoryConfiguration'];\n    if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n      var Field = InventoryConfiguration.OptionalFields.Field;\n      if (!util.isArray(Field)) {\n        Field = [Field];\n      }\n      InventoryConfiguration.OptionalFields = Field;\n    }\n    if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n      var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n      if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n        Encryption['SSECOS'] = Encryption['SSE-COS'];\n        delete Encryption['SSE-COS'];\n      }\n    }\n    callback(null, {\n      InventoryConfiguration: InventoryConfiguration,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Bucket 的清单任务信息\n * @param  {Object}  params                             参数对象，必须\n *     @param  {String}  params.Bucket                  Bucket名称，必须\n *     @param  {String}  params.Region                  地域名称，必须\n *     @param  {String}  params.ContinuationToken       当 COS 响应体中 IsTruncated 为 true，且 NextContinuationToken 节点中存在参数值时，您可以将这个参数作为 continuation-token 参数值，以获取下一页的清单任务信息，非必须\n * @param  {Function}  callback                         回调函数，必须\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              返回数据\n */\nfunction listBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:ListBucketInventory',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      'continuation-token': params['ContinuationToken']\n    },\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListInventoryConfigurationResult = data['ListInventoryConfigurationResult'];\n    var InventoryConfigurations = ListInventoryConfigurationResult.InventoryConfiguration || [];\n    InventoryConfigurations = util.isArray(InventoryConfigurations) ? InventoryConfigurations : [InventoryConfigurations];\n    delete ListInventoryConfigurationResult['InventoryConfiguration'];\n    util.each(InventoryConfigurations, function (InventoryConfiguration) {\n      if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\n        var Field = InventoryConfiguration.OptionalFields.Field;\n        if (!util.isArray(Field)) {\n          Field = [Field];\n        }\n        InventoryConfiguration.OptionalFields = Field;\n      }\n      if (InventoryConfiguration.Destination && InventoryConfiguration.Destination.COSBucketDestination && InventoryConfiguration.Destination.COSBucketDestination.Encryption) {\n        var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\n        if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\n          Encryption['SSECOS'] = Encryption['SSE-COS'];\n          delete Encryption['SSE-COS'];\n        }\n      }\n    });\n    ListInventoryConfigurationResult.InventoryConfigurations = InventoryConfigurations;\n    util.extend(ListInventoryConfigurationResult, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, ListInventoryConfigurationResult);\n  });\n}\n\n/**\n * 删除 Bucket 的清单任务\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Id      清单任务的名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回数据\n */\nfunction deleteBucketInventory(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketInventory',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'inventory',\n    qs: {\n      id: params['Id']\n    },\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/* 全球加速 */\nfunction putBucketAccelerate(params, callback) {\n  if (!params['AccelerateConfiguration']) {\n    callback(util.error(new Error('missing param AccelerateConfiguration')));\n    return;\n  }\n  var configuration = {\n    AccelerateConfiguration: params.AccelerateConfiguration || {}\n  };\n  var xml = util.json2xml(configuration);\n  var headers = {};\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketAccelerate',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'accelerate',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction getBucketAccelerate(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketAccelerate',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'accelerate',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (!err) {\n      !data.AccelerateConfiguration && (data.AccelerateConfiguration = {});\n    }\n    callback(err, data);\n  });\n}\nfunction putBucketEncryption(params, callback) {\n  var conf = params.ServerSideEncryptionConfiguration || {};\n  var Rules = conf.Rule || conf.Rules || [];\n  var xml = util.json2xml({\n    ServerSideEncryptionConfiguration: {\n      Rule: Rules\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutBucketEncryption',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'encryption',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\nfunction getBucketEncryption(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketEncryption',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'encryption',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.code === 'NoSuchEncryptionConfiguration') {\n        var result = {\n          EncryptionConfiguration: {\n            Rules: []\n          },\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    var Rules = util.makeArray(data.EncryptionConfiguration && data.EncryptionConfiguration.Rule || []);\n    data.EncryptionConfiguration = {\n      Rules: Rules\n    };\n    callback(err, data);\n  });\n}\nfunction deleteBucketEncryption(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteBucketReplication',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'encryption',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n// Object 相关\n\n/**\n * 取回对应Object的元数据，Head的权限与Get的权限一致\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.Key                 文件名称，必须\n *     @param  {String}  params.IfModifiedSince     当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          为指定 object 的元数据，如果设置了 IfModifiedSince ，且文件未修改，则返回一个对象，NotModified 属性为 true\n *     @return  {Boolean}  data.NotModified         是否在 IfModifiedSince 时间点之后未修改该 object，则为 true\n */\nfunction headObject(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:HeadObject',\n    method: 'HEAD',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    headers: params.Headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      var statusCode = err.statusCode;\n      if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n        return callback(null, {\n          NotModified: true,\n          statusCode: statusCode\n        });\n      }\n      return callback(err);\n    }\n    data.ETag = util.attr(data.headers, 'etag', '');\n    callback(null, data);\n  });\n}\nfunction listObjectVersions(params, callback) {\n  var reqParams = {};\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['key-marker'] = params['KeyMarker'];\n  reqParams['version-id-marker'] = params['VersionIdMarker'];\n  reqParams['max-keys'] = params['MaxKeys'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  submitRequest.call(this, {\n    Action: 'name/cos:GetBucketObjectVersions',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams,\n    action: 'versions',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var ListVersionsResult = data.ListVersionsResult || {};\n    var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\n    DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\n    var Versions = ListVersionsResult.Version || [];\n    Versions = util.isArray(Versions) ? Versions : [Versions];\n    var result = util.clone(ListVersionsResult);\n    delete result.DeleteMarker;\n    delete result.Version;\n    util.extend(result, {\n      DeleteMarkers: DeleteMarkers,\n      Versions: Versions,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\n/**\n * 下载 object\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Key                         文件名称，必须\n *     @param  {WriteStream}  params.Output                 文件写入流，非必须\n *     @param  {String}  params.IfModifiedSince             当Object在指定时间后被修改，则返回对应Object元信息，否则返回304，非必须\n *     @param  {String}  params.IfUnmodifiedSince           如果文件修改时间早于或等于指定时间，才返回文件内容。否则返回 412 (precondition failed)，非必须\n *     @param  {String}  params.IfMatch                     当 ETag 与指定的内容一致，才返回文件。否则返回 412 (precondition failed)，非必须\n *     @param  {String}  params.IfNoneMatch                 当 ETag 与指定的内容不一致，才返回文件。否则返回304 (not modified)，非必须\n *     @param  {String}  params.ResponseContentType         设置返回头部中的 Content-Type 参数，非必须\n *     @param  {String}  params.ResponseContentLanguage     设置返回头部中的 Content-Language 参数，非必须\n *     @param  {String}  params.ResponseExpires             设置返回头部中的 Content-Expires 参数，非必须\n *     @param  {String}  params.ResponseCacheControl        设置返回头部中的 Cache-Control 参数，非必须\n *     @param  {String}  params.ResponseContentDisposition  设置返回头部中的 Content-Disposition 参数，非必须\n *     @param  {String}  params.ResponseContentEncoding     设置返回头部中的 Content-Encoding 参数，非必须\n * @param  {Function}  callback                             回调函数，必须\n * @param  {Object}  err                                    请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                                   为对应的 object 数据，包括 body 和 headers\n */\nfunction getObject(params, callback) {\n  var self = this;\n  self.logger.info({\n    cate: 'PROCESS',\n    tag: 'download',\n    msg: \"[key=\".concat(params.Key, \"] getObject\\u5F00\\u59CB\")\n  });\n  if (this.options.ObjectKeySimplifyCheck) {\n    // getObject 的 Key 需要校验，避免调用成 getBucket\n    var formatKey = util.simplifyPath(params.Key);\n    if (formatKey === '/') {\n      callback(util.error(new Error('The Getobject Key is illegal')));\n      return;\n    }\n  }\n  var reqParams = params.Query || {};\n  var reqParamsStr = params.QueryString || '';\n  var onProgress = util.throttleOnProgress.call(this, 0, params.onProgress);\n  var tracker = params.tracker;\n  tracker && tracker.setParams({\n    signStartTime: new Date().getTime()\n  });\n  reqParams['response-content-type'] = params['ResponseContentType'];\n  reqParams['response-content-language'] = params['ResponseContentLanguage'];\n  reqParams['response-expires'] = params['ResponseExpires'];\n  reqParams['response-cache-control'] = params['ResponseCacheControl'];\n  reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\n  reqParams['response-content-encoding'] = params['ResponseContentEncoding'];\n\n  // 如果用户自己传入了 output\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObject',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    DataType: params.DataType,\n    headers: params.Headers,\n    qs: reqParams,\n    qsStr: reqParamsStr,\n    rawBody: true,\n    onDownloadProgress: onProgress,\n    tracker: tracker\n  }, function (err, data) {\n    onProgress(null, true);\n    if (err) {\n      var statusCode = err.statusCode;\n      if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\n        return callback(null, {\n          NotModified: true\n        });\n      }\n      return callback(err);\n    }\n    callback(null, {\n      Body: data.body,\n      ETag: util.attr(data.headers, 'etag', ''),\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    self.logger.info({\n      cate: 'PROCESS',\n      tag: 'download',\n      msg: \"[key=\".concat(params.Key, \"] getObject\\u7ED3\\u675F\")\n    });\n  });\n}\n\n/**\n * 上传 object\n * @param  {Object} params                                          参数对象，必须\n *     @param  {String}  params.Bucket                              Bucket名称，必须\n *     @param  {String}  params.Region                              地域名称，必须\n *     @param  {String}  params.Key                                 文件名称，必须\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串，必须\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n *     @param  {Function}  params.onProgress                        上传进度回调函数\n * @param  {Function}  callback                                     回调函数，必须\n * @return  {Object}  err                                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                          为对应的 object 数据\n *     @return  {String}  data.ETag                                 为对应上传文件的 ETag 值\n */\nfunction putObject(params, callback) {\n  var self = this;\n  var FileSize = params.ContentLength;\n  var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\n  self.logger.info({\n    cate: 'PROCESS',\n    tag: 'upload',\n    msg: \"[key=\".concat(params.Key, \"] putObject\\u5F00\\u59CB\")\n  });\n\n  // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) {\n    headers['Content-Type'] = params.Body && params.Body.type || '';\n  }\n  var needCalcMd5 = params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5 || self.options.UploadCheckContentMd5;\n  var tracker = params.tracker;\n  needCalcMd5 && tracker && tracker.setParams({\n    md5StartTime: new Date().getTime()\n  });\n  needCalcMd5 && self.logger.debug({\n    cate: 'PROCESS',\n    tag: 'upload',\n    msg: \"[key=\".concat(params.Key, \"] \\u5F00\\u59CB\\u8BA1\\u7B97 md5\")\n  });\n  util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n    if (md5) {\n      self.logger.debug({\n        cate: 'PROCESS',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] md5: \").concat(md5, \"\\uFF0Cmd5Base64=\").concat(util.b64(md5))\n      });\n      tracker && tracker.setParams({\n        md5EndTime: new Date().getTime()\n      });\n      if (self.options.UploadCheckContentMd5) headers['Content-MD5'] = util.b64(md5);\n      if (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5) headers['x-cos-meta-md5'] = md5;\n    }\n    if (params.ContentLength !== undefined) headers['Content-Length'] = params.ContentLength;\n    onProgress(null, true); // 任务状态开始 uploading\n    submitRequest.call(self, {\n      Action: 'name/cos:PutObject',\n      TaskId: params.TaskId,\n      method: 'PUT',\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      headers: params.Headers,\n      qs: params.Query,\n      body: params.Body,\n      onProgress: onProgress,\n      tracker: tracker\n    }, function (err, data) {\n      if (err) {\n        self.logger.error({\n          cate: 'ERROR',\n          tag: 'upload',\n          msg: \"\\u4E0A\\u4F20\\u5931\\u8D25\\uFF0C\\u9519\\u8BEF\\u4FE1\\u606F\\uFF1A\".concat(JSON.stringify(err))\n        });\n        onProgress(null, true);\n        return callback(err);\n      }\n      onProgress({\n        loaded: FileSize,\n        total: FileSize\n      }, true);\n      var url = getUrl({\n        ForcePathStyle: self.options.ForcePathStyle,\n        protocol: self.options.Protocol,\n        domain: self.options.Domain,\n        bucket: params.Bucket,\n        region: !self.options.UseAccelerate ? params.Region : 'accelerate',\n        object: params.Key\n      });\n      url = url.substr(url.indexOf('://') + 3);\n      data.Location = url;\n      data.ETag = util.attr(data.headers, 'etag', '');\n      self.logger.info({\n        cate: 'RESULT',\n        tag: 'upload',\n        msg: \"\\u4E0A\\u4F20\\u6210\\u529F\\uFF0CLocation=\".concat(url)\n      });\n      self.logger.info({\n        cate: 'PROCESS',\n        tag: 'upload',\n        msg: \"[key=\".concat(params.Key, \"] putObject\\u7ED3\\u675F\")\n      });\n      callback(null, data);\n    });\n  }, params.onHashProgress);\n}\n\n/**\n * 删除 object\n * @param  {Object}  params                     参数对象，必须\n *     @param  {String}  params.Bucket          Bucket名称，必须\n *     @param  {String}  params.Region          地域名称，必须\n *     @param  {String}  params.Key             object名称，必须\n * @param  {Function}  callback                 回调函数，必须\n * @param  {Object}  err                        请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @param  {Object}  data                       删除操作成功之后返回的数据\n */\nfunction deleteObject(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteObject',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    VersionId: params.VersionId,\n    action: params.Recursive ? 'recursive' : '',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      var statusCode = err.statusCode;\n      if (statusCode && statusCode === 404) {\n        return callback(null, {\n          BucketNotFound: true,\n          statusCode: statusCode\n        });\n      } else {\n        return callback(err);\n      }\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 object 的 权限列表\n * @param  {Object}  params                         参数对象，必须\n *     @param  {String}  params.Bucket              Bucket名称，必须\n *     @param  {String}  params.Region              地域名称，必须\n *     @param  {String}  params.Key                 object名称，必须\n * @param  {Function}  callback                     回调函数，必须\n * @return  {Object}  err                           请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                          返回的数据\n *     @return  {Object}  data.AccessControlPolicy  权限列表\n */\nfunction getObjectAcl(params, callback) {\n  var reqParams = {};\n  if (params.VersionId) {\n    reqParams.versionId = params.VersionId;\n  }\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObjectACL',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    qs: reqParams,\n    action: 'acl',\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var AccessControlPolicy = data.AccessControlPolicy || {};\n    var Owner = AccessControlPolicy.Owner || {};\n    var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n    var result = decodeAcl(AccessControlPolicy);\n    delete result.GrantWrite;\n    if (data.headers && data.headers['x-cos-acl']) {\n      result.ACL = data.headers['x-cos-acl'];\n    }\n    result = util.extend(result, {\n      Owner: Owner,\n      Grants: Grant,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\n/**\n * 设置 object 的 权限列表\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Key     object名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回的数据\n */\nfunction putObjectAcl(params, callback) {\n  var headers = params.Headers;\n  var xml = '';\n  if (params['AccessControlPolicy']) {\n    var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\n    var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\n    Grants = util.isArray(Grants) ? Grants : [Grants];\n    delete AccessControlPolicy.Grant;\n    delete AccessControlPolicy.Grants;\n    AccessControlPolicy.AccessControlList = {\n      Grant: Grants\n    };\n    xml = util.json2xml({\n      AccessControlPolicy: AccessControlPolicy\n    });\n    headers['Content-Type'] = 'application/xml';\n    headers['Content-MD5'] = util.b64(util.md5(xml));\n  }\n\n  // Grant Header 去重\n  util.each(headers, function (val, key) {\n    if (key.indexOf('x-cos-grant-') === 0) {\n      headers[key] = uniqGrant(headers[key]);\n    }\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:PutObjectACL',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    action: 'acl',\n    headers: headers,\n    body: xml,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * Options Object请求实现跨域访问的预请求。即发出一个 OPTIONS 请求给服务器以确认是否可以进行跨域操作。\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {String}  params.Key     object名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data              返回的数据\n */\nfunction optionsObject(params, callback) {\n  var headers = params.Headers;\n  headers['Origin'] = params['Origin'];\n  headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\n  headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\n  submitRequest.call(this, {\n    Action: 'name/cos:OptionsObject',\n    method: 'OPTIONS',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode && err.statusCode === 403) {\n        return callback(null, {\n          OptionsForbidden: true,\n          statusCode: err.statusCode\n        });\n      }\n      return callback(err);\n    }\n    var headers = data.headers || {};\n    callback(null, {\n      AccessControlAllowOrigin: headers['access-control-allow-origin'],\n      AccessControlAllowMethods: headers['access-control-allow-methods'],\n      AccessControlAllowHeaders: headers['access-control-allow-headers'],\n      AccessControlExposeHeaders: headers['access-control-expose-headers'],\n      AccessControlMaxAge: headers['access-control-max-age'],\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * @param  {Object}                                     参数列表\n *     @param  {String}  Bucket                         Bucket 名称\n *     @param  {String}  Region                         地域名称\n *     @param  {String}  Key                            文件名称\n *     @param  {String}  CopySource                     源文件URL绝对路径，可以通过versionid子资源指定历史版本\n *     @param  {String}  ACL                            允许用户自定义文件权限。有效值：private，public-read默认值：private。\n *     @param  {String}  GrantRead                      赋予被授权者读的权限，格式 x-cos-grant-read: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\n *     @param  {String}  GrantWrite                     赋予被授权者写的权限，格式 x-cos-grant-write: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\n *     @param  {String}  GrantFullControl               赋予被授权者读写权限，格式 x-cos-grant-full-control: uin=\" \",uin=\" \"，当需要给子账户授权时，uin=\"RootAcountID/SubAccountID\"，当需要给根账户授权时，uin=\"RootAcountID\"。\n *     @param  {String}  MetadataDirective              是否拷贝元数据，枚举值：Copy, Replaced，默认值Copy。假如标记为Copy，忽略Header中的用户元数据信息直接复制；假如标记为Replaced，按Header信息修改元数据。当目标路径和原路径一致，即用户试图修改元数据时，必须为Replaced\n *     @param  {String}  CopySourceIfModifiedSince      当Object在指定时间后被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-None-Match一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  CopySourceIfUnmodifiedSince    当Object在指定时间后未被修改，则执行操作，否则返回412。可与x-cos-copy-source-If-Match一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  CopySourceIfMatch              当Object的ETag和给定一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Unmodified-Since一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  CopySourceIfNoneMatch          当Object的ETag和给定不一致时，则执行操作，否则返回412。可与x-cos-copy-source-If-Modified-Since一起使用，与其他条件联合使用返回冲突。\n *     @param  {String}  StorageClass                   存储级别，枚举值：存储级别，枚举值：Standard, Standard_IA，Archive；默认值：Standard\n *     @param  {String}  CacheControl                   指定所有缓存机制在整个请求/响应链中必须服从的指令。\n *     @param  {String}  ContentDisposition             MIME 协议的扩展，MIME 协议指示 MIME 用户代理如何显示附加的文件\n *     @param  {String}  ContentEncoding                HTTP 中用来对「采用何种编码格式传输正文」进行协定的一对头部字段\n *     @param  {String}  ContentLength                  设置响应消息的实体内容的大小，单位为字节\n *     @param  {String}  ContentType                    RFC 2616 中定义的 HTTP 请求内容类型（MIME），例如text/plain\n *     @param  {String}  Expect                         请求的特定的服务器行为\n *     @param  {String}  Expires                        响应过期的日期和时间\n *     @param  {String}  params.ServerSideEncryption   支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n *     @param  {String}  ContentLanguage                指定内容语言\n *     @param  {String}  x-cos-meta-*                   允许用户自定义的头部信息，将作为 Object 元数据返回。大小限制2K。\n */\nfunction putObjectCopy(params, callback) {\n  // 特殊处理 Cache-Control\n  var self = this;\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  var CopySource = params.CopySource || '';\n  var m = util.getSourceParams.call(this, CopySource);\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n  var SourceBucket = m.Bucket;\n  var SourceRegion = m.Region;\n  var SourceKey = decodeURIComponent(m.Key);\n  submitRequest.call(this, {\n    Scope: [{\n      action: 'name/cos:GetObject',\n      bucket: SourceBucket,\n      region: SourceRegion,\n      prefix: SourceKey\n    }, {\n      action: 'name/cos:PutObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: params.Key\n    }],\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    headers: params.Headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var result = util.clone(data.CopyObjectResult || {});\n    var url = getUrl({\n      ForcePathStyle: self.options.ForcePathStyle,\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: params.Region,\n      object: params.Key,\n      isLocation: true\n    });\n    util.extend(result, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\nfunction uploadPartCopy(params, callback) {\n  var CopySource = params.CopySource || '';\n  var m = util.getSourceParams.call(this, CopySource);\n  if (!m) {\n    callback(util.error(new Error('CopySource format error')));\n    return;\n  }\n  var SourceBucket = m.Bucket;\n  var SourceRegion = m.Region;\n  var SourceKey = decodeURIComponent(m.Key);\n  submitRequest.call(this, {\n    Scope: [{\n      action: 'name/cos:GetObject',\n      bucket: SourceBucket,\n      region: SourceRegion,\n      prefix: SourceKey\n    }, {\n      action: 'name/cos:PutObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: params.Key\n    }],\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    qs: {\n      partNumber: params['PartNumber'],\n      uploadId: params['UploadId']\n    },\n    headers: params.Headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var result = util.clone(data.CopyPartResult || {});\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\nfunction deleteMultipleObject(params, callback) {\n  var Objects = params.Objects || [];\n  var Quiet = params.Quiet;\n  Objects = util.isArray(Objects) ? Objects : [Objects];\n  var xml = util.json2xml({\n    Delete: {\n      Object: Objects,\n      Quiet: Quiet || false\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  var Scope = util.map(Objects, function (v) {\n    return {\n      action: 'name/cos:DeleteObject',\n      bucket: params.Bucket,\n      region: params.Region,\n      prefix: v.Key\n    };\n  });\n  submitRequest.call(this, {\n    Scope: Scope,\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    body: xml,\n    action: 'delete',\n    headers: headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    var DeleteResult = data.DeleteResult || {};\n    var Deleted = DeleteResult.Deleted || [];\n    var Errors = DeleteResult.Error || [];\n    Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\n    Errors = util.isArray(Errors) ? Errors : [Errors];\n    var result = util.clone(DeleteResult);\n    util.extend(result, {\n      Error: Errors,\n      Deleted: Deleted,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\nfunction restoreObject(params, callback) {\n  var headers = params.Headers;\n  if (!params['RestoreRequest']) {\n    callback(util.error(new Error('missing param RestoreRequest')));\n    return;\n  }\n  var RestoreRequest = params.RestoreRequest || {};\n  var xml = util.json2xml({\n    RestoreRequest: RestoreRequest\n  });\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:RestoreObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    VersionId: params.VersionId,\n    body: xml,\n    action: 'restore',\n    headers: headers,\n    tracker: params.tracker\n  }, callback);\n}\n\n/**\n * 设置 Object 的标签\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Object名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n *     @param  {Array}   params.TagSet  标签设置，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              返回数据\n */\nfunction putObjectTagging(params, callback) {\n  var Tagging = params['Tagging'] || {};\n  var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\n  Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n  var xml = util.json2xml({\n    Tagging: {\n      TagSet: {\n        Tag: Tags\n      }\n    }\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:PutObjectTagging',\n    method: 'PUT',\n    Bucket: params.Bucket,\n    Key: params.Key,\n    Region: params.Region,\n    body: xml,\n    action: 'tagging',\n    headers: headers,\n    VersionId: params.VersionId,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 获取 Object 的标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Bucket名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              返回数据\n */\nfunction getObjectTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObjectTagging',\n    method: 'GET',\n    Key: params.Key,\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    action: 'tagging',\n    VersionId: params.VersionId,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) {\n      if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'NoSuchTagSet')) {\n        var result = {\n          Tags: [],\n          statusCode: err.statusCode\n        };\n        err.headers && (result.headers = err.headers);\n        callback(null, result);\n      } else {\n        callback(err);\n      }\n      return;\n    }\n    var Tags = [];\n    try {\n      Tags = data.Tagging.TagSet.Tag || [];\n    } catch (e) {}\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\n    callback(null, {\n      Tags: Tags,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 删除 Object 的 标签设置\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Bucket  Object名称，必须\n *     @param  {String}  params.Region  地域名称，必须\n * @param  {Function}  callback         回调函数，必须\n * @return  {Object}  err               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data              返回的数据\n */\nfunction deleteObjectTagging(params, callback) {\n  submitRequest.call(this, {\n    Action: 'name/cos:DeleteObjectTagging',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'tagging',\n    VersionId: params.VersionId,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 使用 SQL 语句从指定对象（CSV 格式或者 JSON 格式）中检索内容\n * @param  {Object}  params                   参数对象，必须\n *     @param  {String}  params.Bucket        Object名称，必须\n *     @param  {String}  params.Region        地域名称，必须\n *     @param  {Object}  params.SelectRequest 地域名称，必须\n * @param  {Function}  callback               回调函数，必须\n * @return  {Object}  err                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/42998\n * @return  {Object}  data                    返回的数据\n */\nfunction selectObjectContent(params, callback) {\n  var SelectType = params['SelectType'];\n  if (!SelectType) return callback(util.error(new Error('missing param SelectType')));\n  var SelectRequest = params['SelectRequest'] || {};\n  var xml = util.json2xml({\n    SelectRequest: SelectRequest\n  });\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:GetObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    action: 'select',\n    qs: {\n      'select-type': params['SelectType']\n    },\n    VersionId: params.VersionId,\n    body: xml,\n    DataType: 'arraybuffer',\n    rawBody: true,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err && err.statusCode === 204) {\n      return callback(null, {\n        statusCode: err.statusCode\n      });\n    } else if (err) {\n      return callback(err);\n    }\n    var result = util.parseSelectPayload(data.body);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers,\n      Body: result.body,\n      Payload: result.payload\n    });\n  });\n}\n\n// 分块上传\n\n/**\n * 初始化分块上传\n * @param  {Object}  params                                     参数对象，必须\n *     @param  {String}  params.Bucket                          Bucket名称，必须\n *     @param  {String}  params.Region                          地域名称，必须\n *     @param  {String}  params.Key                             object名称，必须\n *     @param  {String}  params.UploadId                        object名称，必须\n *     @param  {String}  params.CacheControl                    RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentDisposition              RFC 2616 中定义的文件名称，将作为 Object 元数据保存    ，非必须\n *     @param  {String}  params.ContentEncoding                 RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentType                     RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\n *     @param  {String}  params.Expires                         RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ACL                             允许用户自定义文件权限，非必须\n *     @param  {String}  params.GrantRead                       赋予被授权者读的权限 ，非必须\n *     @param  {String}  params.GrantWrite                      赋予被授权者写的权限 ，非必须\n *     @param  {String}  params.GrantFullControl                赋予被授权者读写权限 ，非必须\n *     @param  {String}  params.StorageClass                    设置Object的存储级别，枚举值：Standard，Standard_IA，Archive，非必须\n *     @param  {String}  params.ServerSideEncryption           支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n * @param  {Function}  callback                                 回调函数，必须\n * @return  {Object}  err                                       请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                      返回的数据\n */\nfunction multipartInit(params, callback) {\n  var self = this;\n  // 特殊处理 Cache-Control\n  var headers = params.Headers;\n  var tracker = params.tracker;\n\n  // 特殊处理 Cache-Control、Content-Type\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) {\n    headers['Content-Type'] = params.Body && params.Body.type || '';\n  }\n  var needCalcMd5 = params.Body && (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5);\n  needCalcMd5 && tracker && tracker.setParams({\n    md5StartTime: new Date().getTime()\n  });\n  util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n    if (md5) params.Headers['x-cos-meta-md5'] = md5;\n    needCalcMd5 && tracker && tracker.setParams({\n      md5EndTime: new Date().getTime()\n    });\n    submitRequest.call(self, {\n      Action: 'name/cos:InitiateMultipartUpload',\n      method: 'POST',\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      action: 'uploads',\n      headers: params.Headers,\n      qs: params.Query,\n      tracker: tracker\n    }, function (err, data) {\n      if (err) {\n        tracker && tracker.parent && tracker.parent.setParams({\n          errorNode: 'multipartInit'\n        });\n        return callback(err);\n      }\n      data = util.clone(data || {});\n      if (data && data.InitiateMultipartUploadResult) {\n        return callback(null, util.extend(data.InitiateMultipartUploadResult, {\n          statusCode: data.statusCode,\n          headers: data.headers\n        }));\n      }\n      callback(null, data);\n    });\n  }, params.onHashProgress);\n}\n\n/**\n * 分块上传\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Key                         object名称，必须\n *     @param  {File || Blob || String}  params.Body        上传文件对象或字符串\n *     @param  {String} params.ContentLength                RFC 2616 中定义的 HTTP 请求内容长度（字节），非必须\n *     @param  {String} params.Expect                       当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\n *     @param  {String} params.ServerSideEncryption         支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n *     @param  {String} params.ContentSha1                  RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验值，非必须\n * @param  {Function}  callback                             回调函数，必须\n *     @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}  data                              返回的数据\n *     @return  {Object}  data.ETag                         返回的文件分块 sha1 值\n */\nfunction multipartUpload(params, callback) {\n  var self = this;\n  util.getFileSize('multipartUpload', params, function () {\n    var tracker = params.tracker;\n    var needCalcMd5 = self.options.UploadCheckContentMd5;\n    needCalcMd5 && tracker && tracker.setParams({\n      md5StartTime: new Date().getTime()\n    });\n    util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\n      if (md5) params.Headers['Content-MD5'] = util.b64(md5);\n      needCalcMd5 && tracker && tracker.setParams({\n        md5EndTime: new Date().getTime()\n      });\n      tracker && tracker.setParams({\n        partNumber: params.PartNumber\n      });\n      submitRequest.call(self, {\n        Action: 'name/cos:UploadPart',\n        TaskId: params.TaskId,\n        method: 'PUT',\n        Bucket: params.Bucket,\n        Region: params.Region,\n        Key: params.Key,\n        qs: {\n          partNumber: params['PartNumber'],\n          uploadId: params['UploadId']\n        },\n        headers: params.Headers,\n        onProgress: params.onProgress,\n        body: params.Body || null,\n        tracker: tracker\n      }, function (err, data) {\n        if (err) {\n          tracker && tracker.parent && tracker.parent.setParams({\n            errorNode: 'multipartUpload'\n          });\n          return callback(err);\n        }\n        callback(null, {\n          ETag: util.attr(data.headers, 'etag', ''),\n          statusCode: data.statusCode,\n          headers: data.headers\n        });\n      });\n    });\n  });\n}\n\n/**\n * 完成分块上传\n * @param  {Object}  params                             参数对象，必须\n *     @param  {String}  params.Bucket                  Bucket名称，必须\n *     @param  {String}  params.Region                  地域名称，必须\n *     @param  {String}  params.Key                     object名称，必须\n *     @param  {Array}   params.Parts                   分块信息列表，必须\n *     @param  {String}  params.Parts[i].PartNumber     块编号，必须\n *     @param  {String}  params.Parts[i].ETag           分块的 sha1 校验值\n * @param  {Function}  callback                         回调函数，必须\n * @return  {Object}  err                               请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                              返回的数据\n *     @return  {Object}  data.CompleteMultipartUpload  完成分块上传后的文件信息，包括Location, Bucket, Key 和 ETag\n */\nfunction multipartComplete(params, callback) {\n  var self = this;\n  var UploadId = params.UploadId;\n  var Parts = params['Parts'];\n  var tracker = params.tracker;\n  for (var i = 0, len = Parts.length; i < len; i++) {\n    if (Parts[i]['ETag'] && Parts[i]['ETag'].indexOf('\"') === 0) {\n      continue;\n    }\n    Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\n  }\n  var xml = util.json2xml({\n    CompleteMultipartUpload: {\n      Part: Parts\n    }\n  });\n  // CSP/ceph CompleteMultipartUpload 接口 body 写死了限制 1MB，这里最多 10000 片时，xml 字符串去掉空格853KB\n  xml = xml.replace(/\\n\\s*/g, '');\n  var headers = params.Headers;\n  headers['Content-Type'] = 'application/xml';\n  headers['Content-MD5'] = util.b64(util.md5(xml));\n  submitRequest.call(this, {\n    Action: 'name/cos:CompleteMultipartUpload',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    qs: {\n      uploadId: UploadId\n    },\n    body: xml,\n    headers: headers,\n    tracker: tracker\n  }, function (err, data) {\n    if (err) {\n      tracker && tracker.parent && tracker.parent.setParams({\n        errorNode: 'multipartComplete'\n      });\n      return callback(err);\n    }\n    var url = getUrl({\n      ForcePathStyle: self.options.ForcePathStyle,\n      protocol: self.options.Protocol,\n      domain: self.options.Domain,\n      bucket: params.Bucket,\n      region: !self.options.UseAccelerate ? params.Region : 'accelerate',\n      object: params.Key,\n      isLocation: true\n    });\n    var res = data.CompleteMultipartUploadResult || {};\n    // pic-operations 处理\n    if (res.ProcessResults) {\n      res.UploadResult = {\n        OriginalInfo: {\n          Key: res.Key,\n          Location: url,\n          ETag: res.ETag,\n          ImageInfo: res.ImageInfo\n        },\n        ProcessResults: res.ProcessResults\n      };\n      delete res.ImageInfo;\n      delete res.ProcessResults;\n    }\n    // callback 处理\n    if (res.CallbackResult) {\n      var callbackResult = res.CallbackResult;\n      if (callbackResult.Status === '200' && callbackResult.CallbackBody) {\n        try {\n          res.CallbackBody = JSON.parse(util.decodeBase64(callbackResult.CallbackBody));\n        } catch (e) {\n          res.CallbackBody = {};\n        }\n      } else {\n        res.CallbackError = callbackResult.Error || {};\n      }\n      delete res.CallbackResult;\n    }\n    // returnBody 处理\n    if (res.ReturnBodyResult) {\n      var returnBodyResult = res.ReturnBodyResult;\n      if (returnBodyResult.Status === '200' && returnBodyResult.ReturnBody) {\n        try {\n          res.ReturnBody = JSON.parse(util.decodeBase64(returnBodyResult.ReturnBody));\n        } catch (e) {\n          res.ReturnBody = {};\n        }\n      } else {\n        res.ReturnError = {\n          Code: returnBodyResult.Code,\n          Message: returnBodyResult.Message,\n          Status: returnBodyResult.Status\n        };\n      }\n      delete res.ReturnBodyResult;\n    }\n    var result = util.extend(res, {\n      Location: url,\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\n/**\n * 分块上传任务列表查询\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Delimiter                   定界符为一个符号，如果有Prefix，则将Prefix到delimiter之间的相同路径归为一类，定义为Common Prefix，然后列出所有Common Prefix。如果没有Prefix，则从路径起点开始，非必须\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\n *     @param  {String}  params.Prefix                      前缀匹配，用来规定返回的文件前缀地址，非必须\n *     @param  {String}  params.MaxUploads                  单次返回最大的条目数量，默认1000，非必须\n *     @param  {String}  params.KeyMarker                   与upload-id-marker一起使用 </Br>当upload-id-marker未被指定时，ObjectName字母顺序大于key-marker的条目将被列出 </Br>当upload-id-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\n *     @param  {String}  params.UploadIdMarker              与key-marker一起使用 </Br>当key-marker未被指定时，upload-id-marker将被忽略 </Br>当key-marker被指定时，ObjectName字母顺序大于key-marker的条目被列出，ObjectName字母顺序等于key-marker同时UploadId大于upload-id-marker的条目将被列出，非必须\n * @param  {Function}  callback                             回调函数，必须\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  返回的数据\n *     @return  {Object}  data.ListMultipartUploadsResult   分块上传任务信息\n */\nfunction multipartList(params, callback) {\n  var reqParams = {};\n  reqParams['delimiter'] = params['Delimiter'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  reqParams['prefix'] = params['Prefix'] || '';\n  reqParams['max-uploads'] = params['MaxUploads'];\n  reqParams['key-marker'] = params['KeyMarker'];\n  reqParams['upload-id-marker'] = params['UploadIdMarker'];\n  reqParams = util.clearKey(reqParams);\n  var tracker = params.tracker;\n  tracker && tracker.setParams({\n    signStartTime: new Date().getTime()\n  });\n  submitRequest.call(this, {\n    Action: 'name/cos:ListMultipartUploads',\n    ResourceKey: reqParams['prefix'],\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    headers: params.Headers,\n    qs: reqParams,\n    action: 'uploads',\n    tracker: tracker\n  }, function (err, data) {\n    if (err) {\n      tracker && tracker.parent && tracker.parent.setParams({\n        errorNode: 'multipartList'\n      });\n      return callback(err);\n    }\n    if (data && data.ListMultipartUploadsResult) {\n      var Upload = data.ListMultipartUploadsResult.Upload || [];\n      Upload = util.isArray(Upload) ? Upload : [Upload];\n      data.ListMultipartUploadsResult.Upload = Upload;\n    }\n    var result = util.clone(data.ListMultipartUploadsResult || {});\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\n/**\n * 上传的分块列表查询\n * @param  {Object}  params                                 参数对象，必须\n *     @param  {String}  params.Bucket                      Bucket名称，必须\n *     @param  {String}  params.Region                      地域名称，必须\n *     @param  {String}  params.Key                         object名称，必须\n *     @param  {String}  params.UploadId                    标示本次分块上传的ID，必须\n *     @param  {String}  params.EncodingType                规定返回值的编码方式，非必须\n *     @param  {String}  params.MaxParts                    单次返回最大的条目数量，默认1000，非必须\n *     @param  {String}  params.PartNumberMarker            默认以UTF-8二进制顺序列出条目，所有列出条目从marker开始，非必须\n * @param  {Function}  callback                             回调函数，必须\n * @return  {Object}  err                                   请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n * @return  {Object}  data                                  返回的数据\n *     @return  {Object}  data.ListMultipartUploadsResult   分块信息\n */\nfunction multipartListPart(params, callback) {\n  var reqParams = {};\n  var tracker = params.tracker;\n  reqParams['uploadId'] = params['UploadId'];\n  reqParams['encoding-type'] = params['EncodingType'];\n  reqParams['max-parts'] = params['MaxParts'];\n  reqParams['part-number-marker'] = params['PartNumberMarker'];\n  submitRequest.call(this, {\n    Action: 'name/cos:ListParts',\n    method: 'GET',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    qs: reqParams,\n    tracker: tracker\n  }, function (err, data) {\n    if (err) {\n      tracker && tracker.parent && tracker.parent.setParams({\n        errorNode: 'multipartListPart'\n      });\n      return callback(err);\n    }\n    var ListPartsResult = data.ListPartsResult || {};\n    var Part = ListPartsResult.Part || [];\n    Part = util.isArray(Part) ? Part : [Part];\n    ListPartsResult.Part = Part;\n    var result = util.clone(ListPartsResult);\n    util.extend(result, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n    callback(null, result);\n  });\n}\n\n/**\n * 抛弃分块上传\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n *     @param  {String}  params.Key         object名称，必须\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\n * @param  {Function}  callback             回调函数，必须\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            返回的数据\n */\nfunction multipartAbort(params, callback) {\n  var reqParams = {};\n  reqParams['uploadId'] = params['UploadId'];\n  submitRequest.call(this, {\n    Action: 'name/cos:AbortMultipartUpload',\n    method: 'DELETE',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    headers: params.Headers,\n    qs: reqParams,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, {\n      statusCode: data.statusCode,\n      headers: data.headers\n    });\n  });\n}\n\n/**\n * 抛弃分块上传\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n *     @param  {String}  params.Key         object名称，必须\n *     @param  {String}  params.UploadId    标示本次分块上传的ID，必须\n * @param  {Function}  callback             回调函数，必须\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            返回的数据\n */\nfunction request(params, callback) {\n  submitRequest.call(this, {\n    method: params.Method,\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Key: params.Key,\n    action: params.Action,\n    headers: params.Headers,\n    qs: params.Query,\n    body: params.Body,\n    Url: params.Url,\n    rawBody: params.RawBody,\n    DataType: params.DataType,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    if (data && data.body) {\n      data.Body = data.body;\n      delete data.body;\n    }\n    callback(err, data);\n  });\n}\n\n/**\n * 追加上传\n * @param  {Object}  params                                         参数对象，必须\n *     @param  {String}  params.Bucket                              Bucket名称，必须\n *     @param  {String}  params.Region                              地域名称，必须\n *     @param  {String}  params.Key                                 object名称，必须\n *     @param  {File || Blob || String}  params.Body                上传文件对象或字符串\n *     @param  {Number}  params.Position                            追加操作的起始点，单位为字节，必须\n *     @param  {String}  params.CacheControl                        RFC 2616 中定义的缓存策略，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentDisposition                  RFC 2616 中定义的文件名称，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentEncoding                     RFC 2616 中定义的编码格式，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ContentLength                       RFC 2616 中定义的 HTTP 请求内容长度（字节），必须\n *     @param  {String}  params.ContentType                         RFC 2616 中定义的内容类型（MIME），将作为 Object 元数据保存，非必须\n *     @param  {String}  params.Expect                              当使用 Expect: 100-continue 时，在收到服务端确认后，才会发送请求内容，非必须\n *     @param  {String}  params.Expires                             RFC 2616 中定义的过期时间，将作为 Object 元数据保存，非必须\n *     @param  {String}  params.ACL                                 允许用户自定义文件权限，有效值：private | public-read，非必须\n *     @param  {String}  params.GrantRead                           赋予被授权者读取对象的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantReadAcp                        赋予被授权者读取对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantWriteAcp                       赋予被授权者写入对象的访问控制列表（ACL）的权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.GrantFullControl                    赋予被授权者操作对象的所有权限，格式：id=\"[OwnerUin]\"，可使用半角逗号（,）分隔多组被授权者，非必须\n *     @param  {String}  params.StorageClass                        设置对象的存储级别，枚举值：STANDARD、STANDARD_IA、ARCHIVE，默认值：STANDARD，非必须\n *     @param  {String}  params.x-cos-meta-*                        允许用户自定义的头部信息，将作为对象的元数据保存。大小限制2KB，非必须\n *     @param  {String}  params.ContentSha1                         RFC 3174 中定义的 160-bit 内容 SHA-1 算法校验，非必须\n *     @param  {String}  params.ServerSideEncryption                支持按照指定的加密算法进行服务端数据加密，格式 x-cos-server-side-encryption: \"AES256\"，非必须\n * @param  {Function}  callback                                     回调函数，必须\n *     @return  {Object}    err                                     请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data                                    返回的数据\n */\nfunction appendObject(params, callback) {\n  // 特殊处理 Cache-Control、Content-Type，避免代理更改这两个字段导致写入到 Object 属性里\n  var headers = params.Headers;\n  if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\n  if (!headers['Content-Type'] && !headers['content-type']) {\n    headers['Content-Type'] = params.Body && params.Body.type || '';\n  }\n  submitRequest.call(this, {\n    Action: 'name/cos:AppendObject',\n    method: 'POST',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    action: 'append',\n    Key: params.Key,\n    body: params.Body,\n    qs: {\n      position: params.Position\n    },\n    headers: params.Headers,\n    tracker: params.tracker\n  }, function (err, data) {\n    if (err) return callback(err);\n    callback(null, data);\n  });\n}\n\n/**\n * 获取签名\n * @param  {Object}  params             参数对象，必须\n *     @param  {String}  params.Method  请求方法，必须\n *     @param  {String}  params.Key     object名称，必须\n *     @param  {String}  params.Expires 名超时时间，单位秒，可选\n * @return  {String}  data              返回签名字符串\n */\nfunction getAuth(params) {\n  var self = this;\n  return util.getAuth({\n    SecretId: params.SecretId || this.options.SecretId || '',\n    SecretKey: params.SecretKey || this.options.SecretKey || '',\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Method: params.Method,\n    Key: params.Key,\n    Query: params.Query,\n    Headers: params.Headers,\n    Expires: params.Expires,\n    UseRawKey: self.options.UseRawKey,\n    SystemClockOffset: self.options.SystemClockOffset\n  });\n}\n\n/**\n * 获取文件下载链接\n * @param  {Object}  params                 参数对象，必须\n *     @param  {String}  params.Bucket      Bucket名称，必须\n *     @param  {String}  params.Region      地域名称，必须\n *     @param  {String}  params.Key         object名称，必须\n *     @param  {String}  params.Method      请求的方法，可选\n *     @param  {String}  params.Expires     签名超时时间，单位秒，可选\n * @param  {Function}  callback             回调函数，必须\n *     @return  {Object}    err             请求失败的错误，如果请求成功，则为空。https://cloud.tencent.com/document/product/436/7730\n *     @return  {Object}    data            返回的数据\n */\nfunction getObjectUrl(params, callback) {\n  var self = this;\n  var useAccelerate = params.UseAccelerate === undefined ? self.options.UseAccelerate : params.UseAccelerate;\n  var url = getUrl({\n    ForcePathStyle: self.options.ForcePathStyle,\n    protocol: params.Protocol || self.options.Protocol,\n    domain: params.Domain || self.options.Domain,\n    bucket: params.Bucket,\n    region: useAccelerate ? 'accelerate' : params.Region,\n    object: params.Key\n  });\n  var queryParamsStr = '';\n  if (params.Query) {\n    queryParamsStr += util.obj2str(params.Query);\n  }\n  if (params.QueryString) {\n    queryParamsStr += (queryParamsStr ? '&' : '') + params.QueryString;\n  }\n  var syncUrl = url;\n  if (params.Sign !== undefined && !params.Sign) {\n    queryParamsStr && (syncUrl += '?' + queryParamsStr);\n    callback(null, {\n      Url: syncUrl\n    });\n    return syncUrl;\n  }\n\n  // 签名加上 Host，避免跨桶访问\n  var SignHost = getSignHost.call(this, {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    UseAccelerate: params.UseAccelerate,\n    Url: url\n  });\n  var AuthData = getAuthorizationAsync.call(this, {\n    Action: (params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject',\n    Bucket: params.Bucket || '',\n    Region: params.Region || '',\n    Method: params.Method || 'get',\n    Key: params.Key,\n    Expires: params.Expires,\n    Headers: params.Headers,\n    Query: params.Query,\n    SignHost: SignHost,\n    ForceSignHost: params.ForceSignHost === false ? false : self.options.ForceSignHost // getObjectUrl支持传参ForceSignHost\n  }, function (err, AuthData) {\n    if (!callback) return;\n    if (err) {\n      callback(err);\n      return;\n    }\n\n    // 兼容万象url qUrlParamList需要再encode一次\n    var replaceUrlParamList = function replaceUrlParamList(url) {\n      var urlParams = url.match(/q-url-param-list.*?(?=&)/g)[0];\n      var encodedParams = 'q-url-param-list=' + encodeURIComponent(urlParams.replace(/q-url-param-list=/, '')).toLowerCase();\n      var reg = new RegExp(urlParams, 'g');\n      var replacedUrl = url.replace(reg, encodedParams);\n      return replacedUrl;\n    };\n    var signUrl = url;\n    signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ? replaceUrlParamList(AuthData.Authorization) : 'sign=' + encodeURIComponent(AuthData.Authorization));\n    AuthData.SecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.SecurityToken);\n    AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\n    AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\n    AuthData.Token && (signUrl += '&token=' + AuthData.Token);\n    queryParamsStr && (signUrl += '&' + queryParamsStr);\n    setTimeout(function () {\n      callback(null, {\n        Url: signUrl\n      });\n    });\n  });\n  if (AuthData) {\n    syncUrl += '?' + AuthData.Authorization + (AuthData.SecurityToken ? '&x-cos-security-token=' + AuthData.SecurityToken : '');\n    queryParamsStr && (syncUrl += '&' + queryParamsStr);\n  } else {\n    queryParamsStr && (syncUrl += '?' + queryParamsStr);\n  }\n  return syncUrl;\n}\n\n/**\n * 私有方法\n */\nfunction decodeAcl(AccessControlPolicy) {\n  var result = {\n    GrantFullControl: [],\n    GrantWrite: [],\n    GrantRead: [],\n    GrantReadAcp: [],\n    GrantWriteAcp: [],\n    ACL: ''\n  };\n  var GrantMap = {\n    FULL_CONTROL: 'GrantFullControl',\n    WRITE: 'GrantWrite',\n    READ: 'GrantRead',\n    READ_ACP: 'GrantReadAcp',\n    WRITE_ACP: 'GrantWriteAcp'\n  };\n  var AccessControlList = AccessControlPolicy && AccessControlPolicy.AccessControlList || {};\n  var Grant = AccessControlList.Grant;\n  if (Grant) {\n    Grant = util.isArray(Grant) ? Grant : [Grant];\n  }\n  var PublicAcl = {\n    READ: 0,\n    WRITE: 0,\n    FULL_CONTROL: 0\n  };\n  Grant && Grant.length && util.each(Grant, function (item) {\n    var uriMatch = item.Grantee.URI && item.Grantee.URI.endsWith('/groups/global/AllUsers');\n    if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || uriMatch) {\n      PublicAcl[item.Permission] = 1;\n    } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\n      result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\n    }\n  });\n  if (PublicAcl.FULL_CONTROL || PublicAcl.WRITE && PublicAcl.READ) {\n    result.ACL = 'public-read-write';\n  } else if (PublicAcl.READ) {\n    result.ACL = 'public-read';\n  } else {\n    result.ACL = 'private';\n  }\n  util.each(GrantMap, function (item) {\n    result[item] = uniqGrant(result[item].join(','));\n  });\n  return result;\n}\n\n// Grant 去重\nfunction uniqGrant(str) {\n  var arr = str.split(',');\n  var exist = {};\n  var i, item;\n  for (i = 0; i < arr.length;) {\n    item = arr[i].trim();\n    if (exist[item]) {\n      arr.splice(i, 1);\n    } else {\n      exist[item] = true;\n      arr[i] = item;\n      i++;\n    }\n  }\n  return arr.join(',');\n}\n\n// 生成操作 url\nfunction getUrl(params) {\n  var region = params.region || '';\n  var longBucket = params.bucket || '';\n  var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\n  var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\n  var domain = params.domain;\n  var object = params.object;\n  if (typeof domain === 'function') {\n    domain = domain({\n      Bucket: longBucket,\n      Region: region\n    });\n  }\n  // 兼容不带冒号的http、https\n  if (['http', 'https'].includes(params.protocol)) {\n    params.protocol = params.protocol + ':';\n  }\n  var protocol = params.protocol || (util.isBrowser && (typeof location === \"undefined\" ? \"undefined\" : _typeof(location)) === 'object' && location.protocol === 'http:' ? 'http:' : 'https:');\n  if (!domain) {\n    if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\n      domain = '{Region}.myqcloud.com';\n    } else {\n      domain = 'cos.{Region}.myqcloud.com';\n    }\n    if (!params.ForcePathStyle) {\n      domain = '{Bucket}.' + domain;\n    }\n  }\n  domain = domain.replace(/\\{\\{AppId\\}\\}/gi, appId).replace(/\\{\\{Bucket\\}\\}/gi, shortBucket).replace(/\\{\\{Region\\}\\}/gi, region).replace(/\\{\\{.*?\\}\\}/gi, '');\n  domain = domain.replace(/\\{AppId\\}/gi, appId).replace(/\\{BucketName\\}/gi, shortBucket).replace(/\\{Bucket\\}/gi, longBucket).replace(/\\{Region\\}/gi, region).replace(/\\{.*?\\}/gi, '');\n  if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\n    domain = protocol + '//' + domain;\n  }\n\n  // 去掉域名最后的斜杆\n  if (domain.slice(-1) === '/') {\n    domain = domain.slice(0, -1);\n  }\n  var url = domain;\n  if (params.ForcePathStyle) {\n    url += '/' + longBucket;\n  }\n  url += '/';\n  if (object) {\n    url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\n  }\n  if (params.isLocation) {\n    url = url.replace(/^https?:\\/\\//, '');\n  }\n  return url;\n}\nvar getSignHost = function getSignHost(opt) {\n  // Url 或 Bucket+Region 至少传一个\n  var paramsCompleted = opt.Url || opt.Bucket && opt.Region;\n  if (!paramsCompleted) return '';\n  var useAccelerate = opt.UseAccelerate === undefined ? this.options.UseAccelerate : opt.UseAccelerate;\n  var url = opt.Url || getUrl({\n    ForcePathStyle: this.options.ForcePathStyle,\n    protocol: this.options.Protocol,\n    domain: this.options.Domain,\n    bucket: opt.Bucket,\n    region: useAccelerate ? 'accelerate' : opt.Region\n  });\n  var urlHost = url.replace(/^https?:\\/\\/([^/]+)(\\/.*)?$/, '$1');\n  return urlHost;\n};\n\n// 异步获取签名\nfunction getAuthorizationAsync(params, callback) {\n  var headers = util.clone(params.Headers);\n  var headerHost = '';\n  util.each(headers, function (v, k) {\n    (v === '' || ['content-type', 'cache-control', 'expires'].indexOf(k.toLowerCase()) > -1) && delete headers[k];\n    if (k.toLowerCase() === 'host') headerHost = v;\n  });\n  // ForceSignHost明确传入false才不加入host签名\n  var forceSignHost = params.ForceSignHost === false ? false : true;\n\n  // Host 加入签名计算\n  if (!headerHost && params.SignHost && forceSignHost) headers.Host = params.SignHost;\n\n  // 获取凭证的回调，避免用户 callback 多次\n  var cbDone = false;\n  var cb = function cb(err, AuthData) {\n    if (cbDone) return;\n    cbDone = true;\n    if (AuthData && AuthData.XCosSecurityToken && !AuthData.SecurityToken) {\n      AuthData = util.clone(AuthData);\n      AuthData.SecurityToken = AuthData.XCosSecurityToken;\n      delete AuthData.XCosSecurityToken;\n    }\n    callback && callback(err, AuthData);\n  };\n  var self = this;\n  var Bucket = params.Bucket || '';\n  var Region = params.Region || '';\n\n  // PathName\n  var KeyName = params.Key || '';\n  if (self.options.ForcePathStyle && Bucket) {\n    KeyName = Bucket + '/' + KeyName;\n  }\n  var Pathname = '/' + KeyName;\n\n  // Action、ResourceKey\n  var StsData = {};\n  var Scope = params.Scope;\n  if (!Scope) {\n    var Action = params.Action || '';\n    var ResourceKey = params.ResourceKey || params.Key || '';\n    Scope = params.Scope || [{\n      action: Action,\n      bucket: Bucket,\n      region: Region,\n      prefix: ResourceKey\n    }];\n  }\n  var ScopeKey = util.md5(JSON.stringify(Scope));\n\n  // STS\n  self._StsCache = self._StsCache || [];\n  (function () {\n    var i, AuthData;\n    for (i = self._StsCache.length - 1; i >= 0; i--) {\n      AuthData = self._StsCache[i];\n      var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\n      if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\n        self._StsCache.splice(i, 1);\n        continue;\n      }\n      if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\n        StsData = AuthData;\n        break;\n      }\n    }\n  })();\n  var calcAuthByTmpKey = function calcAuthByTmpKey() {\n    var KeyTime = '';\n    if (StsData.StartTime && params.Expires) {\n      KeyTime = StsData.StartTime + ';' + (StsData.StartTime + params.Expires * 1);\n    } else if (StsData.StartTime && StsData.ExpiredTime) {\n      KeyTime = StsData.StartTime + ';' + StsData.ExpiredTime;\n    }\n    var Authorization = util.getAuth({\n      SecretId: StsData.TmpSecretId,\n      SecretKey: StsData.TmpSecretKey,\n      Method: params.Method,\n      Pathname: Pathname,\n      Query: params.Query,\n      Headers: headers,\n      Expires: params.Expires,\n      UseRawKey: self.options.UseRawKey,\n      SystemClockOffset: self.options.SystemClockOffset,\n      KeyTime: KeyTime,\n      ForceSignHost: forceSignHost\n    });\n    var AuthData = {\n      Authorization: Authorization,\n      SecurityToken: StsData.SecurityToken || StsData.XCosSecurityToken || '',\n      Token: StsData.Token || '',\n      ClientIP: StsData.ClientIP || '',\n      ClientUA: StsData.ClientUA || '',\n      SignFrom: 'client'\n    };\n    cb(null, AuthData);\n  };\n  var checkAuthError = function checkAuthError(AuthData) {\n    if (AuthData.Authorization) {\n      // 检查签名格式\n      var formatAllow = false;\n      var auth = AuthData.Authorization;\n      if (auth) {\n        if (auth.indexOf(' ') > -1) {\n          formatAllow = false;\n        } else if (auth.indexOf('q-sign-algorithm=') > -1 && auth.indexOf('q-ak=') > -1 && auth.indexOf('q-sign-time=') > -1 && auth.indexOf('q-key-time=') > -1 && auth.indexOf('q-url-param-list=') > -1) {\n          formatAllow = true;\n        } else {\n          try {\n            auth = atob(auth);\n            if (auth.indexOf('a=') > -1 && auth.indexOf('k=') > -1 && auth.indexOf('t=') > -1 && auth.indexOf('r=') > -1 && auth.indexOf('b=') > -1) {\n              formatAllow = true;\n            }\n          } catch (e) {}\n        }\n      }\n      if (!formatAllow) return util.error(new Error('getAuthorization callback params format error'));\n    } else {\n      if (!AuthData.TmpSecretId) return util.error(new Error('getAuthorization callback params missing \"TmpSecretId\"'));\n      if (!AuthData.TmpSecretKey) return util.error(new Error('getAuthorization callback params missing \"TmpSecretKey\"'));\n      if (!AuthData.SecurityToken && !AuthData.XCosSecurityToken) return util.error(new Error('getAuthorization callback params missing \"SecurityToken\"'));\n      if (!AuthData.ExpiredTime) return util.error(new Error('getAuthorization callback params missing \"ExpiredTime\"'));\n      if (AuthData.ExpiredTime && AuthData.ExpiredTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"ExpiredTime\" should be 10 digits'));\n      if (AuthData.StartTime && AuthData.StartTime.toString().length !== 10) return util.error(new Error('getAuthorization callback params \"StartTime\" should be 10 StartTime'));\n    }\n    return false;\n  };\n\n  // 先判断是否有临时密钥\n  if (StsData.ExpiredTime && StsData.ExpiredTime - util.getSkewTime(self.options.SystemClockOffset) / 1000 > 60) {\n    // 如果缓存的临时密钥有效，并还有超过60秒有效期就直接使用\n    calcAuthByTmpKey();\n  } else if (self.options.getAuthorization) {\n    // 外部计算签名或获取临时密钥\n    self.options.getAuthorization.call(self, {\n      Bucket: Bucket,\n      Region: Region,\n      Method: params.Method,\n      Key: KeyName,\n      Pathname: Pathname,\n      Query: params.Query,\n      Headers: headers,\n      Scope: Scope,\n      SystemClockOffset: self.options.SystemClockOffset,\n      ForceSignHost: forceSignHost\n    }, function (AuthData) {\n      if (typeof AuthData === 'string') AuthData = {\n        Authorization: AuthData\n      };\n      var AuthError = checkAuthError(AuthData);\n      if (AuthError) return cb(AuthError);\n      if (AuthData.Authorization) {\n        cb(null, AuthData);\n      } else {\n        StsData = AuthData || {};\n        StsData.Scope = Scope;\n        StsData.ScopeKey = ScopeKey;\n        self._StsCache.push(StsData);\n        calcAuthByTmpKey();\n      }\n    });\n  } else if (self.options.getSTS) {\n    // 外部获取临时密钥\n    self.options.getSTS.call(self, {\n      Bucket: Bucket,\n      Region: Region\n    }, function (data) {\n      StsData = data || {};\n      StsData.Scope = Scope;\n      StsData.ScopeKey = ScopeKey;\n      if (!StsData.TmpSecretId) StsData.TmpSecretId = StsData.SecretId;\n      if (!StsData.TmpSecretKey) StsData.TmpSecretKey = StsData.SecretKey;\n      var AuthError = checkAuthError(StsData);\n      if (AuthError) return cb(AuthError);\n      self._StsCache.push(StsData);\n      calcAuthByTmpKey();\n    });\n  } else {\n    // 内部计算获取签名\n    return function () {\n      var KeyTime = '';\n      if (self.options.StartTime && params.Expires) {\n        if (self.options.StartTime.toString().length !== 10) {\n          return cb(util.error(new Error('params \"StartTime\" should be 10 digits')));\n        }\n        KeyTime = self.options.StartTime + ';' + (self.options.StartTime + params.Expires * 1);\n      } else if (self.options.StartTime && self.options.ExpiredTime) {\n        if (self.options.StartTime.toString().length !== 10) {\n          return cb(util.error(new Error('params \"StartTime\" should be 10 digits')));\n        }\n        if (self.options.ExpiredTime.toString().length !== 10) {\n          return cb(util.error(new Error('params \"ExpiredTime\" should be 10 digits')));\n        }\n        KeyTime = self.options.StartTime + ';' + self.options.ExpiredTime * 1;\n      }\n      var Authorization = util.getAuth({\n        SecretId: params.SecretId || self.options.SecretId,\n        SecretKey: params.SecretKey || self.options.SecretKey,\n        Method: params.Method,\n        Pathname: Pathname,\n        Query: params.Query,\n        Headers: headers,\n        Expires: params.Expires,\n        KeyTime: KeyTime,\n        UseRawKey: self.options.UseRawKey,\n        SystemClockOffset: self.options.SystemClockOffset,\n        ForceSignHost: forceSignHost\n      });\n      var AuthData = {\n        Authorization: Authorization,\n        SecurityToken: self.options.SecurityToken || self.options.XCosSecurityToken,\n        SignFrom: 'client'\n      };\n      cb(null, AuthData);\n      return AuthData;\n    }();\n  }\n  return '';\n}\n\n// 判断当前请求出错时能否重试\nfunction allowRetry(err) {\n  var self = this;\n  var canRetry = false;\n  var isTimeError = false;\n  var networkError = false;\n  var serverDate = err.headers && (err.headers.date || err.headers.Date) || err.error && err.error.ServerTime;\n  try {\n    var errorCode = err.error.Code;\n    var errorMessage = err.error.Message;\n    if (errorCode === 'RequestTimeTooSkewed' || errorCode === 'AccessDenied' && errorMessage === 'Request has expired') {\n      isTimeError = true;\n    }\n  } catch (e) {}\n  if (err) {\n    // 调整时间偏差\n    if (isTimeError && serverDate) {\n      var serverTime = Date.parse(serverDate);\n      if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\n        console.error('error: Local time is too skewed.');\n        this.options.SystemClockOffset = serverTime - Date.now();\n        canRetry = true;\n      }\n    } else if (Math.floor(err.statusCode / 100) === 5) {\n      canRetry = true;\n      networkError = false;\n    } else if (err.message === 'timeout') {\n      canRetry = true;\n      networkError = self.options.AutoSwitchHost;\n    } else if (err.message === 'CORS blocked or network error') {\n      // 跨域/网络错误都包含在内\n      canRetry = true;\n      networkError = self.options.AutoSwitchHost;\n    }\n  }\n  return {\n    canRetry: canRetry,\n    networkError: networkError\n  };\n}\n\n/**\n * requestUrl：请求的url，用于判断是否cos主域名，true才切\n * clientCalcSign：是否客户端计算签名，服务端返回的签名不能切，true才切\n * networkError：是否未知网络错误，true才切\n * */\nfunction canSwitchHost(_ref) {\n  var requestUrl = _ref.requestUrl,\n    clientCalcSign = _ref.clientCalcSign,\n    networkError = _ref.networkError;\n  if (!this.options.AutoSwitchHost) return false;\n  if (!requestUrl) return false;\n  if (!clientCalcSign) return false;\n  if (!networkError) return false;\n  var commonReg = /^https?:\\/\\/[^\\/]*\\.cos\\.[^\\/]*\\.myqcloud\\.com(\\/.*)?$/;\n  var accelerateReg = /^https?:\\/\\/[^\\/]*\\.cos\\.accelerate\\.myqcloud\\.com(\\/.*)?$/;\n  // 当前域名是cos主域名才切换\n  var isCommonCosHost = commonReg.test(requestUrl) && !accelerateReg.test(requestUrl);\n  return isCommonCosHost;\n}\n\n// 获取签名并发起请求\nfunction submitRequest(params, callback) {\n  var self = this;\n\n  // 处理 headers\n  !params.headers && (params.headers = {});\n\n  // 处理 query\n  !params.qs && (params.qs = {});\n  params.VersionId && (params.qs.versionId = params.VersionId);\n  params.qs = util.clearKey(params.qs);\n\n  // 清理 undefined 和 null 字段\n  params.headers && (params.headers = util.clearKey(params.headers));\n  params.qs && (params.qs = util.clearKey(params.qs));\n  var Query = util.clone(params.qs);\n  params.action && (Query[params.action] = '');\n\n  /**\n   * 手动传params.SignHost的场景：cos.getService、cos.getObjectUrl\n   * 手动传Url的场景：cos.request\n   */\n  var paramsUrl = params.url || params.Url;\n  var SignHost = params.SignHost || getSignHost.call(this, {\n    Bucket: params.Bucket,\n    Region: params.Region,\n    Url: paramsUrl\n  });\n  var tracker = params.tracker;\n  var _next = function next(tryTimes) {\n    var oldClockOffset = self.options.SystemClockOffset;\n    tracker && tracker.setParams({\n      signStartTime: new Date().getTime(),\n      httpRetryTimes: tryTimes - 1\n    });\n    if (params.SwitchHost) {\n      // 更换要签的host\n      SignHost = SignHost.replace(/myqcloud.com/, 'tencentcos.cn');\n    }\n    var logParams = _objectSpread(_objectSpread({}, params), {}, {\n      Query: Query,\n      SignHost: SignHost,\n      ForceSignHost: self.options.ForceSignHost\n    });\n    delete logParams.tracker;\n    self.logger.debug({\n      cate: 'PROCESS',\n      tag: 'base',\n      msg: \"\\u5F00\\u59CB\\u8BA1\\u7B97\\u7B7E\\u540D, opt=\".concat(JSON.stringify(logParams))\n    });\n    getAuthorizationAsync.call(self, {\n      Bucket: params.Bucket || '',\n      Region: params.Region || '',\n      Method: params.method,\n      Key: params.Key,\n      Query: Query,\n      Headers: params.headers,\n      SignHost: SignHost,\n      Action: params.Action,\n      ResourceKey: params.ResourceKey,\n      Scope: params.Scope,\n      ForceSignHost: self.options.ForceSignHost,\n      SwitchHost: params.SwitchHost\n    }, function (err, AuthData) {\n      if (err) {\n        self.logger.error({\n          cate: 'PROCESS',\n          tag: 'base',\n          msg: \"\\u7B7E\\u540D\\u83B7\\u53D6\\u5931\\u8D25, err=\".concat(JSON.stringify(err.message))\n        });\n        callback(err);\n        return;\n      }\n      tracker && tracker.setParams({\n        signEndTime: new Date().getTime(),\n        httpStartTime: new Date().getTime()\n      });\n      params.AuthData = AuthData;\n      self.logger.debug({\n        cate: 'PROCESS',\n        tag: 'base',\n        msg: \"\\u7B7E\\u540D\\u83B7\\u53D6\\u6210\\u529F\"\n      });\n      self.logger.info({\n        cate: 'PROCESS',\n        tag: 'base',\n        msg: \"\\u51C6\\u5907\\u53D1\\u8D77\\u8BF7\\u6C42\"\n      });\n      _submitRequest.call(self, params, function (err, data) {\n        tracker && tracker.setParams({\n          httpEndTime: new Date().getTime()\n        });\n        var canRetry = false;\n        var networkError = false;\n        if (err) {\n          var info = allowRetry.call(self, err);\n          canRetry = info.canRetry || oldClockOffset !== self.options.SystemClockOffset;\n          networkError = info.networkError;\n          self.logger.error({\n            cate: 'PROCESS',\n            tag: 'network',\n            msg: \"\\u8BF7\\u6C42\\u5931\\u8D25, err=\".concat(JSON.stringify(err), \", canRetry=\").concat(canRetry, \", networkError=\").concat(networkError, \", tryTimes=\").concat(tryTimes)\n          });\n        }\n        if (err && tryTimes < 4 && canRetry) {\n          if (params.headers) {\n            delete params.headers.Authorization;\n            delete params.headers['token'];\n            delete params.headers['clientIP'];\n            delete params.headers['clientUA'];\n            params.headers['x-cos-security-token'] && delete params.headers['x-cos-security-token'];\n            params.headers['x-ci-security-token'] && delete params.headers['x-ci-security-token'];\n          }\n          // 进入重试逻辑时 需判断是否需要切换cos备用域名\n          var switchHost = canSwitchHost.call(self, {\n            requestUrl: (err === null || err === void 0 ? void 0 : err.url) || '',\n            clientCalcSign: AuthData.SignFrom === 'client',\n            networkError: networkError\n          });\n          params.SwitchHost = switchHost;\n          // 重试时增加请求头\n          params.headers['x-cos-sdk-retry'] = true;\n          self.logger.info({\n            cate: 'PROCESS',\n            tag: 'base',\n            msg: \"\\u91CD\\u8BD5\\u8BF7\\u6C42, \\u91CD\\u8BD5\\u7B2C\".concat(tryTimes, \"\\u6B21\")\n          });\n          _next(tryTimes + 1);\n        } else {\n          self.logger.info({\n            cate: 'PROCESS',\n            tag: 'base',\n            msg: \"\\u8BF7\\u6C42\\u5B8C\\u6210\"\n          });\n          callback(err, data);\n        }\n      });\n    });\n  };\n  _next(1);\n}\n\n// 发起请求\nfunction _submitRequest(params, callback) {\n  var self = this;\n  var TaskId = params.TaskId;\n  if (TaskId && !self._isRunningTask(TaskId)) return;\n  var bucket = params.Bucket;\n  var region = params.Region;\n  var object = params.Key;\n  var method = params.method || 'GET';\n  var url = params.Url || params.url;\n  var body = params.body;\n  var rawBody = params.rawBody;\n\n  // url\n  if (self.options.UseAccelerate) {\n    region = 'accelerate';\n  }\n  url = url || getUrl({\n    ForcePathStyle: self.options.ForcePathStyle,\n    protocol: self.options.Protocol,\n    domain: self.options.Domain,\n    bucket: bucket,\n    region: region,\n    object: object\n  });\n  if (params.SwitchHost) {\n    // 更换请求的url\n    url = url.replace(/myqcloud.com/, 'tencentcos.cn');\n  }\n  var repoterUrl = object ? url : '';\n  if (params.action) {\n    // 已知问题，某些版本的qq会对url自动拼接（比如/upload被拼接成/upload=(null)）导致签名错误，这里做下兼容。\n    url = url + '?' + (util.isIOS_QQ ? \"\".concat(params.action, \"=\") : params.action);\n  }\n  if (params.qsStr) {\n    if (url.indexOf('?') > -1) {\n      url = url + '&' + params.qsStr;\n    } else {\n      url = url + '?' + params.qsStr;\n    }\n  }\n  var opt = {\n    method: method,\n    url: url,\n    headers: params.headers,\n    qs: params.qs,\n    body: body\n  };\n\n  // 兼容ci接口\n  var token = 'x-cos-security-token';\n  if (util.isCIHost(url)) {\n    token = 'x-ci-security-token';\n  }\n\n  // 获取签名\n  opt.headers.Authorization = params.AuthData.Authorization;\n  params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\n  params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\n  params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\n  params.AuthData.SecurityToken && (opt.headers[token] = params.AuthData.SecurityToken);\n  params.Action && (opt.action = params.Action);\n  opt.key = params.Key || params.ResourceKey;\n\n  // 清理 undefined 和 null 字段\n  opt.headers && (opt.headers = util.clearKey(opt.headers));\n  opt = util.clearKey(opt);\n\n  // progress\n  if (params.onProgress && typeof params.onProgress === 'function') {\n    var contentLength = body && (body.size || body.length) || 0;\n    opt.onProgress = function (e) {\n      if (TaskId && !self._isRunningTask(TaskId)) return;\n      var loaded = e ? e.loaded : 0;\n      params.onProgress({\n        loaded: loaded,\n        total: contentLength\n      });\n    };\n  }\n  if (params.onDownloadProgress) {\n    opt.onDownloadProgress = params.onDownloadProgress;\n  }\n  if (params.DataType) {\n    opt.dataType = params.DataType;\n  }\n  if (this.options.Timeout) {\n    opt.timeout = this.options.Timeout;\n  }\n  self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\n  var requestUid = util.uuid();\n  self.logger.info({\n    cate: 'PROCESS',\n    tag: 'network',\n    msg: \"[Request] \".concat(requestUid, \", requestOpt=\").concat(JSON.stringify(opt))\n  });\n  self.emit('before-send', opt);\n  var useAccelerate = opt.url.includes('accelerate.');\n  var queryString = opt.qs ? Object.keys(opt.qs).map(function (key) {\n    return \"\".concat(key, \"=\").concat(opt.qs[key]);\n  }).join('&') : '';\n  var fullUrl = queryString ? opt.url + '?' + queryString : opt.url;\n  if (params.tracker) {\n    var _opt$body;\n    params.tracker.setParams({\n      url: fullUrl,\n      httpMethod: opt.method,\n      accelerate: useAccelerate,\n      httpSize: ((_opt$body = opt.body) === null || _opt$body === void 0 ? void 0 : _opt$body.size) || 0\n    });\n    // 分块上传时给父级tracker设置url信息\n    if (params.tracker.parent && !params.tracker.parent.params.url) {\n      params.tracker.parent.setParams({\n        url: repoterUrl,\n        accelerate: useAccelerate\n      });\n    }\n  }\n  var sender = (self.options.Request || REQUEST)(opt, function (r) {\n    if (r && r.error === 'abort') return;\n    var receive = {\n      options: opt,\n      error: r && r.error,\n      statusCode: r && r.statusCode || 0,\n      statusMessage: r && r.statusMessage || '',\n      headers: r && r.headers || {},\n      body: r && r.body\n    };\n    // 抛出事件，允许修改返回值的 error、statusCode、statusMessage、body\n    self.emit('after-receive', receive);\n    var err = receive.error;\n    var body = receive.body;\n    // 返回内容添加 状态码 和 headers\n    var response = {\n      statusCode: receive.statusCode,\n      statusMessage: receive.statusMessage,\n      headers: receive.headers\n    };\n    var result = err ? '[error]' : '[success]';\n    self.logger.info({\n      cate: 'PROCESS',\n      tag: 'network',\n      msg: \"[Response] \".concat(requestUid, \", \").concat(result, \", response=\").concat(JSON.stringify(response))\n    });\n    var hasReturned;\n    var cb = function cb(err, data) {\n      TaskId && self.off('inner-kill-task', _killTask);\n      if (hasReturned) return;\n      hasReturned = true;\n      var attrs = {};\n      response && response.statusCode && (attrs.statusCode = response.statusCode);\n      response && response.headers && (attrs.headers = response.headers);\n      if (err) {\n        opt.url && (attrs.url = opt.url);\n        opt.method && (attrs.method = opt.method);\n        err = util.extend(err || {}, attrs);\n        callback(err, null);\n      } else {\n        // putObject 返回回调处理\n        if (params.Action === 'name/cos:PutObject') {\n          var pHeaders = {};\n          for (var i in params.headers) {\n            var key = i.toLowerCase();\n            pHeaders[key] = params.headers[i];\n          }\n          if (pHeaders['x-cos-callback']) {\n            if (data.Error) {\n              data.CallbackError = util.clone(data.Error);\n              delete data.Error;\n            } else {\n              data.CallbackBody = util.clone(data);\n            }\n          } else if (pHeaders['x-cos-return-body']) {\n            if (data.Error) {\n              data.ReturnError = util.clone(data.Error);\n              delete data.Error;\n            } else {\n              data.ReturnBody = util.clone(data);\n            }\n          }\n        }\n        data = util.extend(data || {}, attrs);\n        callback(null, data);\n      }\n      sender = null;\n    };\n\n    // 请求错误，发生网络错误\n    if (err) return cb(util.error(err));\n\n    // 请求返回码不为 200\n    var statusCode = response.statusCode;\n    var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\n\n    // 不对 body 进行转换，body 直接挂载返回\n    if (rawBody) {\n      if (statusSuccess) {\n        return cb(null, {\n          body: body\n        });\n      } else {\n        // 兼容报错时返回了 blob，需要解析成 string\n        if (body instanceof Blob) {\n          util.readAsBinaryString(body, function (content) {\n            var json = util.parseResBody(content);\n            var errorBody = json.Error || json;\n            return cb(util.error(new Error(errorBody.Message || 'response body error'), {\n              code: errorBody.Code,\n              error: errorBody\n            }));\n          });\n          return;\n        }\n      }\n    }\n\n    // 解析body，兼容 xml、json，解析失败时完整返回\n    var json = util.parseResBody(body);\n\n    // 处理返回值\n    var errorBody = json.Error || json;\n    if (statusSuccess) {\n      // 正确返回，状态码 2xx 时，body 不会有 Error\n      cb(null, json);\n    } else if (errorBody) {\n      // 正常返回了 xml body，且有 Error 节点\n      cb(util.error(new Error(errorBody.Message), {\n        code: errorBody.Code,\n        error: errorBody\n      }));\n    } else if (statusCode) {\n      // 有错误的状态码\n      cb(util.error(new Error(response.statusMessage), {\n        code: '' + statusCode\n      }));\n    } else if (statusCode) {\n      // 无状态码，或者获取不到状态码\n      cb(util.error(new Error('statusCode error')));\n    }\n  });\n\n  // kill task\n  var _killTask = function killTask(data) {\n    if (data.TaskId === TaskId) {\n      sender && sender.abort && sender.abort();\n      self.off('inner-kill-task', _killTask);\n    }\n  };\n  TaskId && self.on('inner-kill-task', _killTask);\n}\nvar API_MAP = {\n  // Bucket 相关方法\n  getService: getService,\n  // Bucket\n  putBucket: putBucket,\n  headBucket: headBucket,\n  // Bucket\n  getBucket: getBucket,\n  deleteBucket: deleteBucket,\n  putBucketAcl: putBucketAcl,\n  // BucketACL\n  getBucketAcl: getBucketAcl,\n  putBucketCors: putBucketCors,\n  // BucketCors\n  getBucketCors: getBucketCors,\n  deleteBucketCors: deleteBucketCors,\n  getBucketLocation: getBucketLocation,\n  // BucketLocation\n  getBucketPolicy: getBucketPolicy,\n  // BucketPolicy\n  putBucketPolicy: putBucketPolicy,\n  deleteBucketPolicy: deleteBucketPolicy,\n  putBucketTagging: putBucketTagging,\n  // BucketTagging\n  getBucketTagging: getBucketTagging,\n  deleteBucketTagging: deleteBucketTagging,\n  putBucketLifecycle: putBucketLifecycle,\n  // BucketLifecycle\n  getBucketLifecycle: getBucketLifecycle,\n  deleteBucketLifecycle: deleteBucketLifecycle,\n  putBucketVersioning: putBucketVersioning,\n  // BucketVersioning\n  getBucketVersioning: getBucketVersioning,\n  putBucketReplication: putBucketReplication,\n  // BucketReplication\n  getBucketReplication: getBucketReplication,\n  deleteBucketReplication: deleteBucketReplication,\n  putBucketWebsite: putBucketWebsite,\n  // BucketWebsite\n  getBucketWebsite: getBucketWebsite,\n  deleteBucketWebsite: deleteBucketWebsite,\n  putBucketReferer: putBucketReferer,\n  // BucketReferer\n  getBucketReferer: getBucketReferer,\n  putBucketDomain: putBucketDomain,\n  // BucketDomain\n  getBucketDomain: getBucketDomain,\n  deleteBucketDomain: deleteBucketDomain,\n  putBucketOrigin: putBucketOrigin,\n  // BucketOrigin\n  getBucketOrigin: getBucketOrigin,\n  deleteBucketOrigin: deleteBucketOrigin,\n  putBucketLogging: putBucketLogging,\n  // BucketLogging\n  getBucketLogging: getBucketLogging,\n  putBucketInventory: putBucketInventory,\n  // BucketInventory\n  postBucketInventory: postBucketInventory,\n  getBucketInventory: getBucketInventory,\n  listBucketInventory: listBucketInventory,\n  deleteBucketInventory: deleteBucketInventory,\n  putBucketAccelerate: putBucketAccelerate,\n  getBucketAccelerate: getBucketAccelerate,\n  putBucketEncryption: putBucketEncryption,\n  getBucketEncryption: getBucketEncryption,\n  deleteBucketEncryption: deleteBucketEncryption,\n  // Object 相关方法\n  getObject: getObject,\n  headObject: headObject,\n  listObjectVersions: listObjectVersions,\n  putObject: putObject,\n  deleteObject: deleteObject,\n  getObjectAcl: getObjectAcl,\n  putObjectAcl: putObjectAcl,\n  optionsObject: optionsObject,\n  putObjectCopy: putObjectCopy,\n  deleteMultipleObject: deleteMultipleObject,\n  restoreObject: restoreObject,\n  putObjectTagging: putObjectTagging,\n  getObjectTagging: getObjectTagging,\n  deleteObjectTagging: deleteObjectTagging,\n  selectObjectContent: selectObjectContent,\n  appendObject: appendObject,\n  // 分块上传相关方法\n  uploadPartCopy: uploadPartCopy,\n  multipartInit: multipartInit,\n  multipartUpload: multipartUpload,\n  multipartComplete: multipartComplete,\n  multipartList: multipartList,\n  multipartListPart: multipartListPart,\n  multipartAbort: multipartAbort,\n  // 工具方法\n  request: request,\n  getObjectUrl: getObjectUrl,\n  getAuth: getAuth\n};\nfunction warnOldApi(apiName, fn, proto) {\n  util.each(['Cors', 'Acl'], function (suffix) {\n    if (apiName.slice(-suffix.length) === suffix) {\n      var oldName = apiName.slice(0, -suffix.length) + suffix.toUpperCase();\n      var apiFn = util.apiWrapper(apiName, fn);\n      var warned = false;\n      proto[oldName] = function () {\n        !warned && console.warn('warning: cos.' + oldName + ' has been deprecated. Please Use cos.' + apiName + ' instead.');\n        warned = true;\n        apiFn.apply(this, arguments);\n      };\n    }\n  });\n}\nmodule.exports.init = function (COS, task) {\n  task.transferToTaskMethod(API_MAP, 'putObject');\n  util.each(API_MAP, function (fn, apiName) {\n    COS.prototype[apiName] = util.apiWrapper(apiName, fn);\n    warnOldApi(apiName, fn, COS.prototype);\n  });\n};\n\n/***/ }),\n\n/***/ \"./src/cos.js\":\n/*!********************!*\\\n  !*** ./src/cos.js ***!\n  \\********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\nvar event = __webpack_require__(/*! ./event */ \"./src/event.js\");\nvar task = __webpack_require__(/*! ./task */ \"./src/task.js\");\nvar base = __webpack_require__(/*! ./base */ \"./src/base.js\");\nvar advance = __webpack_require__(/*! ./advance */ \"./src/advance.js\");\nvar Logger = __webpack_require__(/*! ./logger */ \"./src/logger.js\");\nvar pkg = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar defaultOptions = {\n  AppId: '',\n  // AppId 已废弃，请拼接到 Bucket 后传入，例如：test-1250000000\n  SecretId: '',\n  SecretKey: '',\n  SecurityToken: '',\n  // 使用临时密钥需要注意自行刷新 Token\n  StartTime: 0,\n  // 临时密钥返回起始时间\n  ExpiredTime: 0,\n  // 临时密钥过期时间\n  ChunkRetryTimes: 2,\n  FileParallelLimit: 3,\n  ChunkParallelLimit: 3,\n  ChunkSize: 1024 * 1024,\n  SliceSize: 1024 * 1024,\n  CopyChunkParallelLimit: 20,\n  CopyChunkSize: 1024 * 1024 * 10,\n  CopySliceSize: 1024 * 1024 * 10,\n  MaxPartNumber: 10000,\n  ProgressInterval: 1000,\n  Domain: '',\n  ServiceDomain: '',\n  Protocol: '',\n  CompatibilityMode: false,\n  ForcePathStyle: false,\n  UseRawKey: false,\n  Timeout: 0,\n  // 单位毫秒，0 代表不设置超时时间\n  CorrectClockSkew: true,\n  SystemClockOffset: 0,\n  // 单位毫秒，ms\n  UploadCheckContentMd5: false,\n  UploadQueueSize: 10000,\n  UploadAddMetaMd5: false,\n  UploadIdCacheLimit: 50,\n  UseAccelerate: false,\n  ForceSignHost: true,\n  // 默认将host加入签名计算，关闭后可能导致越权风险，建议保持为true\n  AutoSwitchHost: true,\n  CopySourceParser: null,\n  // 自定义拷贝源解析器\n  ObjectKeySimplifyCheck: true,\n  // 开启合并校验 getObject Key\n  /** 上报相关 **/\n  DeepTracker: false,\n  // 上报时是否对每个分块上传做单独上报\n  TrackerDelay: 5000,\n  // 周期性上报，单位毫秒。0代表实时上报\n  CustomId: '',\n  // 自定义上报id\n  BeaconReporter: null,\n  // 灯塔上报组件，如有需要请自行传入，传入即代表开启上报\n  ClsReporter: null,\n  // cls 上报组件，如有需要请自行传入，传入即代表开启上报\n  // 日志相关\n  EnableLog: false,\n  // 是否开启日志\n  EnableLogcat: false,\n  // 是否开启控制台日志打印\n  LogLevel: 'VERBOSE',\n  // 日志级别，支持 VERBOSE、DEBUG、INFO、WARN、ERROR，默认为 VERBOSE\n  ClsLogger: null,\n  // 日志上报到 cls 组件\n  LogExtras: {} // 日志上报时，附带的额外信息，例如：{deviceID: '', userID: ''}\n};\n\n// 对外暴露的类\nvar COS = function COS(options) {\n  var _this$options$LogLeve,\n    _this$options$LogExtr,\n    _this = this;\n  this.options = util.extend(util.clone(defaultOptions), options || {});\n  this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\n  this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\n  this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\n  this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\n  this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\n  this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\n  this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\n  this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\n  this.options.Timeout = Math.max(0, this.options.Timeout);\n  this.options.EnableReporter = this.options.BeaconReporter || this.options.ClsReporter;\n  if (this.options.AppId) {\n    console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\n  }\n  if (this.options.SecretId && this.options.SecretId.indexOf(' ') > -1) {\n    console.error('error: SecretId格式错误，请检查');\n    console.error('error: SecretId format is incorrect. Please check');\n  }\n  if (this.options.SecretKey && this.options.SecretKey.indexOf(' ') > -1) {\n    console.error('error: SecretKey格式错误，请检查');\n    console.error('error: SecretKey format is incorrect. Please check');\n  }\n  if (util.isNode()) {\n    console.log('Tip: Next.js、Nuxt.js 等服务端渲染技术可正常使用JavaScript SDK，请忽略下方 nodejs 环境警告');\n    console.warn('warning: cos-js-sdk-v5 不支持 nodejs 环境使用，请改用 cos-nodejs-sdk-v5，参考文档： https://cloud.tencent.com/document/product/436/8629');\n    console.warn('warning: cos-js-sdk-v5 does not support nodejs environment. Please use cos-nodejs-sdk-v5 instead. See: https://cloud.tencent.com/document/product/436/8629');\n  }\n  if (this.options.ForcePathStyle) {\n    console.warn('cos-js-sdk-v5不再支持使用path-style，仅支持使用virtual-hosted-style，参考文档：https://cloud.tencent.com/document/product/436/96243');\n    throw new Error('ForcePathStyle is not supported');\n  }\n  event.init(this);\n  task.init(this);\n  // 初始化日志模块\n  this.logger = new Logger({\n    enableLog: this.options.EnableLog,\n    enableLogcat: this.options.EnableLogcat,\n    level: (_this$options$LogLeve = this.options.LogLevel) !== null && _this$options$LogLeve !== void 0 ? _this$options$LogLeve : 'VERBOSE',\n    clsLogger: this.options.ClsLogger,\n    logExtras: (_this$options$LogExtr = this.options.LogExtras) !== null && _this$options$LogExtr !== void 0 ? _this$options$LogExtr : {}\n  });\n  if (this.options.EnableLog) {\n    event.init(this.logger);\n    this.logger.on('log-message', function (data) {\n      _this.emit('log-message', data);\n    });\n  }\n};\nbase.init(COS, task);\nadvance.init(COS, task);\nCOS.util = {\n  md5: util.md5,\n  xml2json: util.xml2json,\n  json2xml: util.json2xml,\n  encodeBase64: util.encodeBase64\n};\nCOS.getAuthorization = util.getAuth;\nCOS.version = pkg.version;\nmodule.exports = COS;\n\n/***/ }),\n\n/***/ \"./src/event.js\":\n/*!**********************!*\\\n  !*** ./src/event.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nvar initEvent = function initEvent(cos) {\n  var listeners = {};\n  var getList = function getList(action) {\n    !listeners[action] && (listeners[action] = []);\n    return listeners[action];\n  };\n  cos.on = function (action, callback) {\n    if (action === 'task-list-update') {\n      console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\n    }\n    getList(action).push(callback);\n  };\n  cos.off = function (action, callback) {\n    var list = getList(action);\n    for (var i = list.length - 1; i >= 0; i--) {\n      callback === list[i] && list.splice(i, 1);\n    }\n  };\n  cos.emit = function (action, data) {\n    var list = getList(action).map(function (cb) {\n      return cb;\n    });\n    for (var i = 0; i < list.length; i++) {\n      list[i](data);\n    }\n  };\n};\nvar EventProxy = function EventProxy() {\n  initEvent(this);\n};\nmodule.exports.init = initEvent;\nmodule.exports.EventProxy = EventProxy;\n\n/***/ }),\n\n/***/ \"./src/logger.js\":\n/*!***********************!*\\\n  !*** ./src/logger.js ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _classCallCheck = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\nvar _createClass = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\nvar _defineProperty = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\nvar pkg = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar pkgVersion = pkg.version;\nvar logLevelList = ['VERBOSE', 'DEBUG', 'INFO', 'WARN', 'ERROR'];\nvar Logger = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function Logger(params) {\n    var _params$enableLog;\n    _classCallCheck(this, Logger);\n    _defineProperty(this, \"level\", 'VERBOSE');\n    // VERBOSE | DEBUG | INFO | WARN | ERROR 按日志等级排序\n    _defineProperty(this, \"clsLogger\", null);\n    _defineProperty(this, \"logExtras\", {});\n    this.enableLog = (_params$enableLog = params.enableLog) !== null && _params$enableLog !== void 0 ? _params$enableLog : false;\n    this.level = params.level || 'VERBOSE';\n    if (!logLevelList.includes(this.level)) {\n      this.level = 'VERBOSE';\n    }\n    this.enableLogcat = params.enableLogcat;\n    this.clsLogger = params.clsLogger;\n    this.logExtras = params.logExtras;\n  }\n  return _createClass(Logger, [{\n    key: \"info\",\n    value: function info() {\n      if (['VERBOSE', 'INFO'].includes(this.level)) {\n        for (var _len = arguments.length, msg = new Array(_len), _key = 0; _key < _len; _key++) {\n          msg[_key] = arguments[_key];\n        }\n        this.log.apply(this, ['info'].concat(msg));\n      }\n    }\n  }, {\n    key: \"debug\",\n    value: function debug() {\n      if (['VERBOSE', 'DEBUG'].includes(this.level)) {\n        for (var _len2 = arguments.length, msg = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          msg[_key2] = arguments[_key2];\n        }\n        this.log.apply(this, ['debug'].concat(msg));\n      }\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      if (['VERBOSE', 'WARN'].includes(this.level)) {\n        for (var _len3 = arguments.length, msg = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n          msg[_key3] = arguments[_key3];\n        }\n        this.log.apply(this, ['warn'].concat(msg));\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      if (['VERBOSE', 'ERROR'].includes(this.level)) {\n        for (var _len4 = arguments.length, msg = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n          msg[_key4] = arguments[_key4];\n        }\n        this.log.apply(this, ['error'].concat(msg));\n      }\n    }\n    /**\n     * 参数结构 {\n     *  timestamp: '2021-08-16T06:51:27.781Z',\n     *  cate: 'PROCESS',\n     *  tag: 'network',\n     *  msg: {}\n     * */\n  }, {\n    key: \"log\",\n    value: function log() {\n      if (!this.enableLog) {\n        return;\n      }\n      var type = arguments.length <= 0 ? undefined : arguments[0];\n      var _ref = arguments.length <= 1 ? undefined : arguments[1],\n        _ref$cate = _ref.cate,\n        cate = _ref$cate === void 0 ? 'base' : _ref$cate,\n        _ref$tag = _ref.tag,\n        tag = _ref$tag === void 0 ? 'base' : _ref$tag,\n        msg = _ref.msg;\n      var logMsg = {\n        version: \"cos-js-sdk-v5-\".concat(pkgVersion),\n        timestamp: new Date().toISOString(),\n        cate: \"[\".concat(cate.toUpperCase(), \"]\"),\n        tag: \"[\".concat(tag.toUpperCase(), \"]\"),\n        msg: msg,\n        extras: this.logExtras\n      };\n      // 日志输出到控制台\n      if (this.enableLogcat) {\n        console[type](\"[\".concat(logMsg.version, \"] \").concat(logMsg.timestamp, \" \").concat(logMsg.cate, \" \").concat(logMsg.tag, \" \").concat(logMsg.msg, \" \").concat(logMsg.extras ? JSON.stringify(logMsg.extras) : ''));\n      }\n      // 日志上报到 cls\n      if (this.clsLogger) {\n        this.clsLogger.log(logMsg, false);\n      }\n      // 日志回调\n      this.emit('log-message', logMsg);\n    }\n  }]);\n}();\nmodule.exports = Logger;\n\n/***/ }),\n\n/***/ \"./src/session.js\":\n/*!************************!*\\\n  !*** ./src/session.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\n\n// 按照文件特征值，缓存 UploadId\nvar cacheKey = 'cos_sdk_upload_cache';\nvar expires = 30 * 24 * 3600;\nvar cache;\nvar timer;\nvar getCache = function getCache() {\n  try {\n    var val = JSON.parse(localStorage.getItem(cacheKey));\n  } catch (e) {}\n  if (!val) val = [];\n  cache = val;\n};\nvar setCache = function setCache() {\n  try {\n    if (cache.length) localStorage.setItem(cacheKey, JSON.stringify(cache));else localStorage.removeItem(cacheKey);\n  } catch (e) {}\n};\nvar init = function init() {\n  if (cache) return;\n  getCache.call(this);\n  // 清理太老旧的数据\n  var changed = false;\n  var now = Math.round(Date.now() / 1000);\n  for (var i = cache.length - 1; i >= 0; i--) {\n    var mtime = cache[i][2];\n    if (!mtime || mtime + expires < now) {\n      cache.splice(i, 1);\n      changed = true;\n    }\n  }\n  changed && setCache();\n};\n\n// 把缓存存到本地\nvar save = function save() {\n  if (timer) return;\n  timer = setTimeout(function () {\n    setCache();\n    timer = null;\n  }, 400);\n};\nvar mod = {\n  using: {},\n  // 标记 UploadId 正在使用\n  setUsing: function setUsing(uuid) {\n    mod.using[uuid] = true;\n  },\n  // 标记 UploadId 已经没在使用\n  removeUsing: function removeUsing(uuid) {\n    delete mod.using[uuid];\n  },\n  // 用上传参数生成哈希值\n  getFileId: function getFileId(file, ChunkSize, Bucket, Key) {\n    if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\n      return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize, Bucket, Key].join('::'));\n    } else {\n      return null;\n    }\n  },\n  // 用上传参数生成哈希值\n  getCopyFileId: function getCopyFileId(copySource, sourceHeaders, ChunkSize, Bucket, Key) {\n    var size = sourceHeaders['content-length'];\n    var etag = sourceHeaders.etag || '';\n    var lastModified = sourceHeaders['last-modified'];\n    if (copySource && ChunkSize) {\n      return util.md5([copySource, size, etag, lastModified, ChunkSize, Bucket, Key].join('::'));\n    } else {\n      return null;\n    }\n  },\n  // 获取文件对应的 UploadId 列表\n  getUploadIdList: function getUploadIdList(uuid) {\n    if (!uuid) return null;\n    init.call(this);\n    var list = [];\n    for (var i = 0; i < cache.length; i++) {\n      if (cache[i][0] === uuid) list.push(cache[i][1]);\n    }\n    return list.length ? list : null;\n  },\n  // 缓存 UploadId\n  saveUploadId: function saveUploadId(uuid, UploadId, limit) {\n    init.call(this);\n    if (!uuid) return;\n    // 清理没用的 UploadId，js 文件没有 FilePath ，只清理相同记录\n    for (var i = cache.length - 1; i >= 0; i--) {\n      var item = cache[i];\n      if (item[0] === uuid && item[1] === UploadId) {\n        cache.splice(i, 1);\n      }\n    }\n    cache.unshift([uuid, UploadId, Math.round(Date.now() / 1000)]);\n    if (cache.length > limit) cache.splice(limit);\n    save();\n  },\n  // UploadId 已用完，移除掉\n  removeUploadId: function removeUploadId(UploadId) {\n    init.call(this);\n    delete mod.using[UploadId];\n    for (var i = cache.length - 1; i >= 0; i--) {\n      if (cache[i][1] === UploadId) cache.splice(i, 1);\n    }\n    save();\n  }\n};\nmodule.exports = mod;\n\n/***/ }),\n\n/***/ \"./src/task.js\":\n/*!*********************!*\\\n  !*** ./src/task.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar session = __webpack_require__(/*! ./session */ \"./src/session.js\");\nvar util = __webpack_require__(/*! ./util */ \"./src/util.js\");\nvar originApiMap = {};\nvar transferToTaskMethod = function transferToTaskMethod(apiMap, apiName) {\n  originApiMap[apiName] = apiMap[apiName];\n  apiMap[apiName] = function (params, callback) {\n    if (params.SkipTask) {\n      originApiMap[apiName].call(this, params, callback);\n    } else {\n      this._addTask(apiName, params, callback);\n    }\n  };\n};\nvar initTask = function initTask(cos) {\n  var queue = [];\n  var tasks = {};\n  var uploadingFileCount = 0;\n  var nextUploadIndex = 0;\n\n  // 接口返回简略的任务信息\n  var formatTask = function formatTask(task) {\n    var t = {\n      id: task.id,\n      Bucket: task.Bucket,\n      Region: task.Region,\n      Key: task.Key,\n      FilePath: task.FilePath,\n      state: task.state,\n      loaded: task.loaded,\n      size: task.size,\n      speed: task.speed,\n      percent: task.percent,\n      hashPercent: task.hashPercent,\n      error: task.error\n    };\n    if (task.FilePath) t.FilePath = task.FilePath;\n    if (task._custom) t._custom = task._custom; // 控制台使用\n    return t;\n  };\n  var emitListUpdate = function () {\n    var timer;\n    var emit = function emit() {\n      timer = 0;\n      cos.emit('task-list-update', {\n        list: util.map(queue, formatTask)\n      });\n      cos.emit('list-update', {\n        list: util.map(queue, formatTask)\n      });\n    };\n    return function () {\n      if (!timer) timer = setTimeout(emit);\n    };\n  }();\n  var clearQueue = function clearQueue() {\n    if (queue.length <= cos.options.UploadQueueSize) return;\n    for\n\n      // 如果还太多，才继续清理\n    (var i = 0; i < nextUploadIndex &&\n    // 小于当前操作的 index 才清理\n    i < queue.length &&\n    // 大于队列才清理\n    queue.length > cos.options.UploadQueueSize;) {\n      var isActive = queue[i].state === 'waiting' || queue[i].state === 'checking' || queue[i].state === 'uploading';\n      if (!queue[i] || !isActive) {\n        tasks[queue[i].id] && delete tasks[queue[i].id];\n        queue.splice(i, 1);\n        nextUploadIndex--;\n      } else {\n        i++;\n      }\n    }\n    emitListUpdate();\n  };\n  var _startNextTask = function startNextTask() {\n    // 检查是否允许增加执行进程\n    if (uploadingFileCount >= cos.options.FileParallelLimit) return;\n    // 跳过不可执行的任务\n    while (queue[nextUploadIndex] && queue[nextUploadIndex].state !== 'waiting') nextUploadIndex++;\n    // 检查是否已遍历结束\n    if (nextUploadIndex >= queue.length) return;\n    // 上传该遍历到的任务\n    var task = queue[nextUploadIndex];\n    nextUploadIndex++;\n    uploadingFileCount++;\n    task.state = 'checking';\n    task.params.onTaskStart && task.params.onTaskStart(formatTask(task));\n    !task.params.UploadData && (task.params.UploadData = {});\n    var apiParams = util.formatParams(task.api, task.params);\n    originApiMap[task.api].call(cos, apiParams, function (err, data) {\n      if (!cos._isRunningTask(task.id)) return;\n      if (task.state === 'checking' || task.state === 'uploading') {\n        task.state = err ? 'error' : 'success';\n        err && (task.error = err);\n        uploadingFileCount--;\n        emitListUpdate();\n        _startNextTask();\n        task.callback && task.callback(err, data);\n        if (task.state === 'success') {\n          if (task.params) {\n            delete task.params.UploadData;\n            delete task.params.Body;\n            delete task.params;\n          }\n          delete task.callback;\n        }\n      }\n      clearQueue();\n    });\n    emitListUpdate();\n    // 异步执行下一个任务\n    setTimeout(_startNextTask);\n  };\n  var killTask = function killTask(id, switchToState) {\n    var task = tasks[id];\n    if (!task) return;\n    var waiting = task && task.state === 'waiting';\n    var running = task && (task.state === 'checking' || task.state === 'uploading');\n    if (switchToState === 'canceled' && task.state !== 'canceled' || switchToState === 'paused' && waiting || switchToState === 'paused' && running) {\n      task.state = switchToState;\n      cos.emit('inner-kill-task', {\n        TaskId: id,\n        toState: switchToState\n      });\n      try {\n        var UploadId = task && task.params && task.params.UploadData.UploadId;\n      } catch (e) {}\n      if (switchToState === 'canceled' && UploadId) session.removeUsing(UploadId);\n      emitListUpdate();\n      if (running) {\n        uploadingFileCount--;\n        _startNextTask();\n      }\n      if (switchToState === 'canceled') {\n        if (task.params) {\n          delete task.params.UploadData;\n          delete task.params.Body;\n          delete task.params;\n        }\n        delete task.callback;\n      }\n    }\n    clearQueue();\n  };\n  cos._addTasks = function (taskList) {\n    util.each(taskList, function (task) {\n      cos._addTask(task.api, task.params, task.callback, true);\n    });\n    emitListUpdate();\n  };\n  var isTaskReadyWarning = true;\n  cos._addTask = function (api, params, callback, ignoreAddEvent) {\n    // 复制参数对象\n    params = util.formatParams(api, params);\n\n    // 生成 id\n    var id = util.uuid();\n    params.TaskId = id;\n    params.onTaskReady && params.onTaskReady(id);\n    if (params.TaskReady) {\n      params.TaskReady(id);\n      isTaskReadyWarning && console.warn('warning: Param \"TaskReady\" has been deprecated. Please use \"onTaskReady\" instead.');\n      isTaskReadyWarning = false;\n    }\n    var task = {\n      // env\n      params: params,\n      callback: callback,\n      api: api,\n      index: queue.length,\n      // task\n      id: id,\n      Bucket: params.Bucket,\n      Region: params.Region,\n      Key: params.Key,\n      FilePath: params.FilePath || '',\n      state: 'waiting',\n      loaded: 0,\n      size: 0,\n      speed: 0,\n      percent: 0,\n      hashPercent: 0,\n      error: null,\n      _custom: params._custom\n    };\n    var onHashProgress = params.onHashProgress;\n    params.onHashProgress = function (info) {\n      if (!cos._isRunningTask(task.id)) return;\n      task.hashPercent = info.percent;\n      onHashProgress && onHashProgress(info);\n      emitListUpdate();\n    };\n    var onProgress = params.onProgress;\n    params.onProgress = function (info) {\n      if (!cos._isRunningTask(task.id)) return;\n      task.state === 'checking' && (task.state = 'uploading');\n      task.loaded = info.loaded;\n      task.speed = info.speed;\n      task.percent = info.percent;\n      onProgress && onProgress(info);\n      emitListUpdate();\n    };\n\n    // 异步获取 filesize\n    util.getFileSize(api, params, function (err, size) {\n      // 开始处理上传\n      if (err) return callback(util.error(err)); // 如果获取大小出错，不加入队列\n      // 获取完文件大小再把任务加入队列\n      tasks[id] = task;\n      queue.push(task);\n      task.size = size;\n      !ignoreAddEvent && emitListUpdate();\n      _startNextTask();\n      clearQueue();\n    });\n    return id;\n  };\n  cos._isRunningTask = function (id) {\n    var task = tasks[id];\n    return !!(task && (task.state === 'checking' || task.state === 'uploading'));\n  };\n  cos.getTaskList = function () {\n    return util.map(queue, formatTask);\n  };\n  cos.cancelTask = function (id) {\n    killTask(id, 'canceled');\n  };\n  cos.pauseTask = function (id) {\n    killTask(id, 'paused');\n  };\n  cos.restartTask = function (id) {\n    var task = tasks[id];\n    if (task && (task.state === 'paused' || task.state === 'error')) {\n      task.state = 'waiting';\n      emitListUpdate();\n      nextUploadIndex = Math.min(nextUploadIndex, task.index);\n      _startNextTask();\n    }\n  };\n  cos.isUploadRunning = function () {\n    return uploadingFileCount || nextUploadIndex < queue.length;\n  };\n};\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\nmodule.exports.init = initTask;\n\n/***/ }),\n\n/***/ \"./src/tracker.js\":\n/*!************************!*\\\n  !*** ./src/tracker.js ***!\n  \\************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _classCallCheck = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\nvar _createClass = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\nvar pkg = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar beacon = null;\nvar getBeacon = function getBeacon(Beacon, delay) {\n  if (!beacon) {\n    // 生成 beacon\n    if (typeof Beacon !== 'function') {\n      throw new Error('Beacon not found');\n    }\n    beacon = new Beacon({\n      appkey: '0WEB05PY6MHRGK0U',\n      versionCode: pkg.version,\n      channelID: 'js_sdk',\n      //渠道,选填\n      openid: 'openid',\n      // 用户id, 选填\n      unionid: 'unid',\n      //用户unionid , 类似idfv,选填\n      strictMode: false,\n      //严苛模式开关, 打开严苛模式会主动抛出异常, 上线请务必关闭!!!\n      delay: delay,\n      // 普通事件延迟上报时间(单位毫秒), 默认1000(1秒),选填\n      sessionDuration: 60 * 1000 // session变更的时间间隔, 一个用户持续30分钟(默认值)没有任何上报则算另一次 session,每变更一次session上报一次启动事件(rqd_applaunched),使用毫秒(ms),最小值30秒,选填\n    });\n  }\n  return beacon;\n};\n\n// 毫秒转秒\nvar ms2s = function ms2s(ms) {\n  if (!ms || ms < 0) return 0;\n  return (ms / 1000).toFixed(3);\n};\nvar utils = {\n  // 生成uid 每个链路对应唯一一条uid\n  getUid: function getUid() {\n    var S4 = function S4() {\n      return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n    };\n    return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4();\n  },\n  // 获取网络类型 4g ｜ wifi\n  getNetType: function getNetType() {\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object') {\n      var connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;\n      return (connection === null || connection === void 0 ? void 0 : connection.type) || (connection === null || connection === void 0 ? void 0 : connection.effectiveType) || 'unknown';\n    }\n    return 'unknown';\n  },\n  // http | https\n  getProtocol: function getProtocol() {\n    if ((typeof location === \"undefined\" ? \"undefined\" : _typeof(location)) === 'object') {\n      return location.protocol.replace(/:/, '');\n    }\n    return 'unknown protocol';\n  },\n  // 获取pc端操作系统类型\n  getOsType: function getOsType() {\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) !== 'object') {\n      return 'unknown os';\n    }\n    var agent = navigator.userAgent.toLowerCase();\n    var isMac = /macintosh|mac os x/i.test(navigator.userAgent);\n    if (agent.indexOf('win32') >= 0 || agent.indexOf('wow32') >= 0) {\n      return 'win32';\n    }\n    if (agent.indexOf('win64') >= 0 || agent.indexOf('wow64') >= 0) {\n      return 'win64';\n    }\n    if (isMac) {\n      return 'mac';\n    }\n    return 'unknown os';\n  },\n  isMobile: function isMobile() {\n    var exp = /(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i;\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && navigator.userAgent.match(exp)) {\n      return true; // 移动端\n    }\n    return false; // PC端\n  },\n  isAndroid: function isAndroid() {\n    var exp = /(Android|Adr|Linux)/i;\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && navigator.userAgent.match(exp)) {\n      return true;\n    }\n    return false;\n  },\n  isIOS: function isIOS() {\n    var exp = /(iPhone|iPod|iPad|iOS)/i;\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) === 'object' && navigator.userAgent.match(exp)) {\n      return true;\n    }\n    return false;\n  },\n  isOtherMobile: function isOtherMobile() {\n    return isMobile && !isAndroid && !isIOS;\n  },\n  getUA: function getUA() {\n    if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) !== 'object') {\n      return 'unknown device';\n    }\n    var explorer = navigator.userAgent;\n    return explorer;\n  }\n};\nvar isMobile = utils.isMobile();\nvar mobileOsType = utils.isAndroid() ? 'android' : utils.isIOS ? 'ios' : 'other_mobile';\nvar pcOsType = utils.getOsType();\nvar devicePlatform = isMobile ? mobileOsType : pcOsType;\nvar ua = utils.getUA();\nvar protocol = utils.getProtocol();\nvar transApiName = function transApiName(api) {\n  if (['putObject', 'sliceUploadFile', 'uploadFile', 'uploadFiles'].includes(api)) {\n    return 'UploadTask';\n  } else if (api === 'getObject') {\n    return 'DownloadTask';\n  } else if (['putObjectCopy', 'sliceCopyFile'].includes(api)) {\n    return 'CopyTask';\n  }\n  return api;\n};\n\n// 上报参数驼峰改下划线\nfunction camel2underline(key) {\n  return key.replace(/([A-Z])/g, '_$1').toLowerCase();\n}\nfunction formatParams(params) {\n  var formattedParams = {};\n  var successKeys = ['sdkVersionName', 'sdkVersionCode', 'osName', 'networkType', 'requestName', 'requestResult', 'bucket', 'region', 'appid', 'accelerate', 'url', 'host', 'requestPath', 'userAgent', 'networkProtocol', 'httpMethod', 'httpSize', 'httpSpeed', 'httpTookTime', 'httpMd5', 'httpSign', 'httpFullTime', 'httpDomain', 'partNumber', 'httpRetryTimes', 'customId', 'traceId', 'realApi'];\n  var failureKeys = [].concat(successKeys, ['errorNode', 'errorCode', 'errorName', 'errorMessage', 'errorRequestId', 'errorHttpCode', 'errorServiceName', 'errorType', 'fullError']);\n  // 需要上报的参数字段\n  var reporterKeys = params.requestResult === 'Success' ? successKeys : failureKeys;\n  for (var key in params) {\n    if (!reporterKeys.includes(key)) continue;\n    var formattedKey = camel2underline(key);\n    formattedParams[formattedKey] = params[key];\n  }\n  formattedParams['request_name'] = params.realApi ? transApiName(params.realApi) : params.requestName;\n  return formattedParams;\n}\n\n// 链路追踪器\nvar Tracker = /*#__PURE__*/function () {\n  \"use strict\";\n\n  function Tracker(opt) {\n    _classCallCheck(this, Tracker);\n    var parent = opt.parent,\n      traceId = opt.traceId,\n      bucket = opt.bucket,\n      region = opt.region,\n      apiName = opt.apiName,\n      realApi = opt.realApi,\n      httpMethod = opt.httpMethod,\n      fileKey = opt.fileKey,\n      fileSize = opt.fileSize,\n      accelerate = opt.accelerate,\n      customId = opt.customId,\n      delay = opt.delay,\n      deepTracker = opt.deepTracker,\n      Beacon = opt.Beacon,\n      clsReporter = opt.clsReporter;\n    var appid = bucket && bucket.substr(bucket.lastIndexOf('-') + 1) || '';\n    this.parent = parent;\n    this.deepTracker = deepTracker;\n    this.delay = delay;\n    if (clsReporter && !this.clsReporter) {\n      this.clsReporter = clsReporter;\n    }\n    // 上报用到的字段\n    this.params = {\n      // 通用字段\n      sdkVersionName: 'cos-js-sdk-v5',\n      sdkVersionCode: pkg.version,\n      osName: devicePlatform,\n      networkType: '',\n      requestName: apiName || '',\n      requestResult: '',\n      // sdk api调用结果Success、Failure\n      realApi: realApi,\n      bucket: bucket,\n      region: region,\n      accelerate: accelerate,\n      httpMethod: httpMethod,\n      url: '',\n      // 请求url\n      host: '',\n      httpDomain: '',\n      requestPath: fileKey || '',\n      userAgent: ua,\n      networkProtocol: protocol,\n      errorType: '',\n      errorCode: '',\n      errorName: '',\n      errorMessage: '',\n      errorRequestId: '',\n      errorHttpCode: 0,\n      errorServiceName: '',\n      errorNode: '',\n      httpTookTime: 0,\n      // http整体耗时\n      httpSize: fileSize || 0,\n      // 主要是文件大小，大小 B\n      httpMd5: 0,\n      // MD5耗时\n      httpSign: 0,\n      // 计算签名耗时\n      httpFullTime: 0,\n      // 任务整体耗时(包括md5、签名等)\n      httpSpeed: 0,\n      // 主要关注上传速度，KB/s\n\n      md5StartTime: 0,\n      // md5计算开始时间\n      md5EndTime: 0,\n      // md5计算结束时间\n      signStartTime: 0,\n      // 计算签名开始时间\n      signEndTime: 0,\n      // 计算签名结束时间\n      httpStartTime: 0,\n      // 发起网络请求开始时间\n      httpEndTime: 0,\n      // 网路请求结束时间\n      startTime: new Date().getTime(),\n      // sdk api调用起始时间，不是纯网络耗时\n      endTime: 0,\n      //  sdk api调用结束时间，不是纯网络耗时\n\n      // js补充字段\n      traceId: traceId || utils.getUid(),\n      // 每条上报唯一标识\n      appid: appid,\n      partNumber: 0,\n      // 分块上传编号\n      httpRetryTimes: 0,\n      // sdk内部发起的请求重试\n      customId: customId || '',\n      // 业务id\n      partTime: 0\n    };\n    if (Beacon) {\n      this.beacon = getBeacon(Beacon, delay);\n    }\n  }\n\n  // 格式化sdk回调\n  return _createClass(Tracker, [{\n    key: \"formatResult\",\n    value: function formatResult(err, data) {\n      var _err$error, _err$error2, _err$error3, _err$error4, _err$error5, _err$error6;\n      var now = new Date().getTime();\n      var networkType = utils.getNetType();\n      var errorCode = err ? (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : (_err$error = err.error) === null || _err$error === void 0 ? void 0 : _err$error.code) || (err === null || err === void 0 ? void 0 : (_err$error2 = err.error) === null || _err$error2 === void 0 ? void 0 : _err$error2.Code) : '';\n      var errorMessage = err ? (err === null || err === void 0 ? void 0 : err.message) || (err === null || err === void 0 ? void 0 : (_err$error3 = err.error) === null || _err$error3 === void 0 ? void 0 : _err$error3.message) || (err === null || err === void 0 ? void 0 : (_err$error4 = err.error) === null || _err$error4 === void 0 ? void 0 : _err$error4.Message) : '';\n      var errorName = errorMessage;\n      var errorServiceName = err ? (err === null || err === void 0 ? void 0 : err.resource) || (err === null || err === void 0 ? void 0 : (_err$error5 = err.error) === null || _err$error5 === void 0 ? void 0 : _err$error5.resource) || (err === null || err === void 0 ? void 0 : (_err$error6 = err.error) === null || _err$error6 === void 0 ? void 0 : _err$error6.Resource) : '';\n      var errorHttpCode = err ? err === null || err === void 0 ? void 0 : err.statusCode : data.statusCode;\n      var requestId = err ? (err === null || err === void 0 ? void 0 : err.headers) && (err === null || err === void 0 ? void 0 : err.headers['x-cos-request-id']) : (data === null || data === void 0 ? void 0 : data.headers) && (data === null || data === void 0 ? void 0 : data.headers['x-cos-request-id']);\n      var errorType = err ? requestId ? 'Server' : 'Client' : '';\n      if (this.params.requestName === 'getObject') {\n        this.params.httpSize = data ? data.headers && data.headers['content-length'] : 0;\n      }\n\n      // 上报 sliceUploadFile || uploadFile || uploadFiles 命中分块上传时\n      var isSliceUploadFile = this.params.realApi === 'sliceUploadFile';\n      var isSliceCopyFile = this.params.realApi === 'sliceCopyFile';\n      if (isSliceUploadFile || isSliceCopyFile) {\n        var speed = this.params.httpSize / 1024 / this.params.partTime;\n        Object.assign(this.params, {\n          httpSpeed: speed < 0 ? 0 : speed.toFixed(3)\n        });\n      } else {\n        var httpFullTime = now - this.params.startTime;\n        var httpTookTime = this.params.httpEndTime - this.params.httpStartTime;\n        var _speed = this.params.httpSize / 1024 / (httpTookTime / 1000);\n        var httpMd5 = this.params.md5EndTime - this.params.md5StartTime;\n        var httpSign = this.params.signEndTime - this.params.signStartTime;\n        if (this.parent) {\n          this.parent.addParamValue('httpTookTime', ms2s(httpTookTime));\n          this.parent.addParamValue('httpFullTime', ms2s(httpFullTime));\n          this.parent.addParamValue('httpMd5', ms2s(httpMd5));\n          this.parent.addParamValue('httpSign', ms2s(httpSign));\n          if (['multipartUpload', 'uploadPartCopy', 'putObjectCopy'].includes(this.params.requestName)) {\n            // 只有小分块上传|复制才累计纯请求耗时，计算速度时用到\n            this.parent.addParamValue('partTime', ms2s(httpTookTime));\n          }\n        }\n        Object.assign(this.params, {\n          httpFullTime: ms2s(httpFullTime),\n          httpMd5: ms2s(httpMd5),\n          httpSign: ms2s(httpSign),\n          httpTookTime: ms2s(httpTookTime),\n          httpSpeed: _speed < 0 ? 0 : _speed.toFixed(3)\n        });\n      }\n      Object.assign(this.params, {\n        networkType: networkType,\n        requestResult: err ? 'Failure' : 'Success',\n        errorType: errorType,\n        errorCode: errorCode,\n        errorHttpCode: errorHttpCode,\n        errorName: errorName,\n        errorMessage: errorMessage,\n        errorServiceName: errorServiceName,\n        errorRequestId: requestId\n      });\n      if (err && (!errorCode || !errorMessage)) {\n        // 暂存全量err一段时间 观察是否所有err格式都可被解析\n        this.params.fullError = err ? JSON.stringify(err) : '';\n      }\n      if (this.params.url) {\n        try {\n          var execRes = /^http(s)?:\\/\\/(.*?)\\//.exec(this.params.url);\n          this.params.host = execRes[2];\n        } catch (e) {\n          this.params.host = this.params.url;\n        }\n        this.params.httpDomain = this.params.host;\n      }\n    }\n\n    // 上报\n  }, {\n    key: \"report\",\n    value: function report(err, data) {\n      if (!this.beacon && !this.clsReporter) return;\n      this.formatResult(err, data);\n      var formattedParams = formatParams(this.params);\n      if (this.beacon) {\n        this.sendEventsToBeacon(formattedParams);\n      }\n      if (this.clsReporter) {\n        this.sendEventsToCLS(formattedParams);\n      }\n    }\n\n    // 设置当前链路的参数\n  }, {\n    key: \"setParams\",\n    value: function setParams(params) {\n      Object.assign(this.params, params);\n    }\n  }, {\n    key: \"addParamValue\",\n    value: function addParamValue(key, value) {\n      this.params[key] = (+this.params[key] + +value).toFixed(3);\n    }\n\n    // 上报灯塔\n  }, {\n    key: \"sendEventsToBeacon\",\n    value: function sendEventsToBeacon(formattedParams) {\n      // DeepTracker模式下才会上报分块上传内部细节\n      var isSliceUploadFile = this.params.requestName === 'sliceUploadFile' || this.params.realApi === 'sliceUploadFile';\n      if (isSliceUploadFile && !this.deepTracker) {\n        return;\n      }\n      var eventCode = 'qcloud_track_cos_sdk';\n      if (this.delay === 0) {\n        // 实时上报\n        this.beacon && this.beacon.onDirectUserAction(eventCode, formattedParams);\n      } else {\n        // 周期性上报\n        this.beacon && this.beacon.onUserAction(eventCode, formattedParams);\n      }\n    }\n\n    // 上报 cls\n  }, {\n    key: \"sendEventsToCLS\",\n    value: function sendEventsToCLS(formattedParams) {\n      // 是否实时上报\n      var immediate = !!(this.delay === 0);\n      this.clsReporter.log(formattedParams, immediate);\n    }\n\n    // 生成子实例，与父所属一个链路，可用于分块上传内部流程上报单个分块操作\n  }, {\n    key: \"generateSubTracker\",\n    value: function generateSubTracker(subParams) {\n      Object.assign(subParams, {\n        parent: this,\n        deepTracker: this.deepTracker,\n        traceId: this.params.traceId,\n        bucket: this.params.bucket,\n        region: this.params.region,\n        accelerate: this.params.accelerate,\n        fileKey: this.params.requestPath,\n        customId: this.params.customId,\n        delay: this.delay,\n        clsReporter: this.clsReporter\n      });\n      return new Tracker(subParams);\n    }\n  }]);\n}();\nmodule.exports = Tracker;\n\n/***/ }),\n\n/***/ \"./src/util.js\":\n/*!*********************!*\\\n  !*** ./src/util.js ***!\n  \\*********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nvar _typeof = __webpack_require__(/*! @babel/runtime/helpers/typeof */ \"./node_modules/@babel/runtime/helpers/typeof.js\");\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nvar md5 = __webpack_require__(/*! ../lib/md5 */ \"./lib/md5.js\");\nvar CryptoJS = __webpack_require__(/*! ../lib/crypto */ \"./lib/crypto.js\");\nvar _require = __webpack_require__(/*! fast-xml-parser */ \"./node_modules/fast-xml-parser/src/fxp.js\"),\n  XMLParser = _require.XMLParser,\n  XMLBuilder = _require.XMLBuilder;\nvar xmlParser = new XMLParser({\n  ignoreDeclaration: true,\n  // 忽略 XML 声明\n  ignoreAttributes: true,\n  // 忽略属性\n  parseTagValue: false,\n  // 关闭自动解析\n  trimValues: false // 关闭默认 trim\n});\nvar xmlBuilder = new XMLBuilder();\nvar base64 = __webpack_require__(/*! ../lib/base64 */ \"./lib/base64.js\");\nvar Tracker = __webpack_require__(/*! ./tracker */ \"./src/tracker.js\");\n\n// 删掉不需要的#text\nvar textNodeName = '#text';\nvar _deleteTextNodes = function deleteTextNodes(obj) {\n  if (!isObject(obj)) return;\n  for (var i in obj) {\n    var item = obj[i];\n    if (typeof item === 'string') {\n      if (i === textNodeName) {\n        delete obj[i];\n      }\n    } else if (Array.isArray(item)) {\n      item.forEach(function (i) {\n        _deleteTextNodes(i);\n      });\n    } else if (isObject(item)) {\n      _deleteTextNodes(item);\n    }\n  }\n};\n\n// XML 对象转 JSON 对象\nvar xml2json = function xml2json(bodyStr) {\n  var json = xmlParser.parse(bodyStr);\n  _deleteTextNodes(json);\n  return json;\n};\n\n// JSON 对象转 XML 对象\nvar json2xml = function json2xml(json) {\n  var xml = xmlBuilder.build(json);\n  return xml;\n};\nfunction camSafeUrlEncode(str) {\n  return encodeURIComponent(str).replace(/!/g, '%21').replace(/'/g, '%27').replace(/\\(/g, '%28').replace(/\\)/g, '%29').replace(/\\*/g, '%2A');\n}\nfunction getObjectKeys(obj, forKey) {\n  var list = [];\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      list.push(forKey ? camSafeUrlEncode(key).toLowerCase() : key);\n    }\n  }\n  return list.sort(function (a, b) {\n    a = a.toLowerCase();\n    b = b.toLowerCase();\n    return a === b ? 0 : a > b ? 1 : -1;\n  });\n}\n\n/**\n * obj转为string\n * @param  {Object}  obj                需要转的对象，必须\n * @param  {Boolean} lowerCaseKey       key是否转为小写，默认false，非必须\n * @return {String}  data               返回字符串\n */\nvar obj2str = function obj2str(obj, lowerCaseKey) {\n  var i, key, val;\n  var list = [];\n  var keyList = getObjectKeys(obj);\n  for (i = 0; i < keyList.length; i++) {\n    key = keyList[i];\n    val = obj[key] === undefined || obj[key] === null ? '' : '' + obj[key];\n    key = lowerCaseKey ? camSafeUrlEncode(key).toLowerCase() : camSafeUrlEncode(key);\n    val = camSafeUrlEncode(val) || '';\n    list.push(key + '=' + val);\n  }\n  return list.join('&');\n};\n\n// 可以签入签名的headers\nvar signHeaders = ['cache-control', 'content-disposition', 'content-encoding', 'content-length', 'content-md5', 'expect', 'expires', 'host', 'if-match', 'if-modified-since', 'if-none-match', 'if-unmodified-since', 'origin', 'range', 'transfer-encoding', 'pic-operations'];\nvar getSignHeaderObj = function getSignHeaderObj(headers) {\n  var signHeaderObj = {};\n  for (var i in headers) {\n    var key = i.toLowerCase();\n    if (key.indexOf('x-cos-') > -1 || key.indexOf('x-ci-') > -1 || signHeaders.indexOf(key) > -1) {\n      signHeaderObj[i] = headers[i];\n    }\n  }\n  return signHeaderObj;\n};\n\n//测试用的key后面可以去掉\nvar getAuth = function getAuth(opt) {\n  opt = opt || {};\n  var SecretId = opt.SecretId;\n  var SecretKey = opt.SecretKey;\n  var KeyTime = opt.KeyTime;\n  var method = (opt.method || opt.Method || 'get').toLowerCase();\n  var queryParams = clone(opt.Query || opt.params || {});\n  var headers = getSignHeaderObj(clone(opt.Headers || opt.headers || {}));\n  var Key = opt.Key || '';\n  var pathname;\n  if (opt.UseRawKey) {\n    pathname = opt.Pathname || opt.pathname || '/' + Key;\n  } else {\n    pathname = opt.Pathname || opt.pathname || Key;\n    pathname.indexOf('/') !== 0 && (pathname = '/' + pathname);\n  }\n\n  // ForceSignHost明确传入false才不加入host签名\n  var forceSignHost = opt.ForceSignHost === false ? false : true;\n\n  // 如果有传入存储桶且需要强制签名，那么签名默认加 Host 参与计算，避免跨桶访问\n  if (!headers.Host && !headers.host && opt.Bucket && opt.Region && forceSignHost) headers.Host = opt.Bucket + '.cos.' + opt.Region + '.myqcloud.com';\n  if (!SecretId) throw new Error('missing param SecretId');\n  if (!SecretKey) throw new Error('missing param SecretKey');\n\n  // 签名有效起止时间\n  var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\n  var exp = now;\n  var Expires = opt.Expires || opt.expires;\n  if (Expires === undefined) {\n    exp += 900; // 签名过期时间为当前 + 900s\n  } else {\n    exp += Expires * 1 || 0;\n  }\n\n  // 要用到的 Authorization 参数列表\n  var qSignAlgorithm = 'sha1';\n  var qAk = SecretId;\n  var qSignTime = KeyTime || now + ';' + exp;\n  var qKeyTime = KeyTime || now + ';' + exp;\n  var qHeaderList = getObjectKeys(headers, true).join(';').toLowerCase();\n  var qUrlParamList = getObjectKeys(queryParams, true).join(';').toLowerCase();\n\n  // 签名算法说明文档：https://www.qcloud.com/document/product/436/7778\n  // 步骤一：计算 SignKey\n  var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString();\n\n  // 步骤二：构成 FormatString\n  var formatString = [method, pathname, util.obj2str(queryParams, true), util.obj2str(headers, true), ''].join('\\n');\n\n  // 步骤三：计算 StringToSign\n  var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n');\n\n  // 步骤四：计算 Signature\n  var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString();\n\n  // 步骤五：构造 Authorization\n  var authorization = ['q-sign-algorithm=' + qSignAlgorithm, 'q-ak=' + qAk, 'q-sign-time=' + qSignTime, 'q-key-time=' + qKeyTime, 'q-header-list=' + qHeaderList, 'q-url-param-list=' + qUrlParamList, 'q-signature=' + qSignature].join('&');\n  return authorization;\n};\nvar readIntBE = function readIntBE(chunk, size, offset) {\n  var bytes = size / 8;\n  var buf = chunk.slice(offset, offset + bytes);\n  new Uint8Array(buf).reverse();\n  return new {\n    8: Uint8Array,\n    16: Uint16Array,\n    32: Uint32Array\n  }[size](buf)[0];\n};\nvar buf2str = function buf2str(chunk, start, end, isUtf8) {\n  var buf = chunk.slice(start, end);\n  var str = '';\n  new Uint8Array(buf).forEach(function (charCode) {\n    str += String.fromCharCode(charCode);\n  });\n  if (isUtf8) str = decodeURIComponent(escape(str));\n  return str;\n};\nvar parseSelectPayload = function parseSelectPayload(chunk) {\n  var header = {};\n  var body = buf2str(chunk);\n  var result = {\n    records: []\n  };\n  while (chunk.byteLength) {\n    var totalLength = readIntBE(chunk, 32, 0);\n    var headerLength = readIntBE(chunk, 32, 4);\n    var payloadRestLength = totalLength - headerLength - 16;\n    var offset = 0;\n    var content;\n    chunk = chunk.slice(12);\n    // 获取 Message 的 header 信息\n    while (offset < headerLength) {\n      var headerNameLength = readIntBE(chunk, 8, offset);\n      var headerName = buf2str(chunk, offset + 1, offset + 1 + headerNameLength);\n      var headerValueLength = readIntBE(chunk, 16, offset + headerNameLength + 2);\n      var headerValue = buf2str(chunk, offset + headerNameLength + 4, offset + headerNameLength + 4 + headerValueLength);\n      header[headerName] = headerValue;\n      offset += headerNameLength + 4 + headerValueLength;\n    }\n    if (header[':event-type'] === 'Records') {\n      content = buf2str(chunk, offset, offset + payloadRestLength, true);\n      result.records.push(content);\n    } else if (header[':event-type'] === 'Stats') {\n      content = buf2str(chunk, offset, offset + payloadRestLength, true);\n      result.stats = util.xml2json(content).Stats;\n    } else if (header[':event-type'] === 'error') {\n      var errCode = header[':error-code'];\n      var errMessage = header[':error-message'];\n      var err = new Error(errMessage);\n      err.message = errMessage;\n      err.name = err.code = errCode;\n      result.error = err;\n    } else if (['Progress', 'Continuation', 'End'].includes(header[':event-type'])) {\n      // do nothing\n    }\n    chunk = chunk.slice(offset + payloadRestLength + 4);\n  }\n  return {\n    payload: result.records.join(''),\n    body: body\n  };\n};\nvar getSourceParams = function getSourceParams(source) {\n  var parser = this.options.CopySourceParser;\n  if (parser) return parser(source);\n  var m = source.match(/^([^.]+-\\d+)\\.cos(v6|-cdc|-cdz|-internal)?\\.([^.]+)\\.((myqcloud\\.com)|(tencentcos\\.cn))\\/(.+)$/);\n  if (!m) return null;\n  return {\n    Bucket: m[1],\n    Region: m[3],\n    Key: m[7]\n  };\n};\nvar noop = function noop() {};\n\n// 清除对象里值为的 undefined 或 null 的属性\nvar clearKey = function clearKey(obj) {\n  var retObj = {};\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\n      retObj[key] = obj[key];\n    }\n  }\n  return retObj;\n};\nvar readAsBinaryString = function readAsBinaryString(blob, callback) {\n  var readFun;\n  var fr = new FileReader();\n  if (FileReader.prototype.readAsBinaryString) {\n    readFun = FileReader.prototype.readAsBinaryString;\n    fr.onload = function () {\n      callback(this.result);\n    };\n  } else if (FileReader.prototype.readAsArrayBuffer) {\n    // 在 ie11 添加 readAsBinaryString 兼容\n    readFun = function readFun(fileData) {\n      var binary = '';\n      var pt = this;\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        var bytes = new Uint8Array(reader.result);\n        var length = bytes.byteLength;\n        for (var i = 0; i < length; i++) {\n          binary += String.fromCharCode(bytes[i]);\n        }\n        callback(binary);\n      };\n      reader.readAsArrayBuffer(fileData);\n    };\n  } else {\n    console.error('FileReader not support readAsBinaryString');\n  }\n  readFun.call(fr, blob);\n};\nvar fileSliceNeedCopy = function () {\n  var compareVersion = function compareVersion(a, b) {\n    a = a.split('.');\n    b = b.split('.');\n    for (var i = 0; i < b.length; i++) {\n      if (a[i] !== b[i]) {\n        return parseInt(a[i]) > parseInt(b[i]) ? 1 : -1;\n      }\n    }\n    return 0;\n  };\n  var check = function check(ua) {\n    if (!ua) return false;\n    var ChromeVersion = (ua.match(/Chrome\\/([.\\d]+)/) || [])[1];\n    var QBCoreVersion = (ua.match(/QBCore\\/([.\\d]+)/) || [])[1];\n    var QQBrowserVersion = (ua.match(/QQBrowser\\/([.\\d]+)/) || [])[1];\n    var need = ChromeVersion && compareVersion(ChromeVersion, '53.0.2785.116') < 0 && QBCoreVersion && compareVersion(QBCoreVersion, '3.53.991.400') < 0 && QQBrowserVersion && compareVersion(QQBrowserVersion, '9.0.2524.400') <= 0 || false;\n    return need;\n  };\n  return check(typeof navigator !== 'undefined' && navigator.userAgent);\n}();\n\n// 获取文件分片\nvar fileSlice = function fileSlice(file, start, end, isUseToUpload, callback) {\n  var blob;\n  if (file.slice) {\n    blob = file.slice(start, end);\n  } else if (file.mozSlice) {\n    blob = file.mozSlice(start, end);\n  } else if (file.webkitSlice) {\n    blob = file.webkitSlice(start, end);\n  }\n  if (isUseToUpload && fileSliceNeedCopy) {\n    var reader = new FileReader();\n    reader.onload = function (e) {\n      blob = null;\n      callback(new Blob([reader.result]));\n    };\n    reader.readAsArrayBuffer(blob);\n  } else {\n    callback(blob);\n  }\n};\n\n// 获取文件内容的 MD5\nvar getBodyMd5 = function getBodyMd5(UploadCheckContentMd5, Body, callback, onProgress) {\n  callback = callback || noop;\n  if (UploadCheckContentMd5) {\n    if (typeof Body === 'string') {\n      callback(util.md5(Body, true));\n    } else if (Blob && Body instanceof Blob) {\n      util.getFileMd5(Body, function (err, md5) {\n        callback(md5);\n      }, onProgress);\n    } else {\n      callback();\n    }\n  } else {\n    callback();\n  }\n};\n\n// 获取文件 md5 值\nvar md5ChunkSize = 1024 * 1024;\nvar getFileMd5 = function getFileMd5(blob, callback, onProgress) {\n  var size = blob.size;\n  var loaded = 0;\n  var md5ctx = md5.getCtx();\n  var _next = function next(start) {\n    if (start >= size) {\n      var hash = md5ctx.digest('hex');\n      callback(null, hash);\n      return;\n    }\n    var end = Math.min(size, start + md5ChunkSize);\n    util.fileSlice(blob, start, end, false, function (chunk) {\n      readAsBinaryString(chunk, function (content) {\n        chunk = null;\n        md5ctx = md5ctx.update(content, true);\n        loaded += content.length;\n        content = null;\n        if (onProgress) onProgress({\n          loaded: loaded,\n          total: size,\n          percent: Math.round(loaded / size * 10000) / 10000\n        });\n        _next(start + md5ChunkSize);\n      });\n    });\n  };\n  _next(0);\n};\nfunction clone(obj) {\n  return map(obj, function (v) {\n    return _typeof(v) === 'object' && v !== null ? clone(v) : v;\n  });\n}\nfunction attr(obj, name, defaultValue) {\n  return obj && name in obj ? obj[name] : defaultValue;\n}\nfunction extend(target, source) {\n  each(source, function (val, key) {\n    target[key] = source[key];\n  });\n  return target;\n}\nfunction isArray(arr) {\n  return arr instanceof Array;\n}\nfunction isObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\nfunction isInArray(arr, item) {\n  var flag = false;\n  for (var i = 0; i < arr.length; i++) {\n    if (item === arr[i]) {\n      flag = true;\n      break;\n    }\n  }\n  return flag;\n}\nfunction makeArray(arr) {\n  return isArray(arr) ? arr : [arr];\n}\nfunction each(obj, fn) {\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      fn(obj[i], i);\n    }\n  }\n}\nfunction map(obj, fn) {\n  var o = isArray(obj) ? [] : {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = fn(obj[i], i);\n    }\n  }\n  return o;\n}\nfunction filter(obj, fn) {\n  var iaArr = isArray(obj);\n  var o = iaArr ? [] : {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (fn(obj[i], i)) {\n        if (iaArr) {\n          o.push(obj[i]);\n        } else {\n          o[i] = obj[i];\n        }\n      }\n    }\n  }\n  return o;\n}\nvar b64 = function b64(str) {\n  var i,\n    len,\n    char,\n    res = '';\n  for (i = 0, len = str.length / 2; i < len; i++) {\n    char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\n    res += String.fromCharCode(char);\n  }\n  return btoa(res);\n};\nvar uuid = function uuid() {\n  var S4 = function S4() {\n    return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n  };\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4();\n};\nvar hasMissingParams = function hasMissingParams(apiName, params) {\n  var Bucket = params.Bucket;\n  var Region = params.Region;\n  var Key = params.Key;\n  var Domain = this.options.Domain;\n  var checkBucket = !Domain || typeof Domain === 'string' && Domain.indexOf('{Bucket}') > -1;\n  var checkRegion = !Domain || typeof Domain === 'string' && Domain.indexOf('{Region}') > -1;\n  if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\n    if (checkBucket && !Bucket) return 'Bucket';\n    if (checkRegion && !Region) return 'Region';\n  } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask' || apiName === 'uploadFile') {\n    if (checkBucket && !Bucket) return 'Bucket';\n    if (checkRegion && !Region) return 'Region';\n    if (!Key) return 'Key';\n  }\n  return false;\n};\nvar formatParams = function formatParams(apiName, params) {\n  // 复制参数对象\n  params = extend({}, params);\n\n  // 统一处理 Headers\n  if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\n    var Headers = params.Headers || {};\n    if (params && _typeof(params) === 'object') {\n      (function () {\n        for (var key in params) {\n          if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\n            Headers[key] = params[key];\n          }\n        }\n      })();\n      var headerMap = {\n        // params headers\n        'x-cos-mfa': 'MFA',\n        'Content-MD5': 'ContentMD5',\n        'Content-Length': 'ContentLength',\n        'Content-Type': 'ContentType',\n        Expect: 'Expect',\n        Expires: 'Expires',\n        'Cache-Control': 'CacheControl',\n        'Content-Disposition': 'ContentDisposition',\n        'Content-Encoding': 'ContentEncoding',\n        Range: 'Range',\n        'If-Modified-Since': 'IfModifiedSince',\n        'If-Unmodified-Since': 'IfUnmodifiedSince',\n        'If-Match': 'IfMatch',\n        'If-None-Match': 'IfNoneMatch',\n        'x-cos-copy-source': 'CopySource',\n        'x-cos-copy-source-Range': 'CopySourceRange',\n        'x-cos-metadata-directive': 'MetadataDirective',\n        'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\n        'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\n        'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\n        'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\n        'x-cos-acl': 'ACL',\n        'x-cos-grant-read': 'GrantRead',\n        'x-cos-grant-write': 'GrantWrite',\n        'x-cos-grant-full-control': 'GrantFullControl',\n        'x-cos-grant-read-acp': 'GrantReadAcp',\n        'x-cos-grant-write-acp': 'GrantWriteAcp',\n        'x-cos-storage-class': 'StorageClass',\n        'x-cos-traffic-limit': 'TrafficLimit',\n        'x-cos-mime-limit': 'MimeLimit',\n        // SSE-C\n        'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\n        'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\n        'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\n        // SSE-COS、SSE-KMS\n        'x-cos-server-side-encryption': 'ServerSideEncryption',\n        'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\n        'x-cos-server-side-encryption-context': 'SSEContext',\n        // 上传时图片处理\n        'Pic-Operations': 'PicOperations',\n        'x-cos-callback': 'Callback',\n        'x-cos-callback-var': 'CallbackVar',\n        'x-cos-return-body': 'ReturnBody'\n      };\n      util.each(headerMap, function (paramKey, headerKey) {\n        if (params[paramKey] !== undefined) {\n          Headers[headerKey] = params[paramKey];\n        }\n      });\n      params.Headers = clearKey(Headers);\n    }\n  }\n  return params;\n};\nvar apiWrapper = function apiWrapper(apiName, apiFn) {\n  return function (params, callback) {\n    var self = this;\n\n    // 处理参数\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    // 整理参数格式\n    params = formatParams(apiName, params);\n\n    // tracker传递\n    var tracker;\n    if (self.options.EnableReporter) {\n      if (params.calledBySdk === 'sliceUploadFile' || params.calledBySdk === 'sliceCopyFile') {\n        // 分块上传内部方法使用sliceUploadFile的子链路\n        tracker = params.tracker && params.tracker.generateSubTracker({\n          apiName: apiName\n        });\n      } else if (['uploadFile', 'uploadFiles'].includes(apiName)) {\n        // uploadFile、uploadFiles方法在内部处理，此处不处理\n        tracker = null;\n      } else {\n        var fileSize = 0;\n        if (params.Body) {\n          fileSize = typeof params.Body === 'string' ? params.Body.length : params.Body.size || params.Body.byteLength || 0;\n        }\n        var accelerate = self.options.UseAccelerate || typeof self.options.Domain === 'string' && self.options.Domain.includes('accelerate.');\n        tracker = new Tracker({\n          Beacon: self.options.BeaconReporter,\n          clsReporter: self.options.ClsReporter,\n          bucket: params.Bucket,\n          region: params.Region,\n          apiName: apiName,\n          realApi: apiName,\n          accelerate: accelerate,\n          fileKey: params.Key,\n          fileSize: fileSize,\n          deepTracker: self.options.DeepTracker,\n          customId: self.options.CustomId,\n          delay: self.options.TrackerDelay\n        });\n      }\n    }\n    params.tracker = tracker;\n\n    // 代理回调函数\n    var formatResult = function formatResult(result) {\n      if (result && result.headers) {\n        result.headers['x-ci-request-id'] && (result.RequestId = result.headers['x-ci-request-id']);\n        result.headers['x-cos-request-id'] && (result.RequestId = result.headers['x-cos-request-id']);\n        result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\n        result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\n      }\n      return result;\n    };\n    var _callback = function _callback(err, data) {\n      // 格式化上报参数并上报\n      tracker && tracker.report(err, data);\n      callback && callback(formatResult(err), formatResult(data));\n    };\n    var checkParams = function checkParams() {\n      if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\n        // 判断参数是否完整\n        var missingResult = hasMissingParams.call(self, apiName, params);\n        if (missingResult) {\n          return 'missing param ' + missingResult;\n        }\n        // 判断 region 格式\n        if (params.Region) {\n          if (self.options.CompatibilityMode) {\n            if (!/^([a-z\\d-.]+)$/.test(params.Region)) {\n              return 'Region format error.';\n            }\n          } else {\n            if (params.Region.indexOf('cos.') > -1) {\n              return 'param Region should not be start with \"cos.\"';\n            } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\n              return 'Region format error.';\n            }\n          }\n          // 判断 region 格式\n          if (!self.options.CompatibilityMode && params.Region.indexOf('-') === -1 && params.Region !== 'yfb' && params.Region !== 'default' && params.Region !== 'accelerate') {\n            console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\n          }\n        }\n        // 兼容不带 AppId 的 Bucket\n        if (params.Bucket) {\n          if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\n            if (params.AppId) {\n              params.Bucket = params.Bucket + '-' + params.AppId;\n            } else if (self.options.AppId) {\n              params.Bucket = params.Bucket + '-' + self.options.AppId;\n            } else {\n              return 'Bucket should format as \"test-1250000000\".';\n            }\n          }\n          if (params.AppId) {\n            console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\n            delete params.AppId;\n          }\n        }\n        // 如果 Key 是 / 开头，强制去掉第一个 /\n        if (!self.options.UseRawKey && params.Key && params.Key.substr(0, 1) === '/') {\n          params.Key = params.Key.substr(1);\n        }\n      }\n    };\n    var errMsg = checkParams();\n    var isSync = ['getAuth', 'getObjectUrl'].includes(apiName);\n    if (typeof Promise === 'function' && !isSync && !callback) {\n      return new Promise(function (resolve, reject) {\n        callback = function callback(err, data) {\n          err ? reject(err) : resolve(data);\n        };\n        if (errMsg) return _callback(util.error(new Error(errMsg)));\n        apiFn.call(self, params, _callback);\n      });\n    } else {\n      if (errMsg) return _callback(util.error(new Error(errMsg)));\n      var res = apiFn.call(self, params, _callback);\n      if (isSync) return res;\n    }\n  };\n};\nvar throttleOnProgress = function throttleOnProgress(total, onProgress) {\n  var self = this;\n  var size0 = 0;\n  var size1 = 0;\n  var time0 = Date.now();\n  var time1;\n  var timer;\n  function update() {\n    timer = 0;\n    if (onProgress && typeof onProgress === 'function') {\n      time1 = Date.now();\n      var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100) || 0;\n      var percent;\n      if (size1 === 0 && total === 0) {\n        percent = 1;\n      } else {\n        percent = Math.floor(size1 / total * 100) / 100 || 0;\n      }\n      time0 = time1;\n      size0 = size1;\n      try {\n        onProgress({\n          loaded: size1,\n          total: total,\n          speed: speed,\n          percent: percent\n        });\n      } catch (e) {}\n    }\n  }\n  return function (info, immediately) {\n    if (info) {\n      size1 = info.loaded;\n      total = info.total;\n    }\n    if (immediately) {\n      clearTimeout(timer);\n      update();\n    } else {\n      if (timer) return;\n      timer = setTimeout(update, self.options.ProgressInterval);\n    }\n  };\n};\nvar getFileSize = function getFileSize(api, params, callback) {\n  var size;\n  if (typeof params.Body === 'string') {\n    params.Body = new Blob([params.Body], {\n      type: 'text/plain'\n    });\n  } else if (params.Body instanceof ArrayBuffer) {\n    params.Body = new Blob([params.Body]);\n  }\n  if (params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]')) {\n    size = params.Body.size;\n  } else {\n    callback(util.error(new Error('params body format error, Only allow File|Blob|String.')));\n    return;\n  }\n  params.ContentLength = size;\n  callback(null, size);\n};\n\n// 获取调正的时间戳\nvar getSkewTime = function getSkewTime(offset) {\n  return Date.now() + (offset || 0);\n};\nvar error = function error(err, opt) {\n  var sourceErr = err;\n  err.message = err.message || null;\n  if (typeof opt === 'string') {\n    err.error = opt;\n    err.message = opt;\n  } else if (_typeof(opt) === 'object' && opt !== null) {\n    extend(err, opt);\n    if (opt.code || opt.name) err.code = opt.code || opt.name;\n    if (opt.message) err.message = opt.message;\n    if (opt.stack) err.stack = opt.stack;\n  }\n  if (typeof Object.defineProperty === 'function') {\n    Object.defineProperty(err, 'name', {\n      writable: true,\n      enumerable: false\n    });\n    Object.defineProperty(err, 'message', {\n      enumerable: true\n    });\n  }\n  err.name = opt && opt.name || err.name || err.code || 'Error';\n  if (!err.code) err.code = err.name;\n  if (!err.error) err.error = clone(sourceErr); // 兼容老的错误格式\n\n  return err;\n};\nvar isWebWorker = function isWebWorker() {\n  // 有限判断 worker 环境的 constructor name 其次用 worker 独有的 FileReaderSync 兜底 详细参考 https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Using_web_workers\n  return (typeof globalThis === \"undefined\" ? \"undefined\" : _typeof(globalThis)) === 'object' && (globalThis.constructor.name === 'DedicatedWorkerGlobalScope' || globalThis.FileReaderSync);\n};\nvar isNode = function isNode() {\n  // 得兜底 web worker 环境中 webpack 用了 process 插件之类的情况\n  return (typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) !== 'object' && (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && \"function\" === 'function' && !isWebWorker();\n};\nvar isCIHost = function isCIHost(url) {\n  return /^https?:\\/\\/([^/]+\\.)?ci\\.[^/]+/.test(url);\n};\n\n//判断是否是ios\nvar isIOS = function () {\n  if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) !== 'object') {\n    return false;\n  }\n  var u = navigator.userAgent;\n  var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n  return isIOS;\n}();\n\n// 判断是qq内置浏览器\nvar isQQ = function () {\n  if ((typeof navigator === \"undefined\" ? \"undefined\" : _typeof(navigator)) !== 'object') {\n    return false;\n  }\n  return /\\sQQ/i.test(navigator.userAgent);\n}();\nvar encodeBase64 = function encodeBase64(str, safe) {\n  var base64Str = base64.encode(str);\n  // 万象使用的安全base64格式需要特殊处理\n  if (safe) {\n    base64Str = base64Str.replaceAll('+', '-').replaceAll('/', '_').replaceAll('=', '');\n  }\n  return base64Str;\n};\nvar decodeBase64 = function decodeBase64(base64Str) {\n  if (!base64Str) return '';\n  return base64.decode(base64Str);\n};\nvar simplifyPath = function simplifyPath(path) {\n  var names = path.split('/');\n  var stack = [];\n  var _iterator = _createForOfIteratorHelper(names),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var name = _step.value;\n      if (name === '..') {\n        if (stack.length) {\n          stack.pop();\n        }\n      } else if (name.length && name !== '.') {\n        stack.push(name);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return '/' + stack.join('/');\n};\n\n// 解析响应体，兼容 xml、json\nvar parseResBody = function parseResBody(responseBody) {\n  var json;\n  if (responseBody && typeof responseBody === 'string') {\n    var trimBody = responseBody.trim();\n    var isXml = trimBody.indexOf('<') === 0;\n    var isJson = trimBody.indexOf('{') === 0;\n    if (isXml) {\n      // xml 解析，解析失败返回{}\n      json = util.xml2json(responseBody) || {};\n    } else if (isJson) {\n      // json解析，解析失败返回原始 Body\n      try {\n        // 替换 json 中的换行符为空格，否则解析会出错\n        var formatBody = responseBody.replace(/\\n/g, ' ');\n        var parsedBody = JSON.parse(formatBody);\n        // 确保解析出 json 对象\n        if (Object.prototype.toString.call(parsedBody) === '[object Object]') {\n          json = parsedBody;\n        } else {\n          json = responseBody;\n        }\n      } catch (e) {\n        json = responseBody;\n      }\n    } else {\n      json = responseBody;\n    }\n  } else {\n    json = responseBody || {};\n  }\n  return json;\n};\nvar util = {\n  noop: noop,\n  formatParams: formatParams,\n  apiWrapper: apiWrapper,\n  xml2json: xml2json,\n  json2xml: json2xml,\n  md5: md5,\n  clearKey: clearKey,\n  fileSlice: fileSlice,\n  getBodyMd5: getBodyMd5,\n  getFileMd5: getFileMd5,\n  b64: b64,\n  extend: extend,\n  isArray: isArray,\n  isInArray: isInArray,\n  makeArray: makeArray,\n  each: each,\n  map: map,\n  filter: filter,\n  clone: clone,\n  attr: attr,\n  uuid: uuid,\n  camSafeUrlEncode: camSafeUrlEncode,\n  throttleOnProgress: throttleOnProgress,\n  getFileSize: getFileSize,\n  getSkewTime: getSkewTime,\n  error: error,\n  obj2str: obj2str,\n  getAuth: getAuth,\n  parseSelectPayload: parseSelectPayload,\n  getSourceParams: getSourceParams,\n  isBrowser: true,\n  isNode: isNode,\n  isCIHost: isCIHost,\n  isIOS_QQ: isIOS && isQQ,\n  encodeBase64: encodeBase64,\n  decodeBase64: decodeBase64,\n  simplifyPath: simplifyPath,\n  readAsBinaryString: readAsBinaryString,\n  parseResBody: parseResBody\n};\nmodule.exports = util;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/process/browser.js */ \"./node_modules/process/browser.js\")))\n\n/***/ })\n\n/******/ });\n});","import COS from \"cos-js-sdk-v5\";\r\n\r\n// COS配置接口\r\nexport interface COSConfig {\r\n  bucket: string;\r\n  region: string;\r\n  secretId?: string;\r\n  secretKey?: string;\r\n  getAuthorization?: (options: any, callback: (authData: any) => void) => void;\r\n}\r\n\r\n// 上传进度回调接口\r\nexport interface UploadProgress {\r\n  loaded: number;\r\n  total: number;\r\n  percent: number;\r\n}\r\n\r\n// 上传结果接口\r\nexport interface UploadResult {\r\n  url: string;\r\n  key: string;\r\n  etag: string;\r\n  location: string;\r\n}\r\n\r\n// 上传选项接口\r\nexport interface UploadOptions {\r\n  file: File;\r\n  key?: string;\r\n  onProgress?: (progress: UploadProgress) => void;\r\n  onSuccess?: (result: UploadResult) => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\n/**\r\n * 腾讯云COS上传工具类\r\n * 提供文件上传、进度监控、任务取消等功能\r\n */\r\nexport class COSUploader {\r\n  private cos: COS;\r\n  private config: COSConfig;\r\n  private uploadTasks: Map<string, any> = new Map();\r\n\r\n  constructor(config: COSConfig) {\r\n    this.config = config;\r\n\r\n    // 初始化COS实例\r\n    this.cos = new COS({\r\n      // 如果提供了固定密钥（开发环境）\r\n      ...(config.secretId &&\r\n        config.secretKey && {\r\n          SecretId: config.secretId,\r\n          SecretKey: config.secretKey,\r\n        }),\r\n      // 如果提供了获取临时密钥的回调（生产环境推荐）\r\n      ...(config.getAuthorization && {\r\n        getAuthorization: config.getAuthorization,\r\n      }),\r\n    });\r\n\r\n    console.log(\"[COS Uploader] 初始化完成\", {\r\n      bucket: config.bucket,\r\n      region: config.region,\r\n      hasSecretId: !!config.secretId,\r\n      hasGetAuth: !!config.getAuthorization,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 上传文件\r\n   * @param options 上传选项\r\n   * @returns Promise<UploadResult>\r\n   */\r\n  async uploadFile(options: UploadOptions): Promise<UploadResult> {\r\n    const { file, key, onProgress, onSuccess, onError } = options;\r\n\r\n    // 生成文件key\r\n    const fileKey = key || this.generateFileKey(file);\r\n    const taskId = `upload_${Date.now()}_${Math.random()}`;\r\n\r\n    console.log(\"[COS Uploader] 开始上传文件\", {\r\n      taskId,\r\n      fileName: file.name,\r\n      fileSize: file.size,\r\n      fileType: file.type,\r\n      key: fileKey,\r\n      bucket: this.config.bucket,\r\n      region: this.config.region,\r\n    });\r\n\r\n    return new Promise((resolve, reject) => {\r\n      try {\r\n        // 执行上传\r\n        this.cos.uploadFile(\r\n          {\r\n            Bucket: this.config.bucket,\r\n            Region: this.config.region,\r\n            Key: fileKey,\r\n            Body: file,\r\n            SliceSize: 1024 * 1024, // 大于1MB进行分块上传\r\n\r\n            // 任务就绪回调\r\n            onTaskReady: (tid: string) => {\r\n              this.uploadTasks.set(taskId, tid);\r\n              console.log(\"[COS Uploader] 任务就绪\", { taskId, tid });\r\n            },\r\n\r\n            // 进度回调\r\n            onProgress: (progressData: any) => {\r\n              const progress: UploadProgress = {\r\n                loaded: progressData.loaded,\r\n                total: progressData.total,\r\n                percent: Math.round(\r\n                  (progressData.loaded / progressData.total) * 100\r\n                ),\r\n              };\r\n\r\n              console.log(\"[COS Uploader] 上传进度\", {\r\n                taskId,\r\n                ...progress,\r\n                speed: progressData.speed\r\n                  ? `${(progressData.speed / 1024).toFixed(2)} KB/s`\r\n                  : \"N/A\",\r\n              });\r\n\r\n              onProgress?.(progress);\r\n            },\r\n          },\r\n          (err: any, data: any) => {\r\n            // 清理任务记录\r\n            this.uploadTasks.delete(taskId);\r\n\r\n            if (err) {\r\n              console.error(\"[COS Uploader] 上传失败\", {\r\n                taskId,\r\n                error: err.message || err,\r\n                code: err.code,\r\n                statusCode: err.statusCode,\r\n              });\r\n\r\n              const error = new Error(`上传失败: ${err.message || \"未知错误\"}`);\r\n              onError?.(error);\r\n              reject(error);\r\n            } else {\r\n              const result: UploadResult = {\r\n                url: data.Location.startsWith(\"http\")\r\n                  ? data.Location\r\n                  : `https://${data.Location}`,\r\n                key: data.Key,\r\n                etag: data.ETag,\r\n                location: data.Location,\r\n              };\r\n\r\n              console.log(\"[COS Uploader] 上传成功\", {\r\n                taskId,\r\n                ...result,\r\n              });\r\n\r\n              onSuccess?.(result);\r\n              resolve(result);\r\n            }\r\n          }\r\n        );\r\n      } catch (error) {\r\n        console.error(\"[COS Uploader] 上传异常\", {\r\n          taskId,\r\n          error: error instanceof Error ? error.message : String(error),\r\n        });\r\n\r\n        const err = error instanceof Error ? error : new Error(\"上传异常\");\r\n        onError?.(err);\r\n        reject(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 取消上传任务\r\n   * @param taskId 任务ID\r\n   */\r\n  cancelUpload(taskId: string): boolean {\r\n    const cosTaskId = this.uploadTasks.get(taskId);\r\n    if (cosTaskId) {\r\n      console.log(\"[COS Uploader] 取消上传任务\", { taskId, cosTaskId });\r\n      this.cos.cancelTask(cosTaskId);\r\n      this.uploadTasks.delete(taskId);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 暂停上传任务\r\n   * @param taskId 任务ID\r\n   */\r\n  pauseUpload(taskId: string): boolean {\r\n    const cosTaskId = this.uploadTasks.get(taskId);\r\n    if (cosTaskId) {\r\n      console.log(\"[COS Uploader] 暂停上传任务\", { taskId, cosTaskId });\r\n      this.cos.pauseTask(cosTaskId);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 恢复上传任务\r\n   * @param taskId 任务ID\r\n   */\r\n  resumeUpload(taskId: string): boolean {\r\n    const cosTaskId = this.uploadTasks.get(taskId);\r\n    if (cosTaskId) {\r\n      console.log(\"[COS Uploader] 恢复上传任务\", { taskId, cosTaskId });\r\n      this.cos.restartTask(cosTaskId);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 生成文件key\r\n   * @param file 文件对象\r\n   * @returns 文件key\r\n   */\r\n  private generateFileKey(file: File): string {\r\n    const timestamp = Date.now();\r\n    const randomStr = Math.random().toString(36).substring(2, 8);\r\n    const fileExt = file.name.split(\".\").pop() || \"\";\r\n    return `uploads/avatar/${timestamp}_${randomStr}.${fileExt}`;\r\n  }\r\n\r\n  /**\r\n   * 获取活跃任务数量\r\n   */\r\n  getActiveTaskCount(): number {\r\n    return this.uploadTasks.size;\r\n  }\r\n\r\n  /**\r\n   * 清理所有任务\r\n   */\r\n  clearAllTasks(): void {\r\n    console.log(\"[COS Uploader] 清理所有任务\", {\r\n      count: this.uploadTasks.size,\r\n    });\r\n    this.uploadTasks.forEach((cosTaskId, taskId) => {\r\n      this.cos.cancelTask(cosTaskId);\r\n    });\r\n    this.uploadTasks.clear();\r\n  }\r\n}\r\n\r\n// 创建默认的COS上传器实例（用于开发环境）\r\n// 生产环境应该使用临时密钥\r\nexport const createCOSUploader = (\r\n  config: Partial<COSConfig> = {}\r\n): COSUploader => {\r\n  const defaultConfig: COSConfig = {\r\n    bucket: \"test-1250000000\", // 默认桶名，需要替换\r\n    region: \"ap-guangzhou\", // 默认地域\r\n    // 开发环境可以使用固定密钥，生产环境应该使用getAuthorization\r\n    // secretId: 'your-secret-id',\r\n    // secretKey: 'your-secret-key',\r\n\r\n    // 生产环境推荐使用临时密钥\r\n    getAuthorization: (options, callback) => {\r\n      // 这里应该调用您的后端服务获取临时密钥\r\n      // 目前先使用mock数据，需要后续实现\r\n      console.warn(\r\n        \"[COS Uploader] 使用模拟授权，生产环境请实现真实的临时密钥获取\",\r\n        options\r\n      );\r\n\r\n      // 模拟异步获取临时密钥\r\n      setTimeout(() => {\r\n        // 注意：这里的数据是假的，您需要从您的后端服务获取真实的临时密钥\r\n        callback({\r\n          TmpSecretId: \"mock-tmp-secret-id\",\r\n          TmpSecretKey: \"mock-tmp-secret-key\",\r\n          SecurityToken: \"mock-security-token\",\r\n          StartTime: Math.floor(Date.now() / 1000),\r\n          ExpiredTime: Math.floor(Date.now() / 1000) + 3600, // 1小时后过期\r\n        });\r\n      }, 100);\r\n    },\r\n    ...config,\r\n  };\r\n\r\n  return new COSUploader(defaultConfig);\r\n};\r\n\r\nexport default COSUploader;\r\n","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  createCOSUploader,\n  type UploadProgress,\n} from \"../../utils/cosUploader\";\n\ninterface AvatarUploaderProps {\n  currentAvatar?: string;\n  onAvatarChange: (avatarUrl: string) => void;\n  size?: \"sm\" | \"md\" | \"lg\";\n  disabled?: boolean;\n}\n\n/**\n * 头像上传组件\n * 支持真实COS上传、进度显示、拖拽上传、取消功能\n */\nconst AvatarUploader: React.FC<AvatarUploaderProps> = ({\n  currentAvatar,\n  onAvatarChange,\n  size = \"md\",\n  disabled = false,\n}) => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [dragOver, setDragOver] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState<UploadProgress | null>(\n    null\n  );\n  const [canCancel, setCanCancel] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const uploaderRef = useRef(createCOSUploader());\n  const currentTaskIdRef = useRef<string | null>(null);\n\n  // 尺寸配置\n  const sizeConfig = {\n    sm: { container: \"w-12 h-12\", icon: \"w-6 h-6\" },\n    md: { container: \"w-16 h-16\", icon: \"w-8 h-8\" },\n    lg: { container: \"w-24 h-24\", icon: \"w-12 h-12\" },\n  };\n\n  const { container, icon } = sizeConfig[size];\n\n  // 组件卸载时清理任务\n  useEffect(() => {\n    return () => {\n      if (currentTaskIdRef.current) {\n        uploaderRef.current.clearAllTasks();\n      }\n    };\n  }, []);\n\n  // 处理文件选择\n  const handleFileSelect = (file: File) => {\n    if (!file.type.startsWith(\"image/\")) {\n      alert(\"请选择图片文件\");\n      return;\n    }\n\n    if (file.size > 5 * 1024 * 1024) {\n      alert(\"图片大小不能超过5MB\");\n      return;\n    }\n\n    uploadFile(file);\n  };\n\n  // 真实文件上传到COS\n  const uploadFile = async (file: File) => {\n    setIsUploading(true);\n    setUploadProgress(null);\n    setCanCancel(true);\n\n    console.log(\"[Avatar Uploader] 开始上传头像\", {\n      fileName: file.name,\n      fileSize: file.size,\n      fileType: file.type,\n    });\n\n    try {\n      // 生成任务ID\n      const taskId = `avatar_${Date.now()}_${Math.random()}`;\n      currentTaskIdRef.current = taskId;\n\n      // 调用COS上传\n      const result = await uploaderRef.current.uploadFile({\n        file,\n        key: `avatar/${Date.now()}_${file.name}`, // 自定义文件路径\n        onProgress: (progress: UploadProgress) => {\n          console.log(\"[Avatar Uploader] 上传进度更新\", progress);\n          setUploadProgress(progress);\n        },\n        onSuccess: (result) => {\n          console.log(\"[Avatar Uploader] 上传成功回调\", result);\n        },\n        onError: (error) => {\n          console.error(\"[Avatar Uploader] 上传错误回调\", error);\n        },\n      });\n\n      console.log(\"[Avatar Uploader] 头像上传完成\", {\n        taskId,\n        url: result.url,\n        key: result.key,\n      });\n\n      // 更新头像URL\n      onAvatarChange(result.url);\n\n      // 重置状态\n      setUploadProgress(null);\n      setCanCancel(false);\n    } catch (error) {\n      console.error(\"[Avatar Uploader] 头像上传失败\", {\n        taskId: currentTaskIdRef.current,\n        error: error instanceof Error ? error.message : String(error),\n      });\n\n      alert(`上传失败: ${error instanceof Error ? error.message : \"未知错误\"}`);\n      setUploadProgress(null);\n      setCanCancel(false);\n    } finally {\n      setIsUploading(false);\n      currentTaskIdRef.current = null;\n    }\n  };\n\n  // 取消上传\n  const handleCancelUpload = () => {\n    if (currentTaskIdRef.current && canCancel) {\n      console.log(\"[Avatar Uploader] 用户取消上传\", {\n        taskId: currentTaskIdRef.current,\n      });\n\n      uploaderRef.current.cancelUpload(currentTaskIdRef.current);\n      setIsUploading(false);\n      setUploadProgress(null);\n      setCanCancel(false);\n      currentTaskIdRef.current = null;\n    }\n  };\n\n  // 处理点击上传\n  const handleClick = () => {\n    if (disabled || isUploading) return;\n    fileInputRef.current?.click();\n  };\n\n  // 处理文件输入变化\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n    // 清空input值，允许重复选择同一文件\n    event.target.value = \"\";\n  };\n\n  // 处理拖拽\n  const handleDragOver = (event: React.DragEvent) => {\n    event.preventDefault();\n    if (!disabled && !isUploading) {\n      setDragOver(true);\n    }\n  };\n\n  const handleDragLeave = (event: React.DragEvent) => {\n    event.preventDefault();\n    setDragOver(false);\n  };\n\n  const handleDrop = (event: React.DragEvent) => {\n    event.preventDefault();\n    setDragOver(false);\n\n    if (disabled || isUploading) return;\n\n    const file = event.dataTransfer.files?.[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  return (\n    <div className=\"relative inline-block\">\n      {/* 隐藏的文件输入 */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileChange}\n        className=\"hidden\"\n        aria-label=\"选择头像图片\"\n      />\n\n      {/* 头像容器 */}\n      <div\n        data-testid=\"avatar-container\"\n        className={`\n          ${container} relative cursor-pointer rounded-full overflow-hidden\n          border-2 border-dashed transition-all duration-200\n          ${\n            dragOver\n              ? \"border-blue-400 bg-blue-50\"\n              : currentAvatar\n              ? \"border-transparent\"\n              : \"border-gray-300 hover:border-gray-400\"\n          }\n          ${disabled ? \"cursor-not-allowed opacity-50\" : \"\"}\n          ${isUploading ? \"cursor-wait\" : \"\"}\n        `}\n        onClick={handleClick}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n        onDrop={handleDrop}\n      >\n        {currentAvatar ? (\n          // 显示当前头像\n          <img\n            src={currentAvatar}\n            alt=\"头像\"\n            className=\"w-full h-full object-cover\"\n          />\n        ) : (\n          // 显示默认占位符\n          <div className=\"w-full h-full bg-gray-100 flex items-center justify-center\">\n            <svg\n              className={`${icon} text-gray-400`}\n              fill=\"currentColor\"\n              viewBox=\"0 0 20 20\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n          </div>\n        )}\n\n        {/* 上传状态遮罩 */}\n        {isUploading && (\n          <div className=\"absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center\">\n            {/* 进度环或加载动画 */}\n            {uploadProgress ? (\n              <div className=\"relative\">\n                <svg\n                  className=\"w-8 h-8 transform -rotate-90\"\n                  viewBox=\"0 0 32 32\"\n                >\n                  <circle\n                    cx=\"16\"\n                    cy=\"16\"\n                    r=\"14\"\n                    stroke=\"rgba(255,255,255,0.3)\"\n                    strokeWidth=\"3\"\n                    fill=\"none\"\n                  />\n                  <circle\n                    cx=\"16\"\n                    cy=\"16\"\n                    r=\"14\"\n                    stroke=\"white\"\n                    strokeWidth=\"3\"\n                    fill=\"none\"\n                    strokeDasharray={`${uploadProgress.percent * 0.88} 88`}\n                    strokeLinecap=\"round\"\n                  />\n                </svg>\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <span className=\"text-xs text-white font-medium\">\n                    {uploadProgress.percent}%\n                  </span>\n                </div>\n              </div>\n            ) : (\n              <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-white border-t-transparent\"></div>\n            )}\n\n            {/* 取消按钮 */}\n            {canCancel && (\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleCancelUpload();\n                }}\n                className=\"mt-2 px-2 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors\"\n              >\n                取消\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* 悬浮编辑提示 */}\n        {!disabled && !isUploading && (\n          <div className=\"absolute inset-0 bg-black bg-opacity-0 hover:bg-opacity-30 transition-all duration-200 flex items-center justify-center\">\n            <svg\n              className=\"w-4 h-4 text-white opacity-0 hover:opacity-100 transition-opacity duration-200\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\"\n              />\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\"\n              />\n            </svg>\n          </div>\n        )}\n      </div>\n\n      {/* 拖拽提示文字 */}\n      {dragOver && (\n        <div className=\"absolute -bottom-8 left-1/2 transform -translate-x-1/2 text-xs text-blue-600 whitespace-nowrap\">\n          释放以上传图片\n        </div>\n      )}\n\n      {/* 上传进度详情（调试信息） */}\n      {uploadProgress && process.env.NODE_ENV === \"development\" && (\n        <div className=\"absolute top-full left-0 mt-2 p-2 bg-black bg-opacity-75 text-white text-xs rounded whitespace-nowrap\">\n          进度: {uploadProgress.percent}% (\n          {Math.round(uploadProgress.loaded / 1024)}KB /{\" \"}\n          {Math.round(uploadProgress.total / 1024)}KB)\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AvatarUploader;\n","import { create } from \"zustand\";\r\nimport { persist } from \"zustand/middleware\";\r\n\r\n// 用户信息接口\r\nexport interface UserInfo {\r\n  id: string;\r\n  name: string;\r\n  email?: string;\r\n  phone?: string;\r\n  avatar?: string;\r\n  nickname: string;\r\n  createdAt: string;\r\n}\r\n\r\n// 用户状态接口\r\ninterface UserStore {\r\n  // 状态\r\n  isLoggedIn: boolean;\r\n  user: UserInfo | null;\r\n  token: string | null;\r\n  isLoading: boolean;\r\n\r\n  // 操作方法\r\n  login: (user: UserInfo, token: string) => void;\r\n  logout: () => void;\r\n  updateUser: (updates: Partial<UserInfo>) => void;\r\n  updateAvatar: (avatarUrl: string) => void;\r\n\r\n  // Mock登录方法（用于开发阶段）\r\n  mockLogin: () => void;\r\n}\r\n\r\nexport const useUserStore = create<UserStore>()(\r\n  persist(\r\n    (set, get) => ({\r\n      isLoggedIn: false,\r\n      user: null,\r\n      token: null,\r\n      isLoading: false,\r\n\r\n      login: (user, token) => {\r\n        set({\r\n          isLoggedIn: true,\r\n          user,\r\n          token,\r\n          isLoading: false,\r\n        });\r\n      },\r\n\r\n      logout: () => {\r\n        set({\r\n          isLoggedIn: false,\r\n          user: null,\r\n          token: null,\r\n          isLoading: false,\r\n        });\r\n        // 清除localStorage中的token\r\n        localStorage.removeItem(\"authToken\");\r\n      },\r\n\r\n      updateUser: (updates) => {\r\n        const state = get();\r\n        if (state.user) {\r\n          set({\r\n            user: { ...state.user, ...updates },\r\n          });\r\n        }\r\n      },\r\n\r\n      updateAvatar: (avatarUrl) => {\r\n        const state = get();\r\n        if (state.user) {\r\n          set({\r\n            user: { ...state.user, avatar: avatarUrl },\r\n          });\r\n        }\r\n      },\r\n\r\n      // Mock登录方法（用于开发阶段）\r\n      mockLogin: () => {\r\n        const mockUser: UserInfo = {\r\n          id: \"mock-user-1\",\r\n          name: \"张三\",\r\n          nickname: \"小张\",\r\n          email: \"zhangsan@example.com\",\r\n          phone: \"13800138000\",\r\n          avatar: \"\",\r\n          createdAt: new Date().toISOString(),\r\n        };\r\n\r\n        const mockToken = \"mock-token-\" + Date.now();\r\n\r\n        // 保存token到localStorage\r\n        localStorage.setItem(\"authToken\", mockToken);\r\n\r\n        get().login(mockUser, mockToken);\r\n      },\r\n    }),\r\n    {\r\n      name: \"user-storage\",\r\n      partialize: (state) => ({\r\n        isLoggedIn: state.isLoggedIn,\r\n        user: state.user,\r\n        token: state.token,\r\n      }),\r\n    }\r\n  )\r\n);\r\n","import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport BottomNavigation from \"../../components/common/BottomNavigation\";\r\nimport StatusBar from \"../../components/common/StatusBar\";\r\nimport AvatarUploader from \"../../components/ui/AvatarUploader\";\r\nimport { useUserStore } from \"../../stores/userStore\";\r\n\r\n/**\r\n * Profile页面组件 - 个人中心页面\r\n * 提供用户信息管理和各种功能入口\r\n */\r\nconst ProfilePage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { isLoggedIn, user, updateAvatar, mockLogin, logout } = useUserStore();\r\n\r\n  // 主要功能菜单项\r\n  const mainFeatures = [\r\n    {\r\n      id: \"favorites\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"收藏\",\r\n      color: \"text-red-500\",\r\n    },\r\n    {\r\n      id: \"history\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"足迹\",\r\n      color: \"text-green-500\",\r\n    },\r\n    {\r\n      id: \"wallet\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"钱包\",\r\n      color: \"text-purple-500\",\r\n    },\r\n  ];\r\n\r\n  // 订单状态项\r\n  const orderStatuses = [\r\n    {\r\n      id: \"pending_payment\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"待付款\",\r\n      color: \"text-orange-500\",\r\n    },\r\n    {\r\n      id: \"pending_shipment\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"待发货\",\r\n      color: \"text-blue-500\",\r\n    },\r\n    {\r\n      id: \"pending_delivery\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M8 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"待收货\",\r\n      color: \"text-green-500\",\r\n    },\r\n    {\r\n      id: \"pending_review\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"待评价\",\r\n      color: \"text-yellow-500\",\r\n    },\r\n    {\r\n      id: \"refund_service\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-6 h-6\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"退款/售后\",\r\n      color: \"text-red-500\",\r\n    },\r\n  ];\r\n\r\n  // 设置菜单项\r\n  const settingsItems = [\r\n    {\r\n      id: \"account\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"账户管理\",\r\n      description: \"个人信息、密码设置\",\r\n    },\r\n    {\r\n      id: \"address\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n          ></path>\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"收货地址\",\r\n      description: \"管理您的收货地址\",\r\n    },\r\n    {\r\n      id: \"notifications\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M15 17h5l-5 5v-5zM10.6 14.4a9 9 0 01-5.2-5.2m5.2 5.2L15 20m-4.4-5.6c-1.1-1.1-1.6-2.7-1.6-4.4C9 7.8 10.8 6 13 6s4 1.8 4 4c0 1.7-.5 3.3-1.6 4.4\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"消息通知\",\r\n      description: \"推送和通知设置\",\r\n    },\r\n    {\r\n      id: \"privacy\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"隐私设置\",\r\n      description: \"数据和隐私保护\",\r\n    },\r\n    {\r\n      id: \"security\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"安全设置\",\r\n      description: \"密码、二步验证\",\r\n    },\r\n    {\r\n      id: \"help\",\r\n      icon: (\r\n        <svg\r\n          className=\"w-5 h-5\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth=\"2\"\r\n            d=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n          ></path>\r\n        </svg>\r\n      ),\r\n      label: \"帮助中心\",\r\n      description: \"常见问题和客服支持\",\r\n    },\r\n  ];\r\n\r\n  // 处理功能点击\r\n  const handleFeatureClick = (featureId: string) => {\r\n    console.log(\"点击功能:\", featureId);\r\n    switch (featureId) {\r\n      case \"favorites\":\r\n        // TODO: 导航到收藏页面\r\n        alert(\"收藏功能开发中...\");\r\n        break;\r\n      case \"history\":\r\n        // TODO: 导航到足迹页面\r\n        alert(\"浏览足迹功能开发中...\");\r\n        break;\r\n      case \"wallet\":\r\n        // TODO: 导航到钱包页面\r\n        alert(\"钱包功能开发中...\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  // 处理订单状态点击\r\n  const handleOrderStatusClick = (statusId: string) => {\r\n    console.log(\"点击订单状态:\", statusId);\r\n    // 映射Profile页面的状态ID到订单列表页面的状态参数\r\n    const statusMapping: { [key: string]: string } = {\r\n      pending_payment: \"pending\", // 待付款 → pending\r\n      pending_shipment: \"paid\", // 待发货 → paid\r\n      pending_delivery: \"shipped\", // 待收货 → shipped\r\n      pending_review: \"delivered\", // 待评价 → delivered\r\n      refund_service: \"cancelled\", // 退款/售后 → cancelled\r\n    };\r\n\r\n    const mappedStatus = statusMapping[statusId];\r\n    if (mappedStatus) {\r\n      navigate(`/orders?status=${mappedStatus}`);\r\n    } else {\r\n      // 如果没有映射关系，默认跳转到全部订单\r\n      navigate(\"/orders\");\r\n    }\r\n  };\r\n\r\n  // 处理查看全部订单\r\n  const handleViewAllOrders = () => {\r\n    navigate(\"/orders\");\r\n  };\r\n\r\n  // 处理设置项点击\r\n  const handleSettingClick = (settingId: string) => {\r\n    console.log(\"点击设置:\", settingId);\r\n    switch (settingId) {\r\n      case \"account\":\r\n        alert(\"账户管理功能开发中...\");\r\n        break;\r\n      case \"address\":\r\n        alert(\"地址管理功能开发中...\");\r\n        break;\r\n      case \"notifications\":\r\n        alert(\"消息通知设置功能开发中...\");\r\n        break;\r\n      case \"privacy\":\r\n        alert(\"隐私设置功能开发中...\");\r\n        break;\r\n      case \"security\":\r\n        alert(\"安全设置功能开发中...\");\r\n        break;\r\n      case \"help\":\r\n        alert(\"帮助中心功能开发中...\");\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  // 处理头像更改\r\n  const handleAvatarChange = (avatarUrl: string) => {\r\n    updateAvatar(avatarUrl);\r\n  };\r\n\r\n  // 处理用户信息点击（查看个人资料或登录）\r\n  const handleUserInfoClick = () => {\r\n    if (!isLoggedIn) {\r\n      mockLogin();\r\n    } else {\r\n      // 已登录状态下点击查看个人资料\r\n      alert(\"个人资料编辑功能开发中...\");\r\n    }\r\n  };\r\n\r\n  // 处理退出登录\r\n  const handleLogout = () => {\r\n    if (confirm(\"确定要退出登录吗？\")) {\r\n      logout();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <StatusBar />\r\n\r\n      {/* 主要内容区域 */}\r\n      <div className=\"pb-20 pt-12\">\r\n        {/* 用户信息卡片 */}\r\n        <div className=\"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-8 text-white\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            {/* 用户头像 - 使用头像上传组件 */}\r\n            <AvatarUploader\r\n              currentAvatar={user?.avatar}\r\n              onAvatarChange={handleAvatarChange}\r\n              size=\"lg\"\r\n              disabled={!isLoggedIn}\r\n            />\r\n\r\n            {/* 用户信息 */}\r\n            <div\r\n              className=\"flex-1 cursor-pointer\"\r\n              onClick={handleUserInfoClick}\r\n            >\r\n              <h2 className=\"text-xl font-bold mb-1\">\r\n                {isLoggedIn ? user?.nickname || user?.name : \"点击登录\"}\r\n              </h2>\r\n              <p className=\"text-blue-100 text-sm\">\r\n                {isLoggedIn ? \"点击查看和编辑个人资料\" : \"登录后享受更多服务\"}\r\n              </p>\r\n              {isLoggedIn && user?.email && (\r\n                <p className=\"text-blue-200 text-xs mt-1\">{user.email}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* 登录状态指示 */}\r\n            {!isLoggedIn && (\r\n              <div className=\"flex items-center justify-center w-8 h-8 bg-white bg-opacity-20 rounded-full\">\r\n                <svg\r\n                  className=\"w-4 h-4 text-white\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth=\"2\"\r\n                    d=\"M9 5l7 7-7 7\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 订单卡片区域 */}\r\n        <div className=\"bg-white mx-4 mt-4 rounded-lg shadow-sm\">\r\n          {/* 订单标题栏 */}\r\n          <div className=\"flex items-center justify-between px-6 py-4 border-b border-gray-100\">\r\n            <h3 className=\"text-lg font-medium text-gray-900\">我的订单</h3>\r\n            <button\r\n              onClick={handleViewAllOrders}\r\n              className=\"flex items-center text-sm text-gray-500 hover:text-blue-600\"\r\n            >\r\n              <span>全部</span>\r\n              <svg\r\n                className=\"w-4 h-4 ml-1\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth=\"2\"\r\n                  d=\"M9 5l7 7-7 7\"\r\n                ></path>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n\r\n          {/* 订单状态列表 */}\r\n          <div className=\"grid grid-cols-5 gap-2 p-6\">\r\n            {orderStatuses.map((status) => (\r\n              <div\r\n                key={status.id}\r\n                className=\"flex flex-col items-center space-y-2 cursor-pointer\"\r\n                onClick={() => handleOrderStatusClick(status.id)}\r\n              >\r\n                <div className={`p-3 rounded-full bg-gray-50 ${status.color}`}>\r\n                  {status.icon}\r\n                </div>\r\n                <span className=\"text-xs text-gray-600 font-medium text-center\">\r\n                  {status.label}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 主要功能区域 */}\r\n        <div className=\"bg-white mx-4 mt-4 rounded-lg shadow-sm\">\r\n          <div className=\"grid grid-cols-3 gap-4 p-6\">\r\n            {mainFeatures.map((feature) => (\r\n              <div\r\n                key={feature.id}\r\n                className=\"flex flex-col items-center space-y-2 cursor-pointer\"\r\n                onClick={() => handleFeatureClick(feature.id)}\r\n              >\r\n                <div className={`p-3 rounded-full bg-gray-50 ${feature.color}`}>\r\n                  {feature.icon}\r\n                </div>\r\n                <span className=\"text-sm text-gray-600 font-medium\">\r\n                  {feature.label}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* 设置菜单 */}\r\n        <div className=\"bg-white mx-4 mt-4 rounded-lg shadow-sm overflow-hidden\">\r\n          {settingsItems.map((item, index) => (\r\n            <div\r\n              key={item.id}\r\n              className={`px-6 py-4 flex items-center space-x-4 cursor-pointer hover:bg-gray-50 ${\r\n                index !== settingsItems.length - 1\r\n                  ? \"border-b border-gray-100\"\r\n                  : \"\"\r\n              }`}\r\n              onClick={() => handleSettingClick(item.id)}\r\n            >\r\n              <div className=\"text-gray-400\">{item.icon}</div>\r\n              <div className=\"flex-1\">\r\n                <div className=\"font-medium text-gray-900\">{item.label}</div>\r\n                <div className=\"text-sm text-gray-500\">{item.description}</div>\r\n              </div>\r\n              <svg\r\n                className=\"w-4 h-4 text-gray-400\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth=\"2\"\r\n                  d=\"M9 5l7 7-7 7\"\r\n                ></path>\r\n              </svg>\r\n            </div>\r\n          ))}\r\n\r\n          {/* 退出登录按钮 - 仅在已登录时显示 */}\r\n          {isLoggedIn && (\r\n            <div\r\n              className=\"px-6 py-4 flex items-center space-x-4 cursor-pointer hover:bg-red-50 border-t border-gray-100\"\r\n              onClick={handleLogout}\r\n            >\r\n              <div className=\"text-red-500\">\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth=\"2\"\r\n                    d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div className=\"flex-1\">\r\n                <div className=\"font-medium text-red-600\">退出登录</div>\r\n                <div className=\"text-sm text-red-400\">安全退出当前账户</div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <BottomNavigation />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"],"names":["root","factory","module","this","modules","installedModules","__webpack_require__","moduleId","exports","name","getter","value","mode","ns","key","object","property","COS","Base64","global","_Base64","version","b64chars","b64tab","bin","t","i","l","fromCharCode","cb_utob","c","cc","re_utob","utob","u","cb_encode","ccc","padlen","ord","chars","btoa","b","_encode","encode","urisafe","m0","encodeURI","re_btou","cb_btou","cccc","cp","offset","btou","cb_decode","len","n","atob","a","_decode","decode","noConflict","_typeof","CryptoJS","g","e","d","m","k","p","q","f","j","h","r","s","C","C_lib","WordArray","C_enc","wordArray","words","sigBytes","map","base64Chars","byte1","byte2","byte3","triplet","paddingChar","base64Str","base64StrLength","paddingIndex","nBytes","bits1","bits2","__WEBPACK_AMD_DEFINE_RESULT__","WINDOW","WEB_WORKER","COMMON_JS","AMD","ARRAY_BUFFER","HEX_CHARS","EXTRA","SHIFT","OUTPUT_TYPES","BASE64_ENCODE_CHAR","blocks","buffer8","buffer","obj","createOutputMethod","outputType","message","isBinStr","Md5","createMethod","method","type","sharedMemory","code","index","length","bc","da","h0","h1","h2","h3","format","res","v1","v2","v3","bytes","stringifyPrimitive","v","queryStringify","sep","eq","ks","xhrRes","err","xhr","body","headers","strHeaders","item","val","xhrBody","dataType","request","opt","callback","url","qsStr","xhrField","event","error","_classCallCheck","toPropertyKey","_defineProperties","o","_createClass","_defineProperty","toPrimitive","validator","XMLParser","XMLBuilder","getIgnoreAttributesFn","ignoreAttributes","attrName","pattern","nameStartChar","nameChar","nameRegexp","regexName","getAllMatches","string","regex","matches","match","allmatches","isName","target","arrayMode","keys","util","defaultOptions","xmlData","options","tags","tagFound","reachedRoot","readPI","tagStartPos","readCommentAndCDATA","closingTag","tagName","validateTagName","msg","getErrorObject","getLineNumberForPosition","result","readAttributeStr","attrStr","attrStrStart","isValid","validateAttributeString","otg","openPos","afterAmp","validateAmpersand","isWhiteSpace","char","start","tagname","angleBracketsCount","doubleQuote","singleQuote","startChar","tagClosed","validAttrStrRegxp","attrNames","getPositionFromMatch","validateAttrName","validateNumberAmpersand","re","count","lineNumber","lines","buildFromOrderedJs","Builder","isAttribute","processTextOrObjNode","indentate","jObj","level","ajPath","jPath","attr","newval","arrLen","listTagVal","listTagAttr","textValue","Ks","L","tagEndExp","piClosingChar","closeTag","entity","EOL","toXml","jArray","indentation","arrToStr","arr","xmlStr","isPreviousElementTag","tagObj","propName","newJPath","tagText","isStopNode","replaceEntitiesValue","attStr","attr_to_str","tempInd","piTextNodeName","newIdentation","tagStart","tagValue","attrMap","attrVal","readDocType","entities","hasBody","comment","exp","isEntity","readEntityExp","validateEntityName","isElement","isAttlist","isNotation","isComment","entityName","attrs","buildOptions","xmlNode","toNumber","OrderedObjParser","_","str","addExternalEntities","parseXml","parseTextData","resolveNameSpace","buildAttributesMap","isItStopNode","readStopNodeData","saveTextToParentTag","addChild","externalEntities","entKeys","ent","dontTrim","hasAttributes","isLeafNode","escapeEntities","parseValue","prefix","attrsRegx","oldVal","aName","newVal","attrCollection","xmlObj","currentNode","textData","closeIndex","findClosingIndex","colonIndex","lastTagName","propIndex","tagData","readTagExp","childNode","endIndex","tagExp","rawTagName","attrExpPresent","lastTag","tagContent","stopNodes","currentTagName","allNodesExp","stopNodePath","stopNodeExp","tagExpWithClosingIndex","closingChar","attrBoundary","ch","errMsg","closingIndex","removeNSPrefix","separatorIndex","startIndex","openTagCount","shouldParse","prettify","validationOption","orderedObjParser","orderedResult","node","compress","text","compressedObj","newJpath","isLeaf","isLeafTag","assignAttributes","jpath","atrrName","textNodeName","propCount","XmlNode","process","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","args","Item","array","noop","dir","hexRegex","numRegex","consider","trimmedStr","parse_int","notation","sign","leadingZeros","numTrimmedByZeros","trimZeros","num","numStr","base","__webpack_amd_options__","session","Async","EventProxy","Tracker","sliceUploadFile","params","self","ep","TaskId","Bucket","Region","Key","Body","ChunkSize","AsyncLimit","StorageClass","ServerSideEncryption","FileSize","onProgress","onHashProgress","tracker","UploadCompleteData","_UploadCompleteData","UploadData","metaHeaders","shortKey","uploadSliceComplete","data","uuid","uploadSliceList","_params","getUploadIdAndPartList","SIZE","AutoChunkSize","ETagMap","SliceSize","SliceCount","FinishSize","getChunkETag","PartNumber","end","chunkItem","md5","ETag","isAvailableUploadList","PartList","PartCount","PartSliceSize","_next","Part","chunk","errData","list","UploadId","UploadIdList","asyncCallback","wholeMultipartListPart","PartListData","isAvailable","AvailableUploadData","RemoteUploadIdList","LocalUploadIdList","_next2","wholeMultipartList","UploadList","sendParams","_next3","_next4","cb","ChunkParallel","Headers","needUploadSlices","SliceItem","_onProgress2","currentSize","preAddSize","uploadSliceItem","FileBody","ChunkRetryTimes","ContentLength","headersWhiteList","PartItem","tryCallback","SliceList","Parts","abortUploadTask","Level","AbortArray","abortUploadTaskArray","resultList","AbortItem","nextItem","eachIndex","task","successList","errorList","uploadFile","taskList","fileInfo","accelerate","realApi","_onTaskReady","onTaskReady","tid","api","_onFileFinish","onFileFinish","uploadFiles","TotalSize","TotalFinish","onTotalProgress","unFinishCount","_onTotalFileFinish","onTotalFileFinish","fileParams","PreAddSize","_onProgress","info","sliceCopyFile","CopySource","SourceBucket","SourceRegion","SourceKey","CopySliceSize","ChunkCount","SourceResHeaders","SourceHeaders","TargetHeader","needCopySlices","CopySourceRange","copySliceItem","createNewUploadId","_next5","finishETagMap","size","partNumber","restoreHeader","resHeaders","metaPrefix","API_MAP","fn","apiName","eachLimit","limit","iterator","completed","started","running","replenish","retry","times","async","ownKeys","_objectSpread","REQUEST","getService","protocol","domain","appId","region","SignHost","standardHost","urlHost","submitRequest","buckets","owner","putBucket","xml","CreateBucketConfiguration","getUrl","headBucket","getBucket","reqParams","ListBucketResult","Contents","CommonPrefixes","deleteBucket","putBucketAcl","AccessControlPolicy","Grants","uniqGrant","getBucketAcl","Owner","Grant","decodeAcl","putBucketCors","CORSConfiguration","CORSRules","rule","sKey","Conf","getBucketCors","ResponseVary","deleteBucketCors","getBucketLocation","putBucketPolicy","Policy","PolicyStr","getBucketPolicy","deleteBucketPolicy","putBucketTagging","Tagging","Tags","getBucketTagging","deleteBucketTagging","putBucketLifecycle","LifecycleConfiguration","Rules","getBucketLifecycle","deleteBucketLifecycle","putBucketVersioning","VersioningConfiguration","getBucketVersioning","putBucketReplication","ReplicationConfiguration","getBucketReplication","deleteBucketReplication","putBucketWebsite","WebsiteConfiguration","RoutingRules","getBucketWebsite","deleteBucketWebsite","putBucketReferer","RefererConfiguration","DomainList","Domains","getBucketReferer","putBucketDomain","DomainConfiguration","DomainRule","getBucketDomain","deleteBucketDomain","putBucketOrigin","OriginConfiguration","OriginRule","getBucketOrigin","deleteBucketOrigin","putBucketLogging","getBucketLogging","submitBucketInventory","InventoryConfiguration","Field","Encryption","action","putBucketInventory","postBucketInventory","getBucketInventory","listBucketInventory","ListInventoryConfigurationResult","InventoryConfigurations","deleteBucketInventory","putBucketAccelerate","configuration","getBucketAccelerate","putBucketEncryption","conf","getBucketEncryption","deleteBucketEncryption","headObject","statusCode","listObjectVersions","ListVersionsResult","DeleteMarkers","Versions","getObject","formatKey","reqParamsStr","putObject","needCalcMd5","deleteObject","getObjectAcl","putObjectAcl","optionsObject","putObjectCopy","uploadPartCopy","deleteMultipleObject","Objects","Quiet","Scope","DeleteResult","Deleted","Errors","restoreObject","RestoreRequest","putObjectTagging","getObjectTagging","deleteObjectTagging","selectObjectContent","SelectType","SelectRequest","multipartInit","multipartUpload","multipartComplete","callbackResult","returnBodyResult","multipartList","Upload","multipartListPart","ListPartsResult","multipartAbort","appendObject","getAuth","getObjectUrl","useAccelerate","queryParamsStr","syncUrl","getSignHost","AuthData","getAuthorizationAsync","replaceUrlParamList","urlParams","encodedParams","reg","replacedUrl","signUrl","GrantMap","AccessControlList","PublicAcl","uriMatch","exist","longBucket","shortBucket","paramsCompleted","headerHost","forceSignHost","cbDone","KeyName","Pathname","StsData","Action","ResourceKey","ScopeKey","compareTime","calcAuthByTmpKey","KeyTime","Authorization","checkAuthError","formatAllow","auth","AuthError","allowRetry","canRetry","isTimeError","networkError","serverDate","errorCode","errorMessage","serverTime","canSwitchHost","_ref","requestUrl","clientCalcSign","commonReg","accelerateReg","isCommonCosHost","Query","paramsUrl","tryTimes","oldClockOffset","logParams","_submitRequest","switchHost","bucket","rawBody","repoterUrl","token","contentLength","loaded","requestUid","queryString","fullUrl","_opt$body","sender","receive","response","hasReturned","_killTask","pHeaders","statusSuccess","content","json","errorBody","warnOldApi","proto","suffix","oldName","apiFn","warned","advance","Logger","pkg","_this$options$LogLeve","_this$options$LogExtr","_this","initEvent","cos","listeners","getList","pkgVersion","logLevelList","_params$enableLog","_len","_key","_len2","_key2","_len3","_key3","_len4","_key4","_ref$cate","cate","_ref$tag","tag","logMsg","cacheKey","expires","cache","timer","getCache","setCache","init","changed","now","mtime","save","mod","file","copySource","sourceHeaders","etag","lastModified","originApiMap","transferToTaskMethod","apiMap","initTask","tasks","uploadingFileCount","nextUploadIndex","formatTask","emitListUpdate","emit","clearQueue","isActive","_startNextTask","apiParams","killTask","id","switchToState","waiting","isTaskReadyWarning","ignoreAddEvent","beacon","getBeacon","Beacon","delay","ms2s","ms","utils","S4","connection","agent","isMac","isMobile","explorer","mobileOsType","pcOsType","devicePlatform","ua","transApiName","camel2underline","formatParams","formattedParams","successKeys","failureKeys","reporterKeys","formattedKey","parent","traceId","httpMethod","fileKey","fileSize","customId","deepTracker","clsReporter","appid","_err$error","_err$error2","_err$error3","_err$error4","_err$error5","_err$error6","networkType","errorName","errorServiceName","errorHttpCode","requestId","errorType","isSliceUploadFile","isSliceCopyFile","speed","httpFullTime","httpTookTime","_speed","httpMd5","httpSign","execRes","eventCode","immediate","subParams","_createForOfIteratorHelper","_unsupportedIterableToArray","_n","F","_arrayLikeToArray","_require","xmlParser","xmlBuilder","base64","_deleteTextNodes","isObject","xml2json","bodyStr","json2xml","camSafeUrlEncode","getObjectKeys","forKey","obj2str","lowerCaseKey","keyList","signHeaders","getSignHeaderObj","signHeaderObj","SecretId","SecretKey","queryParams","clone","pathname","getSkewTime","Expires","qSignAlgorithm","qAk","qSignTime","qKeyTime","qHeaderList","qUrlParamList","signKey","formatString","stringToSign","qSignature","authorization","readIntBE","buf","buf2str","isUtf8","charCode","parseSelectPayload","header","totalLength","headerLength","payloadRestLength","headerNameLength","headerName","headerValueLength","headerValue","errCode","errMessage","getSourceParams","source","parser","clearKey","retObj","readAsBinaryString","blob","readFun","fr","fileData","binary","reader","fileSliceNeedCopy","compareVersion","check","ChromeVersion","QBCoreVersion","QQBrowserVersion","need","fileSlice","isUseToUpload","getBodyMd5","UploadCheckContentMd5","md5ChunkSize","getFileMd5","md5ctx","hash","defaultValue","extend","each","isArray","isInArray","flag","makeArray","filter","iaArr","b64","hasMissingParams","Domain","checkBucket","checkRegion","headerMap","paramKey","headerKey","apiWrapper","formatResult","_callback","checkParams","missingResult","isSync","resolve","reject","throttleOnProgress","total","size0","size1","time0","time1","update","percent","immediately","getFileSize","sourceErr","isWebWorker","isNode","isCIHost","isIOS","isQQ","encodeBase64","safe","decodeBase64","simplifyPath","path","names","stack","_iterator","_step","parseResBody","responseBody","trimBody","isXml","isJson","formatBody","parsedBody","COSUploader","config","__publicField","onSuccess","onError","taskId","progressData","progress","cosTaskId","timestamp","randomStr","fileExt","createCOSUploader","defaultConfig","AvatarUploader","currentAvatar","onAvatarChange","disabled","isUploading","setIsUploading","useState","dragOver","setDragOver","uploadProgress","setUploadProgress","canCancel","setCanCancel","fileInputRef","useRef","uploaderRef","currentTaskIdRef","sizeConfig","container","icon","useEffect","handleFileSelect","handleCancelUpload","handleClick","_a","handleFileChange","handleDragOver","handleDragLeave","handleDrop","jsxs","jsx","useUserStore","create","persist","set","get","user","updates","state","avatarUrl","mockUser","mockToken","ProfilePage","navigate","useNavigate","isLoggedIn","updateAvatar","mockLogin","logout","mainFeatures","orderStatuses","settingsItems","handleFeatureClick","featureId","handleOrderStatusClick","statusId","mappedStatus","handleViewAllOrders","handleSettingClick","settingId","handleAvatarChange","handleUserInfoClick","handleLogout","StatusBar","status","feature","BottomNavigation"],"mappings":"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","x_google_ignoreList":[0]}